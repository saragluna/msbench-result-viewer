var Hn=Object.defineProperty;var Jn=(l,e,t)=>e in l?Hn(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var gt=(l,e,t)=>Jn(l,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();function G(){}function Bn(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}function Rn(l){return l()}function Bt(){return Object.create(null)}function Pe(l){l.forEach(Rn)}function Mt(l){return typeof l=="function"}function Ee(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function Dn(l){return Object.keys(l).length===0}function Et(l,...e){if(l==null){for(const n of e)n(void 0);return G}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function $n(l){let e;return Et(l,t=>e=t)(),e}function Ne(l,e,t){l.$$.on_destroy.push(Et(e,t))}const Un=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function c(l,e){l.appendChild(e)}function C(l,e,t){l.insertBefore(e,t||null)}function I(l){l.parentNode&&l.parentNode.removeChild(l)}function je(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function d(l){return document.createElement(l)}function N(l){return document.createTextNode(l)}function S(){return N(" ")}function ve(){return N("")}function ne(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function Dt(l){return function(e){return e.preventDefault(),l.call(this,e)}}function r(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function zn(l){return Array.from(l.childNodes)}function q(l,e){e=""+e,l.data!==e&&(l.data=e)}function $t(l,e){l.value=e??""}function Re(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,"")}function qe(l,e,t){l.classList.toggle(e,!!t)}function Vn(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}let st;function He(l){st=l}function vt(){if(!st)throw new Error("Function called outside component initialization");return st}function St(l){vt().$$.on_mount.push(l)}function Wn(l){vt().$$.on_destroy.push(l)}function Gn(){const l=vt();return(e,t,{cancelable:n=!1}={})=>{const s=l.$$.callbacks[e];if(s){const i=Vn(e,t,{cancelable:n});return s.slice().forEach(o=>{o.call(l,i)}),!i.defaultPrevented}return!0}}const et=[],Le=[];let tt=[];const Nt=[],An=Promise.resolve();let jt=!1;function Tn(){jt||(jt=!0,An.then(Lt))}function ft(){return Tn(),An}function Rt(l){tt.push(l)}function Ut(l){Nt.push(l)}const kt=new Set;let Xe=0;function Lt(){if(Xe!==0)return;const l=st;do{try{for(;Xe<et.length;){const e=et[Xe];Xe++,He(e),Kn(e.$$)}}catch(e){throw et.length=0,Xe=0,e}for(He(null),et.length=0,Xe=0;Le.length;)Le.pop()();for(let e=0;e<tt.length;e+=1){const t=tt[e];kt.has(t)||(kt.add(t),t())}tt.length=0}while(et.length);for(;Nt.length;)Nt.pop()();jt=!1,kt.clear(),He(l)}function Kn(l){if(l.fragment!==null){l.update(),Pe(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(Rt)}}function Yn(l){const e=[],t=[];tt.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),tt=e}const at=new Set;let Ke;function Ue(){Ke={r:0,c:[],p:Ke}}function ze(){Ke.r||Pe(Ke.c),Ke=Ke.p}function ge(l,e){l&&l.i&&(at.delete(l),l.i(e))}function ye(l,e,t,n){if(l&&l.o){if(at.has(l))return;at.add(l),Ke.c.push(()=>{at.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function zt(l,e){const t=e.token={};function n(s,i,o,a){if(e.token!==t)return;e.resolved=a;let f=e.ctx;o!==void 0&&(f=f.slice(),f[o]=a);const u=s&&(e.current=s)(f);let _=!1;e.block&&(e.blocks?e.blocks.forEach((p,v)=>{v!==i&&p&&(Ue(),ye(p,1,1,()=>{e.blocks[v]===p&&(e.blocks[v]=null)}),ze())}):e.block.d(1),u.c(),ge(u,1),u.m(e.mount(),e.anchor),_=!0),e.block=u,e.blocks&&(e.blocks[i]=u),_&&Lt()}if(Bn(l)){const s=vt();if(l.then(i=>{He(s),n(e.then,1,e.value,i),He(null)},i=>{if(He(s),n(e.catch,2,e.error,i),He(null),!e.hasCatch)throw i}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,l),!0;e.resolved=l}}function Qn(l,e,t){const n=e.slice(),{resolved:s}=l;l.current===l.then&&(n[l.value]=s),l.current===l.catch&&(n[l.error]=s),l.block.p(n,t)}function se(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function qn(l,e){l.d(1),e.delete(l.key)}function On(l,e,t,n,s,i,o,a,f,u,_,p){let v=l.length,m=i.length,h=v;const k={};for(;h--;)k[l[h].key]=h;const g=[],b=new Map,y=new Map,w=[];for(h=m;h--;){const R=p(s,i,h),A=t(R);let j=o.get(A);j?w.push(()=>j.p(R,e)):(j=u(A,R),j.c()),b.set(A,g[h]=j),A in k&&y.set(A,Math.abs(h-k[A]))}const F=new Set,P=new Set;function E(R){ge(R,1),R.m(a,_),o.set(R.key,R),_=R.first,m--}for(;v&&m;){const R=g[m-1],A=l[v-1],j=R.key,T=A.key;R===A?(_=R.first,v--,m--):b.has(T)?!o.has(j)||F.has(j)?E(R):P.has(T)?v--:y.get(j)>y.get(T)?(P.add(j),E(R)):(F.add(T),v--):(f(A,o),v--)}for(;v--;){const R=l[v];b.has(R.key)||f(R,o)}for(;m;)E(g[m-1]);return Pe(w),g}function Vt(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function $e(l){l&&l.c()}function Je(l,e,t){const{fragment:n,after_update:s}=l.$$;n&&n.m(e,t),Rt(()=>{const i=l.$$.on_mount.map(Rn).filter(Mt);l.$$.on_destroy?l.$$.on_destroy.push(...i):Pe(i),l.$$.on_mount=[]}),s.forEach(Rt)}function Be(l,e){const t=l.$$;t.fragment!==null&&(Yn(t.after_update),Pe(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Xn(l,e){l.$$.dirty[0]===-1&&(et.push(l),Tn(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function We(l,e,t,n,s,i,o=null,a=[-1]){const f=st;He(l);const u=l.$$={fragment:null,ctx:[],props:i,update:G,not_equal:s,bound:Bt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Bt(),dirty:a,skip_bound:!1,root:e.target||f.$$.root};o&&o(u.root);let _=!1;if(u.ctx=t?t(l,e.props||{},(p,v,...m)=>{const h=m.length?m[0]:v;return u.ctx&&s(u.ctx[p],u.ctx[p]=h)&&(!u.skip_bound&&u.bound[p]&&u.bound[p](h),_&&Xn(l,p)),v}):[],u.update(),_=!0,Pe(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const p=zn(e.target);u.fragment&&u.fragment.l(p),p.forEach(I)}else u.fragment&&u.fragment.c();e.intro&&ge(l.$$.fragment),Je(l,e.target,e.anchor),Lt()}He(f)}class Ge{constructor(){gt(this,"$$");gt(this,"$$set")}$destroy(){Be(this,1),this.$destroy=G}$on(e,t){if(!Mt(t))return G;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Dn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Zn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Zn);const Ze=[];function xn(l,e){return{subscribe:Ye(l,e).subscribe}}function Ye(l,e=G){let t;const n=new Set;function s(a){if(Ee(l,a)&&(l=a,t)){const f=!Ze.length;for(const u of n)u[1](),Ze.push(u,l);if(f){for(let u=0;u<Ze.length;u+=2)Ze[u][0](Ze[u+1]);Ze.length=0}}}function i(a){s(a(l))}function o(a,f=G){const u=[a,f];return n.add(u),n.size===1&&(t=e(s,i)||G),a(l),()=>{n.delete(u),n.size===0&&t&&(t(),t=null)}}return{set:s,update:i,subscribe:o}}function ot(l,e,t){const n=!Array.isArray(l),s=n?[l]:l;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=e.length<2;return xn(t,(o,a)=>{let f=!1;const u=[];let _=0,p=G;const v=()=>{if(_)return;p();const h=e(n?u[0]:u,o,a);i?o(h):p=Mt(h)?h:G},m=s.map((h,k)=>Et(h,g=>{u[k]=g,_&=~(1<<k),f&&v()},()=>{_|=1<<k}));return f=!0,v(),function(){Pe(m),p(),f=!1}})}function Oe(l){try{return JSON.parse(l)}catch{return null}}function ut(l){if(typeof l!="string")return"";let e=l.replace(/^\uFEFF/,"");return e.includes("\\r\\n")&&!e.includes(`
`)&&(e=e.replace(/\\r\\n/g,`
`)),e.includes("\\n")&&!e.includes(`
`)&&(e=e.replace(/\\n/g,`
`)),e}function es(l){const t=(o=>{if(!o)return null;if(typeof o=="object")return o;if(typeof o!="string")return null;const a=o.trim();if(!a)return null;let f=Oe(a);if(typeof f=="string"){const p=Oe(f.trim());if(p&&typeof p=="object")return p}if(f&&typeof f=="object")return f;const u=a.indexOf("{"),_=a.lastIndexOf("}");if(u!==-1&&_!==-1&&_>u){const p=a.slice(u,_+1);if(f=Oe(p),f&&typeof f=="object")return f}return null})(l);if(!t)return null;const n=t.filePath||t.path||t.file||t.filename,s=t.oldString??t.old??t.before,i=t.newString??t.new??t.after;return typeof s!="string"&&typeof i!="string"?null:{filePath:n,oldString:ut(s),newString:ut(i)}}function ts(l){const t=(i=>{if(!i)return null;if(typeof i=="object")return i;if(typeof i!="string")return null;const o=i.trim();if(!o)return null;let a=Oe(o);if(typeof a=="string"){const _=Oe(a.trim());if(_&&typeof _=="object")return _}if(a&&typeof a=="object")return a;const f=o.indexOf("{"),u=o.lastIndexOf("}");if(f!==-1&&u!==-1&&u>f){const _=o.slice(f,u+1);if(a=Oe(_),a&&typeof a=="object")return a}return null})(l);if(!t)return null;const n=Array.isArray(t.replacements)?t.replacements:null;if(!n||n.length===0)return null;const s=n.map(i=>{if(!i||typeof i!="object")return null;const o=i.filePath||i.path||i.file||i.filename,a=i.oldString??i.old??i.before,f=i.newString??i.new??i.after;if(typeof a!="string"&&typeof f!="string")return null;const u=typeof i.explanation=="string"?i.explanation:"";return{filePath:o,oldString:ut(a),newString:ut(f),explanation:u}}).filter(Boolean);return s.length?{explanation:typeof t.explanation=="string"?t.explanation:"",replacements:s}:null}function At(l){const e=l==null?void 0:l.replacements;if(!Array.isArray(e)||e.length===0)return"<pre>Invalid diff</pre>";const t=l!=null&&l.explanation?`<div class="diff-header">${Me(l.explanation)}</div>`:"",n=e.map((s,i)=>{const o=s!=null&&s.filePath?Me(s.filePath):`Replacement ${i+1}`,a=s!=null&&s.explanation?`<div class="diff-note">${Me(s.explanation)}</div>`:"";return`
<div class="diff-container">
  <div class="diff-header">${o}</div>
  ${a}
  <div class="diff-section diff-old">
    <h4>‚àí Removed</h4>
    <div class="diff-content">${Me((s==null?void 0:s.oldString)||"")}</div>
  </div>
  <div class="diff-section diff-new">
    <h4>+ Added</h4>
    <div class="diff-content">${Me((s==null?void 0:s.newString)||"")}</div>
  </div>
</div>`}).join(`
`);return t?`
<div class="diff-container">${t}</div>
${n}`:n}function ls(l){const t=(s=>{if(!s)return null;if(typeof s=="object")return s;if(typeof s!="string")return null;const i=s.trim();if(!i)return null;let o=Oe(i);if(typeof o=="string"){const u=Oe(o.trim());if(u&&typeof u=="object")return u}if(o&&typeof o=="object")return o;const a=i.indexOf("{"),f=i.lastIndexOf("}");if(a!==-1&&f!==-1&&f>a){const u=i.slice(a,f+1);if(o=Oe(u),o&&typeof o=="object")return o}return null})(l);if(!t)return null;const n=Array.isArray(t.todoList)?t.todoList:null;return n?{operation:t.operation,todoList:n.map(s=>!s||typeof s!="object"?null:{id:s.id,title:s.title||"",description:s.description||"",status:s.status||""}).filter(Boolean)}:null}function Tt(l){const e=l==null?void 0:l.todoList;if(!Array.isArray(e))return null;const t=l!=null&&l.operation?`Todo List (${String(l.operation)})`:"Todo List",n=e.map(s=>{const i=(s.status||"").toLowerCase(),o=i||"unknown",a=i==="completed"?"x":i==="in-progress"?"-":" ",f=Me(s.title||""),u=(s.description||"").trim(),_=u?`<div class="todo-desc">${Me(u)}</div>`:"",p=s.id!==void 0&&s.id!==null?`<span class="todo-id">${Me(String(s.id))}.</span> `:"";return`
        <div class="todo-item ${o}">
          <div class="todo-line">
            <span class="todo-box" aria-hidden="true">[${a}]</span>
            <span class="todo-title">${p}${f}</span>
          </div>
          ${_}
        </div>`}).join(`
`);return`
    <div class="todo-container">
      <div class="diff-container">
        <div class="diff-header">${Me(t)}</div>
      </div>
      <div class="todo-body">${n}</div>
    </div>`}function nt(l){return Array.isArray(l)?l:[]}function ns(l){if(l==="None")return"#6c757d";const e=["#007bff","#28a745","#dc3545","#ffc107","#17a2b8","#6f42c1","#fd7e14","#20c997","#e83e8c","#343a40","#495057","#6610f2","#e74c3c","#3498db","#2ecc71","#f39c12","#9b59b6","#1abc9c","#34495e","#95a5a6","#f1c40f","#e67e22","#8e44ad","#16a085","#2c3e50","#c0392b","#d35400","#7f8c8d","#27ae60","#2980b9"];let t=0;for(let n=0;n<l.length;n++)t=(t<<5)-t+l.charCodeAt(n),t|=0;return e[Math.abs(t)%e.length]}function qt(l){const{oldString:e,newString:t,filePath:n}=l||{};return!e&&!t?"<pre>Invalid diff</pre>":`
<div class="diff-container">
  <div class="diff-header">${n||"File Changes"}</div>
  <div class="diff-section diff-old">
    <h4>‚àí Removed</h4>
    <div class="diff-content">${Me(e||"")}</div>
  </div>
  <div class="diff-section diff-new">
    <h4>+ Added</h4>
    <div class="diff-content">${Me(t||"")}</div>
  </div>
</div>`}function Me(l=""){return l.replace(/[&<>"']/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[e])}const ss=["apply_patch","create_directory","create_file","create_new_jupyter_notebook","edit_notebook_file","file_search","test_search","grep_search","get_changed_files","copilot_getNotebookSummary","get_search_view_results","get_vscode_api","github_repo","list_code_usages","list_dir","open_simple_browser","read_file","run_notebook_cell","semantic_search","test_failure","create_and_run_task","get_terminal_output","manage_todo_list","run_in_terminal","terminal_last_command","terminal_selection","insert_edit_into_file"],is=["replace_string_in_file","apply_patch","edit_file","create_file","create_directory","run_in_terminal"],Wt=["#f97316","#ea580c","#fb923c","#d97706","#f59e0b","#c2410c","#f8b400","#ffb454"],Gt=["#1d4ed8","#2563eb","#3b82f6","#0ea5e9","#38bdf8","#1e40af","#1e3a8a","#60a5fa","#0284c7"],Kt=["#047857","#059669","#10b981","#34d399","#16a34a","#0d9488","#14b8a6","#22c55e","#2dd4bf"];function os(l){let e=0;for(let t=0;t<l.length;t++)e=Math.imul(31,e)+l.charCodeAt(t)|0;return Math.abs(e)}let yt=null;function Pn(){if(yt)return yt;const l={};return is.forEach((e,t)=>{l[e]=Wt[t%Wt.length]}),ss.filter(e=>!l[e]).forEach((e,t)=>{l[e]=Gt[t%Gt.length]}),l.grep_search&&l.read_file&&l.grep_search===l.read_file&&(l.read_file="#0f7497"),yt=l,l}function wt(l){if(!l)return"#6b7280";if(l==="None")return"#000000";if(l==="analyze_files_and_patterns")return"#2563eb";if(l==="patch_file")return"#7c3aed";const e=String(l).trim(),t=e.toLowerCase(),n=Pn();return n[e]?n[e]:n[t]?n[t]:Kt[os(t)%Kt.length]}Pn();const xe="#dc2626",Yt="#9333ea",It="#7c3aed",lt=Ye([]),De=Ye([]),Fn=Ye("unknown"),Fe=Ye({callIndex:0,totalAll:0}),Ve=Ye(-1),ct=Ye({fn:"",response:""}),Qe=ot([De,ct],([l,e])=>{const t=e.fn.trim().toLowerCase(),n=e.response.trim().toLowerCase();if(!t&&!n)return[];const s=[];return l.forEach((i,o)=>{var f,u,_,p,v;let a=!0;if(t&&(a=a&&i.name.toLowerCase().includes(t)),n){let m="";(u=(f=i.request)==null?void 0:f.response)!=null&&u.value&&(m+=i.request.response.value.join(" ")),(p=(_=i.request)==null?void 0:_.response)!=null&&p.copilotFunctionCalls&&i.request.response.copilotFunctionCalls.forEach(h=>{m+=" "+(h.arguments||"")}),(v=i.request)!=null&&v.requestMessages&&i.request.requestMessages.forEach(h=>{Array.isArray(h.content)&&h.content.forEach(k=>{k.text&&(m+=" "+k.text)})}),a=a&&m.toLowerCase().includes(n)}a&&s.push(o)}),s}),rs=ot([De,Qe],([l,e])=>e.length?e:l.map((t,n)=>n)),as=ot([De,Qe],([l,e])=>{const t=e.length?e:l.map((s,i)=>i),n=new Map;return t.forEach(s=>{const i=l[s],o=i.requestIndex;n.has(o)||n.set(o,{requestIndex:o,calls:[],request:i.request}),n.get(o).calls.push({...i,originalIndex:s})}),Array.from(n.values()).sort((s,i)=>s.requestIndex-i.requestIndex)}),Mn=ot([lt,De],([l,e])=>{if(!l.length)return!1;const t=new Map;return l.forEach((n,s)=>{t.set(s,0)}),e.forEach(n=>{if(n.hasFunction){const s=t.get(n.requestIndex)||0;t.set(n.requestIndex,s+1)}}),Array.from(t.values()).every(n=>n===0||n===1)}),cs=ot([lt],([l])=>{var t,n;const e={};if(!Array.isArray(l))return e;for(const s of l){const i=s==null?void 0:s.requestMessages;if(Array.isArray(i))for(const o of i){if((o==null?void 0:o.role)!=="tool")continue;const a=o.tool_call_id||o.id||o.toolCallId;if(!a||(t=e[a])!=null&&t.text)continue;const f=[],u=o.content;if(Array.isArray(u))for(const _ of u)typeof _=="string"?f.push(_):_!=null&&_.text?f.push(_.text):f.push(JSON.stringify(_));else typeof u=="string"?f.push(u):u!=null&&u.text&&f.push(u.text);e[a]={parts:f,text:f.join(`
`),requestId:(n=s==null?void 0:s.response)==null?void 0:n.requestId}}}return e});Qe.subscribe(l=>{let e;if(Fe.subscribe(n=>e=n)(),l.length===0){Ve.set(-1);return}const t=l.indexOf(e.callIndex);Ve.set(t)});Fe.subscribe(l=>{let e;if(Qe.subscribe(n=>e=n)(),!e||e.length===0){Ve.set(-1);return}const t=e.indexOf(l.callIndex);Ve.set(t)});function Ot(l){Fe.update(e=>({...e,callIndex:l})),setTimeout(()=>{try{const t=$n(De)[l];if(t&&typeof t.callIndex=="number"&&t.callIndex>=0){const n="resp-fnhead-"+t.callIndex,s="resp-fncall-"+t.callIndex,i=document.getElementById(n)||document.getElementById(s);if(i){i.scrollIntoView({behavior:"auto",block:"center"});return}let o=0;const a=()=>{o++;const f=document.getElementById(n)||document.getElementById(s);if(f){f.scrollIntoView({behavior:"auto",block:"center"});return}if(o<5)setTimeout(a,80);else{const u=document.querySelector(".main-content");u&&u.scrollIntoView({behavior:"smooth",block:"start"})}};a()}else{const n=document.querySelector(".main-content");n&&n.scrollIntoView({behavior:"smooth",block:"start"})}}catch{const t=document.querySelector(".main-content");t&&t.scrollIntoView({behavior:"smooth",block:"start"})}},60)}function fs(){Fe.update(l=>l.callIndex>0?{...l,callIndex:l.callIndex-1}:l)}function us(){Fe.update(l=>l.callIndex<l.totalAll-1?{...l,callIndex:l.callIndex+1}:l)}function ds(){let l,e;if(Qe.subscribe(t=>l=t)(),Ve.subscribe(t=>e=t)(),!(!l||l.length===0||e===-1)&&e>0){const t=l[e-1];Fe.update(n=>({...n,callIndex:t}))}}function ps(){let l,e;if(Qe.subscribe(t=>l=t)(),Ve.subscribe(t=>e=t)(),!(!l||l.length===0||e===-1)&&e<l.length-1){const t=l[e+1];Fe.update(n=>({...n,callIndex:t}))}}function En(l){var e,t,n;return l!=null&&l.name&&Array.isArray(l==null?void 0:l.requestMessages)?"new-agent":(e=l.response)!=null&&e.copilotFunctionCalls&&Array.isArray(l.response.copilotFunctionCalls)?"sim-requests":(t=l.response)!=null&&t.toolCalls&&Array.isArray(l.response.toolCalls)?"fetchlog":(n=l.response)!=null&&n.copilotFunctionCalls?"sim-requests":l.requestId&&l.messages?"fetchlog":l.requestMessages?"sim-requests":"unknown"}function _s(l){return!Array.isArray(l)||l.length===0?!1:l.every(e=>typeof(e==null?void 0:e.name)=="string"&&e.name.length>0)}function ms(l){const e=nt(l==null?void 0:l.requestMessages);let t=null;for(let o=e.length-1;o>=0;o--){const a=e[o];if((a==null?void 0:a.role)!=="assistant")continue;if(nt(a==null?void 0:a.tool_calls).length){t=a;break}}if(!t)return[];const n=[],s=new Set,i=nt(t==null?void 0:t.tool_calls);for(const o of i){const a=(o==null?void 0:o.id)||(o==null?void 0:o.tool_call_id)||(o==null?void 0:o.toolCallId);if(a&&s.has(a))continue;const f=(o==null?void 0:o.function)||(o==null?void 0:o.fn)||{},u=(f==null?void 0:f.name)||(o==null?void 0:o.name)||"Unknown",_=(f==null?void 0:f.arguments)??(o==null?void 0:o.arguments),p=typeof _=="string"?_:JSON.stringify(_||{});a&&s.add(a),n.push({name:u,arguments:p,id:a})}return n}function vs(l){var t;return nt((t=l.response)==null?void 0:t.copilotFunctionCalls).map(n=>({name:n.name||"Unknown",arguments:n.arguments||"{}",id:n.id}))}function hs(l){var t;return nt((t=l.response)==null?void 0:t.toolCalls).map(n=>{var a,f;const s=((a=n==null?void 0:n.function)==null?void 0:a.name)||"Unknown",i=(f=n==null?void 0:n.function)==null?void 0:f.arguments,o=typeof i=="string"?i:JSON.stringify(i||{});return{name:s,arguments:o,id:n==null?void 0:n.id}})}function bs(l,e=[],t=0){var a;if(!l.messages||!Array.isArray(l.messages))return l;const n=[];for(const f of l.messages)if((f==null?void 0:f.role)==="assistant"){if(typeof f.content=="string"&&f.content.trim())n.push(f.content);else if(Array.isArray(f.content))for(const u of f.content)typeof u=="string"&&u.trim()?n.push(u):u!=null&&u.text&&u.text.trim()&&n.push(u.text)}const s=(()=>{var f;if(l.tools&&l.tools.length>0)return l.tools;for(const u of e)if(u.tools&&u.tools.length>0)return u.tools;return((f=l.requestOptions)==null?void 0:f.tools)||[]})();return{...l,response:{...l.response,value:n.length>0?n:((a=l.response)==null?void 0:a.value)||void 0,requestId:"fetchlog-unified-conversation"},requestMessages:l.messages,requestOptions:{...l.requestOptions,tools:s}}}function gs(l){switch(En(l)){case"sim-requests":return vs(l);case"fetchlog":return hs(l);case"new-agent":return ms(l);default:return console.warn("Unknown format for request:",l),[]}}function ks(l){let e;try{e=JSON.parse(l)}catch{if(!l.match(/\[\s*\{/s)){console.error("No JSON array found");return}}if(!Array.isArray(e)){const i=l.match(/\[\s*\{[\s\S]*\}\s*\]/);if(i)try{e=JSON.parse(i[0])}catch{console.error("Failed to parse extracted JSON");return}}if(!Array.isArray(e))return;const t=_s(e)?"new-agent":e.length>0?En(e[0]):"unknown";console.log(`[Format Detection] Detected format: ${t}`),Fn.set(t);const n=t==="fetchlog"?e.map((i,o)=>bs(i,e,o)):e;lt.set(n);const s=[];n.forEach((i,o)=>{var g,b,y,w,F,P,E,R,A;const a=j=>j?typeof j=="string"?j:Array.isArray(j)?j.map(T=>typeof T=="string"?T:(T==null?void 0:T.text)||"").join(""):typeof j=="object"&&typeof j.text=="string"?j.text:"":"",u=(j=>{const T=(j==null?void 0:j.requestMessages)||(j==null?void 0:j.messages);if(!Array.isArray(T))return"";for(const O of T){if((O==null?void 0:O.role)!=="user")continue;const J=a(O.content);if(J&&J.trim())return J.trim()}return""})(i),p=typeof u=="string"&&u.startsWith("Summarize the following actions in 6-7 words using past tense"),v=(()=>{const j="You are an expert at analyzing files and patterns.",T=i.requestMessages||i.messages;if(!T)return!1;for(const O of T)if((O==null?void 0:O.role)==="system"){if(typeof O.content=="string"){if(O.content.includes(j))return!0}else if(Array.isArray(O.content)){for(const J of O.content)if(((typeof J=="string"?J:J==null?void 0:J.text)||"").includes(j))return!0}}return!1})(),m=Array.isArray((g=i==null?void 0:i.response)==null?void 0:g.value)?i.response.value.join(`
`):((b=i==null?void 0:i.response)==null?void 0:b.value)||"",h=typeof m=="string"&&/\*\*\* Begin Patch[\s\S]*\*\*\* End Patch/.test(m),k=gs(i);if(k.length)k.forEach((j,T)=>{var le,V;const J=t!=="new-agent"||T===k.length-1?i:{...i,response:{...i.response||{},value:void 0}};let H=j.name||((le=j.function)==null?void 0:le.name)||"Unknown Function",B=!1;v&&H&&H.toLowerCase()==="none"?(H="analyze_files_and_patterns",B=!0):h&&H&&H.toLowerCase()==="none"&&(H="patch_file",B=!0);const ee=H;let ie=wt(ee)||ns(ee);const te=((V=i==null?void 0:i.response)==null?void 0:V.type)==="failed";B&&!te&&(ie=It),te&&(ie=xe),s.push({requestIndex:o,callIndex:T,name:ee,arguments:j.arguments,id:j.id,request:J,hasFunction:!0,color:ie,inferred:B})});else{const j=Array.isArray((y=i==null?void 0:i.response)==null?void 0:y.value)?i.response.value.join(`
`):((w=i==null?void 0:i.response)==null?void 0:w.value)||"";if(typeof j=="string"&&j.trim().startsWith("<analysis>")){let O=Yt;((F=i==null?void 0:i.response)==null?void 0:F.type)==="failed"&&(O=xe),s.push({requestIndex:o,callIndex:-1,name:"conversation_summary",arguments:null,request:i,hasFunction:!0,conversationSummary:!0,color:O})}else if(p){let O=Yt;((P=i==null?void 0:i.response)==null?void 0:P.type)==="failed"&&(O=xe),s.push({requestIndex:o,callIndex:-1,name:"summarize",arguments:null,request:i,hasFunction:!0,conversationSummary:!0,synthetic:!0,color:O})}else if(v){let O=wt("analyze_files_and_patterns");((E=i==null?void 0:i.response)==null?void 0:E.type)==="failed"?O=xe:O=It,s.push({requestIndex:o,callIndex:-1,name:"analyze_files_and_patterns",arguments:null,request:i,hasFunction:!0,synthetic:!0,inferred:!0,color:O})}else if(h){let O=wt("patch_file");((R=i==null?void 0:i.response)==null?void 0:R.type)==="failed"?O=xe:O=It,s.push({requestIndex:o,callIndex:-1,name:"patch_file",arguments:null,request:i,hasFunction:!0,synthetic:!0,inferred:!0,color:O})}else{let O="#000000";((A=i==null?void 0:i.response)==null?void 0:A.type)==="failed"&&(O=xe),s.push({requestIndex:o,callIndex:-1,name:"None",arguments:null,request:i,hasFunction:!1,color:O})}}}),De.set(s),Fe.set({callIndex:0,totalAll:s.length}),Ve.set((s.length,-1))}function Qt(l){let e;return{c(){e=d("div"),e.textContent="Drop file anywhere to load",r(e,"class","global-overlay svelte-1yh9h3i")},m(t,n){C(t,e,n)},d(t){t&&I(e)}}}function ys(l){let e,t,n,s,i,o=l[0]||l[1]?"Release to Load":"Drop / Click",a,f,u,_,p,v,m,h,k,g=l[1]&&!l[0]&&Qt();return{c(){e=d("div"),t=d("div"),t.textContent="üìÅ",n=S(),s=d("div"),i=d("div"),a=N(o),f=S(),u=d("div"),u.innerHTML=`<span class="hint-label svelte-1yh9h3i">Supports:</span> <span class="hint-formats svelte-1yh9h3i"><span class="nowrap svelte-1yh9h3i">sim‚Äërequests</span>,
        <span class="nowrap svelte-1yh9h3i">fetchlog</span>,
        or <span class="nowrap svelte-1yh9h3i">vscode chat</span> files</span>`,_=S(),p=d("input"),v=S(),g&&g.c(),r(t,"class","icon svelte-1yh9h3i"),r(t,"aria-hidden","true"),r(i,"class","dd-text-main svelte-1yh9h3i"),r(u,"class","dd-text-hint svelte-1yh9h3i"),r(s,"class","dd-text svelte-1yh9h3i"),r(p,"type","file"),r(p,"accept",".txt,.json"),Re(p,"display","none"),r(e,"class",m="drag-drop compact "+(l[0]||l[1]?"over":"")+" svelte-1yh9h3i"),r(e,"role","button"),r(e,"tabindex","0")},m(b,y){C(b,e,y),c(e,t),c(e,n),c(e,s),c(s,i),c(i,a),c(s,f),c(s,u),c(e,_),c(e,p),l[5](p),c(e,v),g&&g.m(e,null),h||(k=[ne(p,"change",l[3]),ne(e,"dragover",Dt(l[6])),ne(e,"dragleave",Dt(l[7])),ne(e,"drop",l[4]),ne(e,"click",l[8]),ne(e,"keydown",l[9])],h=!0)},p(b,[y]){y&3&&o!==(o=b[0]||b[1]?"Release to Load":"Drop / Click")&&q(a,o),b[1]&&!b[0]?g||(g=Qt(),g.c(),g.m(e,null)):g&&(g.d(1),g=null),y&3&&m!==(m="drag-drop compact "+(b[0]||b[1]?"over":"")+" svelte-1yh9h3i")&&r(e,"class",m)},i:G,o:G,d(b){b&&I(e),l[5](null),g&&g.d(),h=!1,Pe(k)}}}function ws(l,e,t){const n=Gn();let s=!1,i=!1,o,a=[];function f(w){var P;const F=(P=w.target.files)==null?void 0:P[0];F&&_(F)}function u(w){var P;w.preventDefault(),t(0,s=!1);const F=(P=w.dataTransfer.files)==null?void 0:P[0];F&&_(F)}function _(w){const F=new FileReader;F.onload=()=>{n("loadText",F.result)},F.readAsText(w)}function p(w){w.dataTransfer&&Array.from(w.dataTransfer.types).includes("Files")&&(w.preventDefault(),w.dataTransfer.dropEffect="copy",t(1,i=!0))}function v(w){w.relatedTarget==null&&(t(1,i=!1),t(0,s=!1))}function m(w){var F,P;(P=(F=w.dataTransfer)==null?void 0:F.files)!=null&&P.length&&(w.preventDefault(),_(w.dataTransfer.files[0])),t(1,i=!1),t(0,s=!1)}St(()=>{window.addEventListener("dragover",p),window.addEventListener("dragleave",v),window.addEventListener("drop",m),a=[()=>window.removeEventListener("dragover",p),()=>window.removeEventListener("dragleave",v),()=>window.removeEventListener("drop",m)]}),Wn(()=>a.forEach(w=>w()));function h(w){Le[w?"unshift":"push"](()=>{o=w,t(2,o)})}return[s,i,o,f,u,h,()=>t(0,s=!0),()=>t(0,s=!1),()=>o.click(),w=>(w.key==="Enter"||w.key===" ")&&o.click()]}class Is extends Ge{constructor(e){super(),We(this,e,ws,ys,Ee,{})}}function Xt(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function Zt(l,e,t){const n=l.slice();return n[23]=e[t],n}function xt(l,e,t){const n=l.slice();return n[20]=e[t],n}function el(l,e,t){const n=l.slice();return n[23]=e[t],n}function Cs(l){let e,t,n=se(l[1]),s=[];for(let i=0;i<n.length;i+=1)s[i]=rl(Xt(l,n,i));return{c(){e=d("div");for(let i=0;i<s.length;i+=1)s[i].c();r(e,"class",t="mixed-calls "+(l[0]==="top"?"top-flow":"panel-flow")+" svelte-1u08vn"),r(e,"role","listbox"),r(e,"aria-label","Tool calls (multi-call requests framed, single-call inline)")},m(i,o){C(i,e,o);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null)},p(i,o){if(o&23){n=se(i[1]);let a;for(a=0;a<n.length;a+=1){const f=Xt(i,n,a);s[a]?s[a].p(f,o):(s[a]=rl(f),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}o&1&&t!==(t="mixed-calls "+(i[0]==="top"?"top-flow":"panel-flow")+" svelte-1u08vn")&&r(e,"class",t)},d(i){i&&I(e),je(s,i)}}}function Ss(l){let e,t,n=se(l[4]),s=[];for(let i=0;i<n.length;i+=1)s[i]=pl(xt(l,n,i));return{c(){e=d("div");for(let i=0;i<s.length;i+=1)s[i].c();r(e,"class",t="flat-calls-container "+(l[0]==="top"?"top-flow":"panel-flow")+" svelte-1u08vn"),r(e,"role","listbox"),r(e,"aria-label","Tool calls")},m(i,o){C(i,e,o);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null)},p(i,o){if(o&21){n=se(i[4]);let a;for(a=0;a<n.length;a+=1){const f=xt(i,n,a);s[a]?s[a].p(f,o):(s[a]=pl(f),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}o&1&&t!==(t="flat-calls-container "+(i[0]==="top"?"top-flow":"panel-flow")+" svelte-1u08vn")&&r(e,"class",t)},d(i){i&&I(e),je(s,i)}}}function Ns(l){let e;return{c(){e=d("div"),e.textContent="No matches.",r(e,"class","empty svelte-1u08vn")},m(t,n){C(t,e,n)},p:G,d(t){t&&I(e)}}}function tl(l){let e,t,n,s,i,o=l[4][l[28]].roundNumber+"",a,f,u=pt(l[4][l[28]].requestId)+"",_,p,v,m,h,k,g,b;return{c(){e=d("div"),t=d("span"),n=S(),s=d("span"),i=N("Round "),a=N(o),f=d("span"),_=N(u),v=S(),m=d("span"),r(t,"class","rfs-line svelte-1u08vn"),r(t,"aria-hidden","true"),r(f,"class","rfs-id svelte-1u08vn"),r(f,"title",p=l[4][l[28]].requestId),r(s,"class","rfs-label svelte-1u08vn"),r(m,"class","rfs-line svelte-1u08vn"),r(m,"aria-hidden","true"),r(e,"class","round-full-separator svelte-1u08vn"),r(e,"data-round",h=l[4][l[28]].roundNumber),r(e,"data-request-id",k=l[4][l[28]].requestId),r(e,"title",g=`Round ${l[4][l[28]].roundNumber} ‚Ä¢ ${l[4][l[28]].requestId}`),r(e,"aria-label",b=`Round ${l[4][l[28]].roundNumber} boundary (request id ${l[4][l[28]].requestId})`)},m(y,w){C(y,e,w),c(e,t),c(e,n),c(e,s),c(s,i),c(s,a),c(s,f),c(f,_),c(e,v),c(e,m)},p(y,w){w&16&&o!==(o=y[4][y[28]].roundNumber+"")&&q(a,o),w&16&&u!==(u=pt(y[4][y[28]].requestId)+"")&&q(_,u),w&16&&p!==(p=y[4][y[28]].requestId)&&r(f,"title",p),w&16&&h!==(h=y[4][y[28]].roundNumber)&&r(e,"data-round",h),w&16&&k!==(k=y[4][y[28]].requestId)&&r(e,"data-request-id",k),w&16&&g!==(g=`Round ${y[4][y[28]].roundNumber} ‚Ä¢ ${y[4][y[28]].requestId}`)&&r(e,"title",g),w&16&&b!==(b=`Round ${y[4][y[28]].roundNumber} boundary (request id ${y[4][y[28]].requestId})`)&&r(e,"aria-label",b)},d(y){y&&I(e)}}}function ll(l){let e;return{c(){e=d("span"),e.textContent="‚àë",r(e,"class","infer-badge svelte-1u08vn"),r(e,"title","Inferred tool name")},m(t,n){C(t,e,n)},d(t){t&&I(e)}}}function nl(l){let e;return{c(){e=d("span"),e.textContent="üìã",r(e,"class","summary-emoji svelte-1u08vn"),r(e,"title","Conversation summary"),r(e,"aria-hidden","true")},m(t,n){C(t,e,n)},d(t){t&&I(e)}}}function sl(l){let e;return{c(){e=d("span"),e.textContent="‚ö†Ô∏è",r(e,"class","fail-emoji svelte-1u08vn"),r(e,"title","Failed response"),r(e,"aria-hidden","true")},m(t,n){C(t,e,n)},d(t){t&&I(e)}}}function il(l){var R,A;let e,t,n=l[23].originalIndex+1+"",s,i,o,a=dt(l[23])+"",f,u,_,p,v,m,h,k,g,b,y,w=l[23].inferred&&ll(),F=l[23].conversationSummary&&nl(),P=((A=(R=l[23].request)==null?void 0:R.response)==null?void 0:A.type)==="failed"&&sl();function E(){return l[17](l[23])}return{c(){var j,T;e=d("button"),t=d("span"),s=N(n),i=S(),o=d("span"),f=N(a),w&&w.c(),u=S(),F&&F.c(),_=S(),P&&P.c(),p=S(),r(t,"class","num svelte-1u08vn"),r(o,"class","name svelte-1u08vn"),r(e,"role","option"),r(e,"aria-selected",v=l[2].callIndex===l[23].originalIndex),Re(e,"--chip-color",l[23].color),r(e,"data-round",m=l[4][l[28]].roundNumber),r(e,"data-req-info",h=`Request ${l[26].requestIndex+1} ‚Ä¢ ${l[26].calls.length} call${l[26].calls.length===1?"":"s"}`),r(e,"data-call-index",k=l[23].originalIndex),r(e,"aria-label",g="Tool call "+(l[23].name||"None")+(l[26].calls.length===1?" (single-call request)":"")+(((T=(j=l[23].request)==null?void 0:j.response)==null?void 0:T.type)==="failed"?" (failed response)":"")),r(e,"class","svelte-1u08vn"),qe(e,"selected",l[2].callIndex===l[23].originalIndex),qe(e,"topchip",l[0]==="top")},m(j,T){C(j,e,T),c(e,t),c(t,s),c(e,i),c(e,o),c(o,f),w&&w.m(e,null),c(e,u),F&&F.m(e,null),c(e,_),P&&P.m(e,null),c(e,p),b||(y=ne(e,"click",E),b=!0)},p(j,T){var O,J,H,B;l=j,T&2&&n!==(n=l[23].originalIndex+1+"")&&q(s,n),T&2&&a!==(a=dt(l[23])+"")&&q(f,a),l[23].inferred?w||(w=ll(),w.c(),w.m(e,u)):w&&(w.d(1),w=null),l[23].conversationSummary?F||(F=nl(),F.c(),F.m(e,_)):F&&(F.d(1),F=null),((J=(O=l[23].request)==null?void 0:O.response)==null?void 0:J.type)==="failed"?P||(P=sl(),P.c(),P.m(e,p)):P&&(P.d(1),P=null),T&6&&v!==(v=l[2].callIndex===l[23].originalIndex)&&r(e,"aria-selected",v),T&2&&Re(e,"--chip-color",l[23].color),T&16&&m!==(m=l[4][l[28]].roundNumber)&&r(e,"data-round",m),T&2&&h!==(h=`Request ${l[26].requestIndex+1} ‚Ä¢ ${l[26].calls.length} call${l[26].calls.length===1?"":"s"}`)&&r(e,"data-req-info",h),T&2&&k!==(k=l[23].originalIndex)&&r(e,"data-call-index",k),T&2&&g!==(g="Tool call "+(l[23].name||"None")+(l[26].calls.length===1?" (single-call request)":"")+(((B=(H=l[23].request)==null?void 0:H.response)==null?void 0:B.type)==="failed"?" (failed response)":""))&&r(e,"aria-label",g),T&6&&qe(e,"selected",l[2].callIndex===l[23].originalIndex),T&1&&qe(e,"topchip",l[0]==="top")},d(j){j&&I(e),w&&w.d(),F&&F.d(),P&&P.d(),b=!1,y()}}}function ol(l){let e,t,n,s,i,o,a,f,u=l[4][l[28]].isRoundStart&&tl(l),_=se(l[26].calls),p=[];for(let v=0;v<_.length;v+=1)p[v]=il(Zt(l,_,v));return{c(){u&&u.c(),e=S(),t=d("div"),n=d("div");for(let v=0;v<p.length;v+=1)p[v].c();i=S(),r(n,"class","group-calls-container svelte-1u08vn"),r(n,"aria-label",s=`Request ${l[26].requestIndex+1} with ${l[26].calls.length} call${l[26].calls.length===1?"":"s"}`),r(t,"class","request-group svelte-1u08vn"),r(t,"data-request-index",o=l[26].requestIndex),r(t,"data-request-id",a=l[4][l[28]].requestId),r(t,"data-round",f=l[4][l[28]].roundNumber),qe(t,"single-call",l[26].calls.length===1)},m(v,m){u&&u.m(v,m),C(v,e,m),C(v,t,m),c(t,n);for(let h=0;h<p.length;h+=1)p[h]&&p[h].m(n,null);c(t,i)},p(v,m){if(v[4][v[28]].isRoundStart?u?u.p(v,m):(u=tl(v),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),m&23){_=se(v[26].calls);let h;for(h=0;h<_.length;h+=1){const k=Zt(v,_,h);p[h]?p[h].p(k,m):(p[h]=il(k),p[h].c(),p[h].m(n,null))}for(;h<p.length;h+=1)p[h].d(1);p.length=_.length}m&2&&s!==(s=`Request ${v[26].requestIndex+1} with ${v[26].calls.length} call${v[26].calls.length===1?"":"s"}`)&&r(n,"aria-label",s),m&2&&o!==(o=v[26].requestIndex)&&r(t,"data-request-index",o),m&16&&a!==(a=v[4][v[28]].requestId)&&r(t,"data-request-id",a),m&16&&f!==(f=v[4][v[28]].roundNumber)&&r(t,"data-round",f),m&2&&qe(t,"single-call",v[26].calls.length===1)},d(v){v&&(I(e),I(t)),u&&u.d(v),je(p,v)}}}function rl(l){let e="grp-"+l[26].requestIndex,t,n=ol(l);return{c(){n.c(),t=ve()},m(s,i){n.m(s,i),C(s,t,i)},p(s,i){i&2&&Ee(e,e="grp-"+s[26].requestIndex)?(n.d(1),n=ol(s),n.c(),n.m(t.parentNode,t)):n.p(s,i)},d(s){s&&I(t),n.d(s)}}}function al(l){let e,t,n,s,i,o=l[20].roundNumber+"",a,f,u=pt(l[20].requestId)+"",_,p,v,m,h,k,g,b;return{c(){e=d("div"),t=d("span"),n=S(),s=d("span"),i=N("Round "),a=N(o),f=d("span"),_=N(u),v=S(),m=d("span"),r(t,"class","rfs-line svelte-1u08vn"),r(t,"aria-hidden","true"),r(f,"class","rfs-id svelte-1u08vn"),r(f,"title",p=l[20].requestId),r(s,"class","rfs-label svelte-1u08vn"),r(m,"class","rfs-line svelte-1u08vn"),r(m,"aria-hidden","true"),r(e,"class","round-full-separator svelte-1u08vn"),r(e,"data-round",h=l[20].roundNumber),r(e,"data-request-id",k=l[20].requestId),r(e,"title",g=`Round ${l[20].roundNumber} ‚Ä¢ ${l[20].requestId}`),r(e,"aria-label",b=`Round ${l[20].roundNumber} boundary (request id ${l[20].requestId})`)},m(y,w){C(y,e,w),c(e,t),c(e,n),c(e,s),c(s,i),c(s,a),c(s,f),c(f,_),c(e,v),c(e,m)},p(y,w){w&16&&o!==(o=y[20].roundNumber+"")&&q(a,o),w&16&&u!==(u=pt(y[20].requestId)+"")&&q(_,u),w&16&&p!==(p=y[20].requestId)&&r(f,"title",p),w&16&&h!==(h=y[20].roundNumber)&&r(e,"data-round",h),w&16&&k!==(k=y[20].requestId)&&r(e,"data-request-id",k),w&16&&g!==(g=`Round ${y[20].roundNumber} ‚Ä¢ ${y[20].requestId}`)&&r(e,"title",g),w&16&&b!==(b=`Round ${y[20].roundNumber} boundary (request id ${y[20].requestId})`)&&r(e,"aria-label",b)},d(y){y&&I(e)}}}function cl(l){let e;return{c(){e=d("span"),e.textContent="‚àë",r(e,"class","infer-badge svelte-1u08vn"),r(e,"title","Inferred tool name")},m(t,n){C(t,e,n)},d(t){t&&I(e)}}}function fl(l){let e;return{c(){e=d("span"),e.textContent="üìã",r(e,"class","summary-emoji svelte-1u08vn"),r(e,"title","Conversation summary"),r(e,"aria-hidden","true")},m(t,n){C(t,e,n)},d(t){t&&I(e)}}}function ul(l){let e;return{c(){e=d("span"),e.textContent="‚ö†Ô∏è",r(e,"class","fail-emoji svelte-1u08vn"),r(e,"title","Failed response"),r(e,"aria-hidden","true")},m(t,n){C(t,e,n)},d(t){t&&I(e)}}}function dl(l){var P,E;let e,t,n=l[23].originalIndex+1+"",s,i,o,a=dt(l[23])+"",f,u,_,p,v,m,h,k,g,b=l[23].inferred&&cl(),y=l[23].conversationSummary&&fl(),w=((E=(P=l[23].request)==null?void 0:P.response)==null?void 0:E.type)==="failed"&&ul();function F(){return l[16](l[23])}return{c(){var R,A;e=d("button"),t=d("span"),s=N(n),i=S(),o=d("span"),f=N(a),b&&b.c(),u=S(),y&&y.c(),_=S(),w&&w.c(),p=S(),r(t,"class","num svelte-1u08vn"),r(o,"class","name svelte-1u08vn"),r(e,"role","option"),r(e,"aria-selected",v=l[2].callIndex===l[23].originalIndex),Re(e,"--chip-color",l[23].color),r(e,"data-call-index",m=l[23].originalIndex),r(e,"aria-label",h="Tool call "+(l[23].name||"None")+(((A=(R=l[23].request)==null?void 0:R.response)==null?void 0:A.type)==="failed"?" (failed response)":"")),r(e,"class","svelte-1u08vn"),qe(e,"selected",l[2].callIndex===l[23].originalIndex),qe(e,"topchip",l[0]==="top")},m(R,A){C(R,e,A),c(e,t),c(t,s),c(e,i),c(e,o),c(o,f),b&&b.m(e,null),c(e,u),y&&y.m(e,null),c(e,_),w&&w.m(e,null),c(e,p),k||(g=ne(e,"click",F),k=!0)},p(R,A){var j,T,O,J;l=R,A&16&&n!==(n=l[23].originalIndex+1+"")&&q(s,n),A&16&&a!==(a=dt(l[23])+"")&&q(f,a),l[23].inferred?b||(b=cl(),b.c(),b.m(e,u)):b&&(b.d(1),b=null),l[23].conversationSummary?y||(y=fl(),y.c(),y.m(e,_)):y&&(y.d(1),y=null),((T=(j=l[23].request)==null?void 0:j.response)==null?void 0:T.type)==="failed"?w||(w=ul(),w.c(),w.m(e,p)):w&&(w.d(1),w=null),A&20&&v!==(v=l[2].callIndex===l[23].originalIndex)&&r(e,"aria-selected",v),A&16&&Re(e,"--chip-color",l[23].color),A&16&&m!==(m=l[23].originalIndex)&&r(e,"data-call-index",m),A&16&&h!==(h="Tool call "+(l[23].name||"None")+(((J=(O=l[23].request)==null?void 0:O.response)==null?void 0:J.type)==="failed"?" (failed response)":""))&&r(e,"aria-label",h),A&20&&qe(e,"selected",l[2].callIndex===l[23].originalIndex),A&1&&qe(e,"topchip",l[0]==="top")},d(R){R&&I(e),b&&b.d(),y&&y.d(),w&&w.d(),k=!1,g()}}}function pl(l){let e,t,n=l[20].isRoundStart&&al(l),s=se(l[20].calls),i=[];for(let o=0;o<s.length;o+=1)i[o]=dl(el(l,s,o));return{c(){n&&n.c(),e=S();for(let o=0;o<i.length;o+=1)i[o].c();t=ve()},m(o,a){n&&n.m(o,a),C(o,e,a);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(o,a);C(o,t,a)},p(o,a){if(o[20].isRoundStart?n?n.p(o,a):(n=al(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),a&21){s=se(o[20].calls);let f;for(f=0;f<s.length;f+=1){const u=el(o,s,f);i[f]?i[f].p(u,a):(i[f]=dl(u),i[f].c(),i[f].m(t.parentNode,t))}for(;f<i.length;f+=1)i[f].d(1);i.length=s.length}},d(o){o&&(I(e),I(t)),n&&n.d(o),je(i,o)}}}function js(l){let e,t,n,s,i,o,a=l[6].length+"",f,u,_,p,v;function m(g,b){return g[1].length?g[5]?Ss:Cs:Ns}let h=m(l),k=h(l);return{c(){e=d("section"),t=d("header"),n=d("div"),n.innerHTML='<h2 class="svelte-1u08vn">Next tool calls</h2>',s=S(),i=d("div"),o=d("span"),f=N(a),u=S(),_=d("div"),p=d("div"),k.c(),r(n,"class","header-title svelte-1u08vn"),r(o,"class","count-badge svelte-1u08vn"),r(i,"class","section-meta svelte-1u08vn"),r(t,"class","section-header calls-header svelte-1u08vn"),r(p,"id","tool-calls-content"),r(p,"class","calls-content svelte-1u08vn"),r(_,"class","calls-scroll svelte-1u08vn"),r(_,"role","region"),r(_,"aria-label","Tool calls scroll area"),r(e,"class",v="calls-panel "+(l[0]==="top"?"top-mode":"dense")+" "+(l[5]?"flat-mode":"grouped-mode")+" svelte-1u08vn"),r(e,"data-variant",l[0])},m(g,b){C(g,e,b),c(e,t),c(t,n),c(t,s),c(t,i),c(i,o),c(o,f),c(e,u),c(e,_),c(_,p),k.m(p,null),l[18](_)},p(g,[b]){b&64&&a!==(a=g[6].length+"")&&q(f,a),h===(h=m(g))&&k?k.p(g,b):(k.d(1),k=h(g),k&&(k.c(),k.m(p,null))),b&33&&v!==(v="calls-panel "+(g[0]==="top"?"top-mode":"dense")+" "+(g[5]?"flat-mode":"grouped-mode")+" svelte-1u08vn")&&r(e,"class",v),b&1&&r(e,"data-variant",g[0])},i:G,o:G,d(g){g&&I(e),k.d(),l[18](null)}}}function Rs(l){const e="You are an expert at analyzing files and patterns.";if(!(l!=null&&l.requestMessages))return!1;for(const t of l.requestMessages)if(!((t==null?void 0:t.role)!=="system"||!Array.isArray(t.content))){for(const n of t.content)if(((typeof n=="string"?n:n==null?void 0:n.text)||"").trim()===e)return!0}return!1}function dt(l){return l?(l.name==="None"||l.name&&l.name.toLowerCase()==="none")&&Rs(l.request)?"analyze_files_and_patterns":l.name:""}function pt(l,e=18){if(!l)return"";if(l.length<=e)return l;const t=5;return l.slice(0,e-(t+1))+"‚Ä¶"+l.slice(-t)}function As(l,e,t){let n,s,i,o,a,f,u,_,p,v,m,h,k;Ne(l,Fe,R=>t(2,p=R)),Ne(l,lt,R=>t(12,v=R)),Ne(l,Mn,R=>t(13,m=R)),Ne(l,as,R=>t(14,h=R)),Ne(l,rs,R=>t(15,k=R));let{variant:g="panel"}=e,b,y=-1;async function w(R=!0){if(!b)return;const A=p==null?void 0:p.callIndex;if(A==null||A<0)return;await ft();const j=b.querySelector(`button[data-call-index='${A}']`);if(!j)return;const T=j.offsetTop,O=T+j.offsetHeight,J=b.scrollTop,H=J+b.clientHeight;if(!(T>=J&&O<=H))if(R){const B=T-b.clientHeight/2+j.offsetHeight/2;b.scrollTo({top:Math.max(B,0),behavior:"smooth"})}else j.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"})}const F=R=>Ot(R.originalIndex),P=R=>Ot(R.originalIndex);function E(R){Le[R?"unshift":"push"](()=>{b=R,t(3,b)})}return l.$$set=R=>{"variant"in R&&t(0,g=R.variant)},l.$$.update=()=>{l.$$.dirty&32768&&t(6,n=k),l.$$.dirty&16384&&t(1,s=h),l.$$.dirty&8192&&t(5,i=m),l.$$.dirty&4096&&t(10,o=v),l.$$.dirty&1024&&t(11,a=(()=>{const R=new Map;return o.forEach((A,j)=>{var O;const T=((O=A==null?void 0:A.response)==null?void 0:O.requestId)||`__noid_${j}`;R.has(T)?R.get(T).last=j:R.set(T,{first:j,last:j,id:T})}),Array.from(R.values()).sort((A,j)=>A.first-j.first||A.last-j.last)})()),l.$$.dirty&2048&&t(9,f=(()=>{const R=[];for(let A=0;A<a.length;A++){const j=a[A];let T=!1;for(let O=0;O<a.length;O++){if(A===O)continue;const J=a[O];if(J.first<=j.first&&j.last<=J.last&&(J.first<j.first||j.last<J.last)){T=!0;break}}T||R.push({...j})}return R.sort((A,j)=>A.first-j.first),R.forEach((A,j)=>{A.round=j+1}),R})()),l.$$.dirty&1536&&t(8,u=(()=>{const R=new Array(o.length).fill(null);for(const A of f)for(let j=A.first;j<=A.last;j++)R[j]={round:A.round,isRoundStart:j===A.first,topSpanId:A.id};return R})()),l.$$.dirty&258&&t(4,_=s.map(R=>{var T,O;const A=((O=(T=R.request)==null?void 0:T.response)==null?void 0:O.requestId)||`__noid_${R.requestIndex}`,j=u[R.requestIndex]||{round:0,isRoundStart:!1,topSpanId:A};return{requestIndex:R.requestIndex,request:R.request,requestId:A,calls:R.calls,isRoundStart:j.isRoundStart,roundNumber:j.round,topSpanId:j.topSpanId}})),l.$$.dirty&132&&p.callIndex!==y&&(t(7,y=p.callIndex),w())},[g,s,p,b,_,i,n,y,u,f,o,a,v,m,h,k,F,P,E]}class Ts extends Ge{constructor(e){super(),We(this,e,As,js,Ee,{variant:0})}}function _l(l,e,t){const n=l.slice();return n[11]=e[t],n[13]=t,n}function qs(l){let e,t=[],n=new Map,s=se(l[1]);const i=o=>o[11].agentName+"-"+o[13];for(let o=0;o<s.length;o+=1){let a=_l(l,s,o),f=i(a);n.set(f,t[o]=ml(f,a))}return{c(){e=d("div");for(let o=0;o<t.length;o+=1)t[o].c();r(e,"class","agent-list svelte-1ktmqxx")},m(o,a){C(o,e,a);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null)},p(o,a){a&11&&(s=se(o[1]),t=On(t,a,i,1,o,s,n,e,qn,ml,null,_l))},d(o){o&&I(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function Os(l){let e;return{c(){e=d("div"),e.textContent="No agents found.",r(e,"class","empty svelte-1ktmqxx")},m(t,n){C(t,e,n)},p:G,d(t){t&&I(e)}}}function ml(l,e){let t,n,s,i=e[13]+1+"",o,a,f,u=e[11].agentName+"",_,p,v,m,h=e[11].requests.length+"",k,g,b=e[11].requests.length===1?"":"s",y,w,F,P,E,R;function A(){return e[7](e[11])}return{key:l,first:null,c(){t=d("button"),n=d("div"),s=d("span"),o=N(i),a=S(),f=d("span"),_=N(u),p=S(),v=d("div"),m=d("span"),k=N(h),g=N(" request"),y=N(b),w=S(),r(s,"class","agent-num svelte-1ktmqxx"),r(f,"class","agent-name svelte-1ktmqxx"),r(n,"class","agent-header-line svelte-1ktmqxx"),r(m,"class","agent-requests svelte-1ktmqxx"),r(v,"class","agent-meta svelte-1ktmqxx"),r(t,"class","agent-item svelte-1ktmqxx"),Re(t,"--agent-color",vl(e[11].agentName)),r(t,"data-agent-name",F=e[11].agentName),r(t,"aria-label",P="Agent "+e[11].agentName),qe(t,"selected",e[0]===e[11]),this.first=t},m(j,T){C(j,t,T),c(t,n),c(n,s),c(s,o),c(n,a),c(n,f),c(f,_),c(t,p),c(t,v),c(v,m),c(m,k),c(m,g),c(m,y),c(t,w),E||(R=ne(t,"click",A),E=!0)},p(j,T){e=j,T&2&&i!==(i=e[13]+1+"")&&q(o,i),T&2&&u!==(u=e[11].agentName+"")&&q(_,u),T&2&&h!==(h=e[11].requests.length+"")&&q(k,h),T&2&&b!==(b=e[11].requests.length===1?"":"s")&&q(y,b),T&2&&Re(t,"--agent-color",vl(e[11].agentName)),T&2&&F!==(F=e[11].agentName)&&r(t,"data-agent-name",F),T&2&&P!==(P="Agent "+e[11].agentName)&&r(t,"aria-label",P),T&3&&qe(t,"selected",e[0]===e[11])},d(j){j&&I(t),E=!1,R()}}}function Ps(l){let e,t,n,s,i,o,a=l[1].length+"",f,u,_,p;function v(k,g){return k[1].length?qs:Os}let m=v(l),h=m(l);return{c(){e=d("section"),t=d("header"),n=d("div"),n.innerHTML='<h2 class="svelte-1ktmqxx">Agent Switching</h2>',s=S(),i=d("div"),o=d("span"),f=N(a),u=S(),_=d("div"),p=d("div"),h.c(),r(n,"class","header-title svelte-1ktmqxx"),r(o,"class","count-badge svelte-1ktmqxx"),r(i,"class","section-meta svelte-1ktmqxx"),r(t,"class","section-header agent-header svelte-1ktmqxx"),r(p,"class","agent-content svelte-1ktmqxx"),r(_,"class","agent-scroll svelte-1ktmqxx"),r(_,"role","region"),r(_,"aria-label","Agent switching scroll area"),r(e,"class","agent-panel svelte-1ktmqxx")},m(k,g){C(k,e,g),c(e,t),c(t,n),c(t,s),c(t,i),c(i,o),c(o,f),c(e,u),c(e,_),c(_,p),h.m(p,null),l[8](_)},p(k,[g]){g&2&&a!==(a=k[1].length+"")&&q(f,a),m===(m=v(k))&&h?h.p(k,g):(h.d(1),h=m(k),h&&(h.c(),h.m(p,null)))},i:G,o:G,d(k){k&&I(e),h.d(),l[8](null)}}}function vl(l){let e=0;for(let n=0;n<l.length;n++)e=(e<<5)-e+l.charCodeAt(n),e=e&e;return`hsl(${Math.abs(e%360)}, 65%, 55%)`}function Fs(l,e,t){let n,s,i,o,a;Ne(l,De,h=>t(4,i=h)),Ne(l,Fe,h=>t(5,o=h)),Ne(l,lt,h=>t(6,a=h));let f,u=null;async function _(){if(!f||!s)return;await ft();const h=s.agentName;if(h===u)return;u=h;const k=h.replace(/["'\\]/g,"\\$&"),g=f.querySelector(`button[data-agent-name="${k}"]`);if(!g)return;const b=g.offsetTop,y=b+g.offsetHeight,w=f.scrollTop,F=w+f.clientHeight;if(b>=w&&y<=F)return;const P=b-f.clientHeight/2+g.offsetHeight/2;f.scrollTo({top:Math.max(P,0),behavior:"smooth"})}function p(h){const k=h.requests[0];if(!k)return;const g=i.find(b=>b.requestIndex===k.idx);if(g){const b=i.indexOf(g);Ot(b)}}const v=h=>p(h);function m(h){Le[h?"unshift":"push"](()=>{f=h,t(2,f)})}return l.$$.update=()=>{l.$$.dirty&64&&t(1,n=(()=>{const h=[];let k=null,g=null;return a.forEach((b,y)=>{const w=(b==null?void 0:b.name)||"default agent";w!==k?(g&&h.push(g),k=w,g={agentName:w,requests:[{req:b,idx:y}],startIdx:y,endIdx:y}):(g.requests.push({req:b,idx:y}),g.endIdx=y)}),g&&h.push(g),h})()),l.$$.dirty&50&&t(0,s=(()=>{const h=o.callIndex;if(h<0||!i[h])return null;const k=i[h].requestIndex;for(const g of n)if(k>=g.startIdx&&k<=g.endIdx)return g;return null})()),l.$$.dirty&1&&s&&_()},[s,n,f,p,i,o,a,v,m]}class Ms extends Ge{constructor(e){super(),We(this,e,Fs,Ps,Ee,{})}}function hl(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function Es(l){let e,t;return{c(){e=d("pre"),t=N(l[8])},m(n,s){C(n,e,s),c(e,t)},p(n,s){s&256&&q(t,n[8])},d(n){n&&I(e)}}}function Ls(l){let e,t,n=l[0]==="todo"?"Raw JSON":"Todo View",s,i,o,a,f,u;function _(m,h){var k;return h&9&&(o=null),o==null&&(o=!!(m[0]==="todo"&&Array.isArray((k=m[3])==null?void 0:k.todoList))),o?$s:Ds}let p=_(l,-1),v=p(l);return{c(){e=d("div"),t=d("button"),s=N(n),i=S(),v.c(),a=ve(),r(t,"class","svelte-15q0qw3"),r(e,"class","actions svelte-15q0qw3")},m(m,h){C(m,e,h),c(e,t),c(t,s),C(m,i,h),v.m(m,h),C(m,a,h),f||(u=ne(t,"click",l[10]),f=!0)},p(m,h){h&1&&n!==(n=m[0]==="todo"?"Raw JSON":"Todo View")&&q(s,n),p===(p=_(m,h))&&v?v.p(m,h):(v.d(1),v=p(m),v&&(v.c(),v.m(a.parentNode,a)))},d(m){m&&(I(e),I(i),I(a)),v.d(m),f=!1,u()}}}function Hs(l){let e,t,n=l[0]==="patch"?"Raw JSON":"Patch View",s,i,o,a,f;function u(v,m){return v[0]==="patch"&&v[1].length?zs:Us}let _=u(l),p=_(l);return{c(){e=d("div"),t=d("button"),s=N(n),i=S(),p.c(),o=ve(),r(t,"class","svelte-15q0qw3"),r(e,"class","actions svelte-15q0qw3")},m(v,m){C(v,e,m),c(e,t),c(t,s),C(v,i,m),p.m(v,m),C(v,o,m),a||(f=ne(t,"click",l[12]),a=!0)},p(v,m){m&1&&n!==(n=v[0]==="patch"?"Raw JSON":"Patch View")&&q(s,n),_===(_=u(v))&&p?p.p(v,m):(p.d(1),p=_(v),p&&(p.c(),p.m(o.parentNode,o)))},d(v){v&&(I(e),I(i),I(o)),p.d(v),a=!1,f()}}}function Js(l){let e,t,n=l[0]==="formatted"?"Raw JSON":"Formatted",s,i,o,a,f;function u(v,m){var h;return v[0]==="formatted"&&((h=v[3])==null?void 0:h.content)!==void 0?Ys:Ks}let _=u(l),p=_(l);return{c(){e=d("div"),t=d("button"),s=N(n),i=S(),p.c(),o=ve(),r(t,"class","svelte-15q0qw3"),r(e,"class","actions svelte-15q0qw3")},m(v,m){C(v,e,m),c(e,t),c(t,s),C(v,i,m),p.m(v,m),C(v,o,m),a||(f=ne(t,"click",l[11]),a=!0)},p(v,m){m&1&&n!==(n=v[0]==="formatted"?"Raw JSON":"Formatted")&&q(s,n),_===(_=u(v))&&p?p.p(v,m):(p.d(1),p=_(v),p&&(p.c(),p.m(o.parentNode,o)))},d(v){v&&(I(e),I(i),I(o)),p.d(v),a=!1,f()}}}function Bs(l){let e,t,n=l[0]==="diff"?"Raw JSON":"View Diff",s,i,o,a,f,u;function _(m,h){var k,g;return h&9&&(o=null),o==null&&(o=!!(m[0]==="diff"&&((k=m[3])!=null&&k.oldString||Array.isArray((g=m[3])==null?void 0:g.replacements)&&m[3].replacements.length))),o?Xs:Qs}let p=_(l,-1),v=p(l);return{c(){e=d("div"),t=d("button"),s=N(n),i=S(),v.c(),a=ve(),r(t,"class","svelte-15q0qw3"),r(e,"class","actions svelte-15q0qw3")},m(m,h){C(m,e,h),c(e,t),c(t,s),C(m,i,h),v.m(m,h),C(m,a,h),f||(u=ne(t,"click",l[9]),f=!0)},p(m,h){h&1&&n!==(n=m[0]==="diff"?"Raw JSON":"View Diff")&&q(s,n),p===(p=_(m,h))&&v?v.p(m,h):(v.d(1),v=p(m),v&&(v.c(),v.m(a.parentNode,a)))},d(m){m&&(I(e),I(i),I(a)),v.d(m),f=!1,u()}}}function Ds(l){let e,t;return{c(){e=d("pre"),t=N(l[8])},m(n,s){C(n,e,s),c(e,t)},p(n,s){s&256&&q(t,n[8])},d(n){n&&I(e)}}}function $s(l){let e,t=Tt(l[3])+"";return{c(){e=d("div"),r(e,"class","todo-wrapper"),r(e,"aria-label","Todo list view")},m(n,s){C(n,e,s),e.innerHTML=t},p(n,s){s&8&&t!==(t=Tt(n[3])+"")&&(e.innerHTML=t)},d(n){n&&I(e)}}}function Us(l){let e,t;return{c(){e=d("pre"),t=N(l[8])},m(n,s){C(n,e,s),c(e,t)},p(n,s){s&256&&q(t,n[8])},d(n){n&&I(e)}}}function zs(l){let e,t=se(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=bl(hl(l,t,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();r(e,"class","patch-view svelte-15q0qw3"),r(e,"aria-label","Apply patch visualization")},m(s,i){C(s,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,i){if(i&2){t=se(s[1]);let o;for(o=0;o<t.length;o+=1){const a=hl(s,t,o);n[o]?n[o].p(a,i):(n[o]=bl(a),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&I(e),je(n,s)}}}function Vs(l){let e;return{c(){e=d("div"),e.textContent="(No content changes captured)",r(e,"class","patch-empty svelte-15q0qw3")},m(t,n){C(t,e,n)},p:G,d(t){t&&I(e)}}}function Ws(l){let e,t=gl(l[17].body)+"",n;return{c(){e=d("pre"),r(e,"class","patch-code svelte-15q0qw3"),r(e,"aria-label",n=l[17].action+" file diff")},m(s,i){C(s,e,i),e.innerHTML=t},p(s,i){i&2&&t!==(t=gl(s[17].body)+"")&&(e.innerHTML=t),i&2&&n!==(n=s[17].action+" file diff")&&r(e,"aria-label",n)},d(s){s&&I(e)}}}function Gs(l){let e;return{c(){e=d("div"),e.textContent="File deleted",r(e,"class","patch-deleted-note svelte-15q0qw3")},m(t,n){C(t,e,n)},p:G,d(t){t&&I(e)}}}function bl(l){let e,t,n,s,i=l[17].action+"",o,a,f,u=l[17].filePath+"",_,p,v,m,h;function k(y,w){return y[17].action==="Delete"?Gs:y[17].body?Ws:Vs}let g=k(l),b=g(l);return{c(){e=d("div"),t=d("div"),n=d("span"),s=d("span"),o=N(i),a=N(":"),f=S(),_=N(u),v=S(),b.c(),m=S(),r(s,"class","patch-action-text svelte-15q0qw3"),r(n,"class","patch-path svelte-15q0qw3"),r(n,"title",p=l[17].filePath),r(t,"class","patch-head svelte-15q0qw3"),r(e,"class","patch-file svelte-15q0qw3"),r(e,"data-action",h=l[17].action),r(e,"data-idx",l[19])},m(y,w){C(y,e,w),c(e,t),c(t,n),c(n,s),c(s,o),c(s,a),c(n,f),c(n,_),c(e,v),b.m(e,null),c(e,m)},p(y,w){w&2&&i!==(i=y[17].action+"")&&q(o,i),w&2&&u!==(u=y[17].filePath+"")&&q(_,u),w&2&&p!==(p=y[17].filePath)&&r(n,"title",p),g===(g=k(y))&&b?b.p(y,w):(b.d(1),b=g(y),b&&(b.c(),b.m(e,m))),w&2&&h!==(h=y[17].action)&&r(e,"data-action",h)},d(y){y&&I(e),b.d()}}}function Ks(l){let e,t;return{c(){e=d("pre"),t=N(l[8])},m(n,s){C(n,e,s),c(e,t)},p(n,s){s&256&&q(t,n[8])},d(n){n&&I(e)}}}function Ys(l){let e,t,n,s=l[3].filePath+"",i,o,a,f=l[3].content+"",u;return{c(){e=d("div"),t=d("div"),n=d("span"),i=N(s),o=S(),a=d("pre"),u=N(f),r(n,"class","path svelte-15q0qw3"),r(t,"class","file-head svelte-15q0qw3"),r(e,"class","file-view svelte-15q0qw3")},m(_,p){C(_,e,p),c(e,t),c(t,n),c(n,i),c(e,o),c(e,a),c(a,u)},p(_,p){p&8&&s!==(s=_[3].filePath+"")&&q(i,s),p&8&&f!==(f=_[3].content+"")&&q(u,f)},d(_){_&&I(e)}}}function Qs(l){let e,t;return{c(){e=d("pre"),t=N(l[8])},m(n,s){C(n,e,s),c(e,t)},p(n,s){s&256&&q(t,n[8])},d(n){n&&I(e)}}}function Xs(l){let e,t=(l[6]?At(l[3]):qt(l[3]))+"";return{c(){e=d("div"),r(e,"class","diff-wrapper"),r(e,"aria-label","Replace diff view")},m(n,s){C(n,e,s),e.innerHTML=t},p(n,s){s&72&&t!==(t=(n[6]?At(n[3]):qt(n[3]))+"")&&(e.innerHTML=t)},d(n){n&&I(e)}}}function Zs(l){let e;function t(i,o){return i[7]||i[6]?Bs:i[4]?Js:i[2]?Hs:i[5]?Ls:Es}let n=t(l),s=n(l);return{c(){e=d("div"),s.c(),r(e,"class","fn-args")},m(i,o){C(i,e,o),s.m(e,null)},p(i,[o]){n===(n=t(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e,null)))},i:G,o:G,d(i){i&&I(e),s.d()}}}function xs(l){if(!l)return[];const e=l.indexOf("*** Begin Patch"),t=l.indexOf("*** End Patch");e!==-1&&t!==-1&&(l=l.slice(e+15,t).trim());const n=l.split(/\r?\n/),s=/^\*\*\* (Update|Add|Delete) File: (.+)$/,i=[];let o=null;for(const a of n){const f=a.match(s);f?(o&&i.push(o),o={action:f[1],filePath:f[2].trim(),body:[]}):o&&o.body.push(a)}return o&&i.push(o),i.map(a=>({...a,body:a.body.join(`
`).replace(/^[\n\r]+|[\n\r]+$/g,"")}))}function ei(l){return l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function gl(l){return l?l.split(/\n/).map(e=>{const t=ei(e)||"&nbsp;";let n="ctx";return e.startsWith("+")?n="add":e.startsWith("-")?n="del":e.startsWith("@@")&&(n="hunk"),`<span class="pl ${n}">${t}</span>`}).join(`
`):""}function ti(l,e,t){let n,s,i,o,a,f,u,_,p,v,m,{call:h}=e,k="auto";function g(){t(0,k=k==="diff"?"raw":"diff")}function b(){t(0,k=k==="todo"?"raw":"todo")}function y(){t(0,k=k==="formatted"?"raw":"formatted")}function w(){t(0,k=k==="patch"?"raw":"patch")}return l.$$set=F=>{"call"in F&&t(13,h=F.call)},l.$$.update=()=>{var F,P;l.$$.dirty&8192&&t(14,n=(h==null?void 0:h.arguments)??((F=h==null?void 0:h.function)==null?void 0:F.arguments)),l.$$.dirty&8192&&t(16,s=(h==null?void 0:h.name)??((P=h==null?void 0:h.function)==null?void 0:P.name)),l.$$.dirty&16384&&t(3,i=typeof n=="string"?Oe(n):n),l.$$.dirty&65536&&t(7,o=s==="replace_string_in_file"),l.$$.dirty&65536&&t(6,a=s==="multi_replace_string_in_file"),l.$$.dirty&65536&&t(5,f=s==="manage_todo_list"),l.$$.dirty&65536&&t(4,u=s==="create_file"),l.$$.dirty&65536&&t(2,_=s==="apply_patch"),l.$$.dirty&16396&&t(15,p=(()=>{if(!_)return"";if(i&&typeof i=="object")return i.patch||i.input||i.diff||"";if(typeof n=="string"){const E=Oe(n);if(E&&typeof E=="object")return E.patch||E.input||E.diff||"";if(/\*\*\* Begin Patch/.test(n))return n}return""})()),l.$$.dirty&32772&&t(1,v=_?xs(p):[]),l.$$.dirty&16392&&t(8,m=(()=>{try{if(i&&typeof i=="object")return JSON.stringify(i,null,2);if(typeof n=="string"){const E=Oe(n);return E&&typeof E=="object"?JSON.stringify(E,null,2):n}return n!==void 0?JSON.stringify(n,null,2):""}catch{return typeof n=="string"?n:""}})()),l.$$.dirty&255&&k==="auto"&&(o&&(i!=null&&i.oldString)||a&&Array.isArray(i==null?void 0:i.replacements)&&i.replacements.length?t(0,k="diff"):f&&Array.isArray(i==null?void 0:i.todoList)?t(0,k="todo"):u&&(i==null?void 0:i.content)!==void 0?t(0,k="formatted"):_&&v.length&&t(0,k="patch"))},[k,v,_,i,u,f,a,o,m,g,b,y,w,h,n,p,s]}class li extends Ge{constructor(e){super(),We(this,e,ti,Zs,Ee,{call:13})}}function kl(l,e,t){const n=l.slice();return n[35]=e[t],n[37]=t,n}function ni(l){const e=l.slice(),t=e[13][e[35].id||e[35].tool_call_id||e[35].toolCallId||"idx_"+e[37]].text;e[38]=t;const n=e[15](e[35],e[38]);e[39]=n;const s=e[35].id||e[35].tool_call_id||e[35].toolCallId||"idx_"+e[37];return e[40]=s,e}function Ct(l){const e=l.slice(),t=e[1].response.copilotFunctionCalls||e[1].response.toolCalls||[];return e[34]=t,e}function yl(l,e,t){const n=l.slice();return n[44]=e[t],n[46]=t,n}function wl(l,e,t){const n=l.slice();return n[47]=e[t],n[49]=t,n}function Il(l,e,t){const n=l.slice();return n[51]=e[t],n}function Cl(l,e,t){const n=l.slice();return n[41]=e[t],n[43]=t,n}function si(l){let e;return{c(){e=d("div"),e.innerHTML='<em class="text-soft">No response data available</em>',r(e,"class","empty-response svelte-1t0ixjy")},m(t,n){C(t,e,n)},p:G,i:G,o:G,d(t){t&&I(e)}}}function ii(l){var _,p,v;let e,t,n,s,i,o=l[10]&&Sl(l),a=((_=l[1].response.value)==null?void 0:_.length)&&ql(l),f=(((p=l[1].response.copilotFunctionCalls)==null?void 0:p.length)||((v=l[1].response.toolCalls)==null?void 0:v.length))&&El(Ct(l)),u=l[1].response.usage&&Ul(l);return{c(){o&&o.c(),e=S(),a&&a.c(),t=S(),f&&f.c(),n=S(),u&&u.c(),s=ve()},m(m,h){o&&o.m(m,h),C(m,e,h),a&&a.m(m,h),C(m,t,h),f&&f.m(m,h),C(m,n,h),u&&u.m(m,h),C(m,s,h),i=!0},p(m,h){var k,g,b;m[10]?o?o.p(m,h):(o=Sl(m),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),(k=m[1].response.value)!=null&&k.length?a?a.p(m,h):(a=ql(m),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null),(g=m[1].response.copilotFunctionCalls)!=null&&g.length||(b=m[1].response.toolCalls)!=null&&b.length?f?(f.p(Ct(m),h),h[0]&2&&ge(f,1)):(f=El(Ct(m)),f.c(),ge(f,1),f.m(n.parentNode,n)):f&&(Ue(),ye(f,1,1,()=>{f=null}),ze()),m[1].response.usage?u?u.p(m,h):(u=Ul(m),u.c(),u.m(s.parentNode,s)):u&&(u.d(1),u=null)},i(m){i||(ge(f),i=!0)},o(m){ye(f),i=!1},d(m){m&&(I(e),I(t),I(n),I(s)),o&&o.d(m),a&&a.d(m),f&&f.d(m),u&&u.d(m)}}}function Sl(l){let e,t,n,s,i,o,a,f,u,_,p,v,m,h,k,g,b,y,w,F,P,E,R,A,j,T,O,J,H,B,ee,ie,te,le,V,he,$=l[5]?"Hide Raw Response JSON":"Show Raw Response JSON",Y,oe,L,re,z,ae;function _e(M,x){return M[10].type?ri:oi}let Ce=_e(l),W=Ce(l),U=l[10].type&&Nl(l);function Ae(M,x){return M[10].reason?ci:ai}let Se=Ae(l),ue=Se(l),D=l[10].reason&&jl(l);function Z(M,x){return M[10].requestId?ui:fi}let K=Z(l),Q=K(l),de=l[10].requestId&&Rl(l);function fe(M,x){return M[10].serverRequestId?pi:di}let pe=fe(l),me=pe(l),ke=l[10].serverRequestId&&Al(l),ce=l[5]&&Tl(l);return{c(){e=d("section"),t=d("details"),n=d("summary"),n.innerHTML='<span class="caret svelte-1t0ixjy"></span><h3 class="svelte-1t0ixjy">Response Metadata</h3>',s=S(),i=d("div"),o=d("div"),a=d("div"),f=d("div"),f.textContent="Type",u=S(),_=d("div"),W.c(),p=S(),v=d("div"),U&&U.c(),m=S(),h=d("div"),k=d("div"),k.textContent="Reason",g=S(),b=d("div"),ue.c(),y=S(),w=d("div"),D&&D.c(),F=S(),P=d("div"),E=d("div"),E.textContent="Request ID",R=S(),A=d("div"),Q.c(),j=S(),T=d("div"),de&&de.c(),O=S(),J=d("div"),H=d("div"),H.textContent="Server Request ID",B=S(),ee=d("div"),me.c(),ie=S(),te=d("div"),ke&&ke.c(),le=S(),V=d("div"),he=d("button"),Y=N($),oe=S(),L=d("button"),L.textContent="Copy All",re=S(),ce&&ce.c(),r(n,"class","svelte-1t0ixjy"),r(f,"class","meta-cell key svelte-1t0ixjy"),r(f,"role","cell"),r(_,"class","meta-cell val svelte-1t0ixjy"),r(_,"role","cell"),r(v,"class","meta-cell action svelte-1t0ixjy"),r(v,"role","cell"),r(a,"class","meta-row svelte-1t0ixjy"),r(a,"role","row"),r(k,"class","meta-cell key svelte-1t0ixjy"),r(k,"role","cell"),r(b,"class","meta-cell val svelte-1t0ixjy"),r(b,"role","cell"),r(w,"class","meta-cell action svelte-1t0ixjy"),r(w,"role","cell"),r(h,"class","meta-row svelte-1t0ixjy"),r(h,"role","row"),r(E,"class","meta-cell key svelte-1t0ixjy"),r(E,"role","cell"),r(A,"class","meta-cell val svelte-1t0ixjy"),r(A,"role","cell"),r(T,"class","meta-cell action svelte-1t0ixjy"),r(T,"role","cell"),r(P,"class","meta-row svelte-1t0ixjy"),r(P,"role","row"),r(H,"class","meta-cell key svelte-1t0ixjy"),r(H,"role","cell"),r(ee,"class","meta-cell val svelte-1t0ixjy"),r(ee,"role","cell"),r(te,"class","meta-cell action svelte-1t0ixjy"),r(te,"role","cell"),r(J,"class","meta-row svelte-1t0ixjy"),r(J,"role","row"),r(o,"class","response-meta-table svelte-1t0ixjy"),r(o,"role","table"),r(o,"aria-label","Response metadata key value pairs"),r(he,"class","mini-btn"),r(L,"class","mini-btn alt svelte-1t0ixjy"),r(L,"title","Copy all metadata JSON"),r(V,"class","meta-actions-row svelte-1t0ixjy"),r(i,"class","collapsible-body svelte-1t0ixjy"),r(t,"class","collapsible svelte-1t0ixjy"),r(t,"data-role","response-meta"),t.open=!0,r(t,"aria-label","Response metadata group"),r(e,"class","group response-meta-group svelte-1t0ixjy")},m(M,x){C(M,e,x),c(e,t),c(t,n),c(t,s),c(t,i),c(i,o),c(o,a),c(a,f),c(a,u),c(a,_),W.m(_,null),c(a,p),c(a,v),U&&U.m(v,null),c(o,m),c(o,h),c(h,k),c(h,g),c(h,b),ue.m(b,null),c(h,y),c(h,w),D&&D.m(w,null),c(o,F),c(o,P),c(P,E),c(P,R),c(P,A),Q.m(A,null),c(P,j),c(P,T),de&&de.m(T,null),c(o,O),c(o,J),c(J,H),c(J,B),c(J,ee),me.m(ee,null),c(J,ie),c(J,te),ke&&ke.m(te,null),c(i,le),c(i,V),c(V,he),c(he,Y),c(V,oe),c(V,L),c(i,re),ce&&ce.m(i,null),z||(ae=[ne(he,"click",l[26]),ne(L,"click",l[17])],z=!0)},p(M,x){Ce===(Ce=_e(M))&&W?W.p(M,x):(W.d(1),W=Ce(M),W&&(W.c(),W.m(_,null))),M[10].type?U?U.p(M,x):(U=Nl(M),U.c(),U.m(v,null)):U&&(U.d(1),U=null),Se===(Se=Ae(M))&&ue?ue.p(M,x):(ue.d(1),ue=Se(M),ue&&(ue.c(),ue.m(b,null))),M[10].reason?D?D.p(M,x):(D=jl(M),D.c(),D.m(w,null)):D&&(D.d(1),D=null),K===(K=Z(M))&&Q?Q.p(M,x):(Q.d(1),Q=K(M),Q&&(Q.c(),Q.m(A,null))),M[10].requestId?de?de.p(M,x):(de=Rl(M),de.c(),de.m(T,null)):de&&(de.d(1),de=null),pe===(pe=fe(M))&&me?me.p(M,x):(me.d(1),me=pe(M),me&&(me.c(),me.m(ee,null))),M[10].serverRequestId?ke?ke.p(M,x):(ke=Al(M),ke.c(),ke.m(te,null)):ke&&(ke.d(1),ke=null),x[0]&32&&$!==($=M[5]?"Hide Raw Response JSON":"Show Raw Response JSON")&&q(Y,$),M[5]?ce?ce.p(M,x):(ce=Tl(M),ce.c(),ce.m(i,null)):ce&&(ce.d(1),ce=null)},d(M){M&&I(e),W.d(),U&&U.d(),ue.d(),D&&D.d(),Q.d(),de&&de.d(),me.d(),ke&&ke.d(),ce&&ce.d(),z=!1,Pe(ae)}}}function oi(l){let e;return{c(){e=d("span"),e.textContent="‚Äî",r(e,"class","meta-missing svelte-1t0ixjy")},m(t,n){C(t,e,n)},p:G,d(t){t&&I(e)}}}function ri(l){let e,t=l[10].type+"",n,s;return{c(){e=d("span"),n=N(t),r(e,"class",s="meta-badge "+l[10].type+" svelte-1t0ixjy")},m(i,o){C(i,e,o),c(e,n)},p(i,o){o[0]&1024&&t!==(t=i[10].type+"")&&q(n,t),o[0]&1024&&s!==(s="meta-badge "+i[10].type+" svelte-1t0ixjy")&&r(e,"class",s)},d(i){i&&I(e)}}}function Nl(l){let e,t=l[6].type?"‚úì":"‚ßâ",n,s,i;return{c(){e=d("button"),n=N(t),r(e,"class","copy-btn svelte-1t0ixjy"),r(e,"title","Copy Type")},m(o,a){C(o,e,a),c(e,n),s||(i=ne(e,"click",l[22]),s=!0)},p(o,a){a[0]&64&&t!==(t=o[6].type?"‚úì":"‚ßâ")&&q(n,t)},d(o){o&&I(e),s=!1,i()}}}function ai(l){let e;return{c(){e=d("span"),e.textContent="‚Äî",r(e,"class","meta-missing svelte-1t0ixjy")},m(t,n){C(t,e,n)},p:G,d(t){t&&I(e)}}}function ci(l){let e,t=l[10].reason+"",n,s;return{c(){e=d("span"),n=N(t),r(e,"class",s="reason-badge reason-"+l[10].reason+" svelte-1t0ixjy")},m(i,o){C(i,e,o),c(e,n)},p(i,o){o[0]&1024&&t!==(t=i[10].reason+"")&&q(n,t),o[0]&1024&&s!==(s="reason-badge reason-"+i[10].reason+" svelte-1t0ixjy")&&r(e,"class",s)},d(i){i&&I(e)}}}function jl(l){let e,t=l[6].reason?"‚úì":"‚ßâ",n,s,i;return{c(){e=d("button"),n=N(t),r(e,"class","copy-btn svelte-1t0ixjy"),r(e,"title","Copy Reason")},m(o,a){C(o,e,a),c(e,n),s||(i=ne(e,"click",l[23]),s=!0)},p(o,a){a[0]&64&&t!==(t=o[6].reason?"‚úì":"‚ßâ")&&q(n,t)},d(o){o&&I(e),s=!1,i()}}}function fi(l){let e;return{c(){e=d("span"),e.textContent="‚Äî",r(e,"class","meta-missing svelte-1t0ixjy")},m(t,n){C(t,e,n)},p:G,d(t){t&&I(e)}}}function ui(l){let e,t=l[10].requestId+"",n,s;return{c(){e=d("code"),n=N(t),r(e,"class","id-frag full svelte-1t0ixjy"),r(e,"title",s=l[10].requestId)},m(i,o){C(i,e,o),c(e,n)},p(i,o){o[0]&1024&&t!==(t=i[10].requestId+"")&&q(n,t),o[0]&1024&&s!==(s=i[10].requestId)&&r(e,"title",s)},d(i){i&&I(e)}}}function Rl(l){let e,t=l[6].requestId?"‚úì":"‚ßâ",n,s,i;return{c(){e=d("button"),n=N(t),r(e,"class","copy-btn svelte-1t0ixjy"),r(e,"title","Copy Request ID")},m(o,a){C(o,e,a),c(e,n),s||(i=ne(e,"click",l[24]),s=!0)},p(o,a){a[0]&64&&t!==(t=o[6].requestId?"‚úì":"‚ßâ")&&q(n,t)},d(o){o&&I(e),s=!1,i()}}}function di(l){let e;return{c(){e=d("span"),e.textContent="‚Äî",r(e,"class","meta-missing svelte-1t0ixjy")},m(t,n){C(t,e,n)},p:G,d(t){t&&I(e)}}}function pi(l){let e,t=l[10].serverRequestId+"",n,s;return{c(){e=d("code"),n=N(t),r(e,"class","id-frag full svelte-1t0ixjy"),r(e,"title",s=l[10].serverRequestId)},m(i,o){C(i,e,o),c(e,n)},p(i,o){o[0]&1024&&t!==(t=i[10].serverRequestId+"")&&q(n,t),o[0]&1024&&s!==(s=i[10].serverRequestId)&&r(e,"title",s)},d(i){i&&I(e)}}}function Al(l){let e,t=l[6].serverRequestId?"‚úì":"‚ßâ",n,s,i;return{c(){e=d("button"),n=N(t),r(e,"class","copy-btn svelte-1t0ixjy"),r(e,"title","Copy Server Request ID")},m(o,a){C(o,e,a),c(e,n),s||(i=ne(e,"click",l[25]),s=!0)},p(o,a){a[0]&64&&t!==(t=o[6].serverRequestId?"‚úì":"‚ßâ")&&q(n,t)},d(o){o&&I(e),s=!1,i()}}}function Tl(l){let e,t=JSON.stringify(l[1].response,null,2)+"",n;return{c(){e=d("pre"),n=N(t),r(e,"class","code-block small svelte-1t0ixjy"),Re(e,"margin-top","6px")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&2&&t!==(t=JSON.stringify(s[1].response,null,2)+"")&&q(n,t)},d(s){s&&I(e)}}}function ql(l){let e,t,n,s,i;function o(u,_){return u[3]&&u[12].length?vi:u[3]&&u[11]?mi:_i}let a=o(l),f=a(l);return{c(){e=d("section"),t=d("details"),n=d("summary"),n.innerHTML='<span class="caret svelte-1t0ixjy"></span><h3 class="svelte-1t0ixjy">Response Text</h3>',s=S(),i=d("div"),f.c(),r(n,"class","svelte-1t0ixjy"),r(i,"class","collapsible-body svelte-1t0ixjy"),r(t,"class","collapsible svelte-1t0ixjy"),t.open=!0,r(t,"data-role","response-text"),r(t,"aria-label","Response text group"),r(e,"class","group response-text-group svelte-1t0ixjy")},m(u,_){C(u,e,_),c(e,t),c(t,n),c(t,s),c(t,i),f.m(i,null)},p(u,_){a===(a=o(u))&&f?f.p(u,_):(f.d(1),f=a(u),f&&(f.c(),f.m(i,null)))},d(u){u&&I(e),f.d()}}}function _i(l){let e,t=l[1].response.value.join(`
`)+"",n;return{c(){e=d("pre"),n=N(t),r(e,"class","code-block svelte-1t0ixjy")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&2&&t!==(t=s[1].response.value.join(`
`)+"")&&q(n,t)},d(s){s&&I(e)}}}function mi(l){let e,t=se(l[2]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Fl(yl(l,t,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();r(e,"class","analyze-files-response svelte-1t0ixjy"),r(e,"aria-label","Analyze files and patterns fenced code rendering")},m(s,i){C(s,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,i){if(i[0]&20){t=se(s[2]);let o;for(o=0;o<t.length;o+=1){const a=yl(s,t,o);n[o]?n[o].p(a,i):(n[o]=Fl(a),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&I(e),je(n,s)}}}function vi(l){let e,t,n,s,i,o,a=l[1].response.value.join(`
`)+"",f,u=se(l[12]),_=[];for(let p=0;p<u.length;p+=1)_[p]=Ml(Cl(l,u,p));return{c(){e=d("div");for(let p=0;p<_.length;p+=1)_[p].c();t=S(),n=d("details"),s=d("summary"),s.textContent="Show Raw Combined Text",i=S(),o=d("pre"),f=N(a),r(s,"class","svelte-1t0ixjy"),r(o,"class","code-block small svelte-1t0ixjy"),Re(o,"margin-top","6px"),r(n,"class","raw-response-text svelte-1t0ixjy"),n.open=!0,r(e,"class","analyze-files-response svelte-1t0ixjy"),r(e,"aria-label","Analyze files and patterns formatted output")},m(p,v){C(p,e,v);for(let m=0;m<_.length;m+=1)_[m]&&_[m].m(e,null);c(e,t),c(e,n),c(n,s),c(n,i),c(n,o),c(o,f)},p(p,v){if(v[0]&4096){u=se(p[12]);let m;for(m=0;m<u.length;m+=1){const h=Cl(p,u,m);_[m]?_[m].p(h,v):(_[m]=Ml(h),_[m].c(),_[m].m(e,t))}for(;m<_.length;m+=1)_[m].d(1);_.length=u.length}v[0]&2&&a!==(a=p[1].response.value.join(`
`)+"")&&q(f,a)},d(p){p&&I(e),je(_,p)}}}function hi(l){let e,t=l[47].content+"",n;return{c(){e=d("pre"),n=N(t),r(e,"class","code-block small plain-text svelte-1t0ixjy")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&4&&t!==(t=s[47].content+"")&&q(n,t)},d(s){s&&I(e)}}}function bi(l){let e,t,n,s=(l[47].lang||"code")+"",i,o,a,f=l[47].raw+"",u,_;return{c(){e=d("div"),t=d("div"),n=d("span"),i=N(s),o=S(),a=d("pre"),u=N(f),_=S(),r(n,"class","code-label svelte-1t0ixjy"),r(t,"class","code-head svelte-1t0ixjy"),r(a,"class","code-block small svelte-1t0ixjy"),r(e,"class","code-fallback svelte-1t0ixjy")},m(p,v){C(p,e,v),c(e,t),c(t,n),c(n,i),c(e,o),c(e,a),c(a,u),c(e,_)},p(p,v){v[0]&4&&s!==(s=(p[47].lang||"code")+"")&&q(i,s),v[0]&4&&f!==(f=p[47].raw+"")&&q(u,f)},d(p){p&&I(e)}}}function gi(l){let e,t;function n(o,a){return a[0]&4&&(e=null),e==null&&(e=!!Ft(o[47].raw)),e?yi:ki}let s=n(l,[-1,-1]),i=s(l);return{c(){i.c(),t=ve()},m(o,a){i.m(o,a),C(o,t,a)},p(o,a){s===(s=n(o,a))&&i?i.p(o,a):(i.d(1),i=s(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){o&&I(t),i.d(o)}}}function ki(l){let e,t,n,s=(l[47].lang||"code")+"",i,o,a,f=l[47].raw+"",u,_;return{c(){e=d("div"),t=d("div"),n=d("span"),i=N(s),o=S(),a=d("pre"),u=N(f),_=S(),r(n,"class","code-label svelte-1t0ixjy"),r(t,"class","code-head svelte-1t0ixjy"),r(a,"class","code-block small svelte-1t0ixjy"),r(e,"class","code-fallback svelte-1t0ixjy")},m(p,v){C(p,e,v),c(e,t),c(t,n),c(n,i),c(e,o),c(e,a),c(a,u),c(e,_)},p(p,v){v[0]&4&&s!==(s=(p[47].lang||"code")+"")&&q(i,s),v[0]&4&&f!==(f=p[47].raw+"")&&q(u,f)},d(p){p&&I(e)}}}function yi(l){let e,t,n,s,i={ctx:l,current:null,token:null,hasCatch:!1,pending:Ni,then:Ii,catch:wi,value:50};return zt(s=Promise.resolve(Ft(l[47].raw)),i),{c(){e=d("script"),e.innerHTML="",t=S(),n=ve(),i.block.c(),r(e,"context","module")},m(o,a){C(o,e,a),C(o,t,a),C(o,n,a),i.block.m(o,i.anchor=a),i.mount=()=>n.parentNode,i.anchor=n},p(o,a){l=o,i.ctx=l,a[0]&4&&s!==(s=Promise.resolve(Ft(l[47].raw)))&&zt(s,i)||Qn(i,l,a)},d(o){o&&(I(e),I(t),I(n)),i.block.d(o),i.token=null,i=null}}}function wi(l){return{c:G,m:G,p:G,d:G}}function Ii(l){let e,t,n,s,i,o=l[4][l[46]+"-"+l[49]]?"Pretty":"Raw",a,f,u,_,p,v;function m(){return l[27](l[46],l[49])}function h(b,y){return b[4][b[46]+"-"+b[49]]?Si:Ci}let k=h(l),g=k(l);return{c(){e=d("div"),t=d("div"),n=d("span"),n.textContent="JSON Block",s=S(),i=d("button"),a=N(o),f=S(),g.c(),_=S(),r(n,"class","json-label svelte-1t0ixjy"),r(i,"type","button"),r(i,"class","mini-btn json-raw-toggle"),r(t,"class","json-head svelte-1t0ixjy"),r(e,"class","json-block svelte-1t0ixjy"),r(e,"data-lang",u=l[47].lang)},m(b,y){C(b,e,y),c(e,t),c(t,n),c(t,s),c(t,i),c(i,a),c(e,f),g.m(e,null),C(b,_,y),p||(v=ne(i,"click",m),p=!0)},p(b,y){l=b,y[0]&16&&o!==(o=l[4][l[46]+"-"+l[49]]?"Pretty":"Raw")&&q(a,o),k===(k=h(l))&&g?g.p(l,y):(g.d(1),g=k(l),g&&(g.c(),g.m(e,null))),y[0]&4&&u!==(u=l[47].lang)&&r(e,"data-lang",u)},d(b){b&&(I(e),I(_)),g.d(),p=!1,v()}}}function Ci(l){let e,t=Vl(l[50])+"",n,s,i=se(Wl(l[50])),o=[];for(let a=0;a<i.length;a+=1)o[a]=Ol(Il(l,i,a));return{c(){e=d("pre"),n=S();for(let a=0;a<o.length;a+=1)o[a].c();s=ve(),r(e,"class","code-block small json-pre svelte-1t0ixjy"),r(e,"aria-label","Pretty JSON")},m(a,f){C(a,e,f),e.innerHTML=t,C(a,n,f);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(a,f);C(a,s,f)},p(a,f){if(f[0]&4&&t!==(t=Vl(a[50])+"")&&(e.innerHTML=t),f[0]&4){i=se(Wl(a[50]));let u;for(u=0;u<i.length;u+=1){const _=Il(a,i,u);o[u]?o[u].p(_,f):(o[u]=Ol(_),o[u].c(),o[u].m(s.parentNode,s))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}},d(a){a&&(I(e),I(n),I(s)),je(o,a)}}}function Si(l){let e,t=l[47].raw+"",n;return{c(){e=d("pre"),n=N(t),r(e,"class","code-block small svelte-1t0ixjy")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&4&&t!==(t=s[47].raw+"")&&q(n,t)},d(s){s&&I(e)}}}function Ol(l){let e,t,n,s=l[51].key+"",i,o,a,f,u=l[51].value.split(`
`).length+"",_,p,v,m,h=l[51].value+"",k,g,b;return{c(){e=d("details"),t=d("summary"),n=d("span"),i=N(s),o=S(),a=d("span"),f=N("("),_=N(u),p=N(" lines)"),v=S(),m=d("pre"),k=N(h),b=S(),r(n,"class","snippet-key svelte-1t0ixjy"),r(a,"class","snippet-extra svelte-1t0ixjy"),r(t,"class","svelte-1t0ixjy"),r(m,"class","code-block tiny svelte-1t0ixjy"),r(m,"data-snippet-key",g=l[51].key),r(e,"class","snippet-details svelte-1t0ixjy"),e.open=!0},m(y,w){C(y,e,w),c(e,t),c(t,n),c(n,i),c(t,o),c(t,a),c(a,f),c(a,_),c(a,p),c(e,v),c(e,m),c(m,k),c(e,b)},p(y,w){w[0]&4&&s!==(s=y[51].key+"")&&q(i,s),w[0]&4&&u!==(u=y[51].value.split(`
`).length+"")&&q(_,u),w[0]&4&&h!==(h=y[51].value+"")&&q(k,h),w[0]&4&&g!==(g=y[51].key)&&r(m,"data-snippet-key",g)},d(y){y&&I(e)}}}function Ni(l){return{c:G,m:G,p:G,d:G}}function Pl(l){let e;function t(i,o){if(i[47].type==="code"&&(i[47].lang==="json"||i[47].lang==="javascript"||i[47].lang==="js"))return gi;if(i[47].type==="code")return bi;if(i[47].type==="text")return hi}let n=t(l),s=n&&n(l);return{c(){s&&s.c(),e=ve()},m(i,o){s&&s.m(i,o),C(i,e,o)},p(i,o){n===(n=t(i))&&s?s.p(i,o):(s&&s.d(1),s=n&&n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&I(e),s&&s.d(i)}}}function Fl(l){let e,t=se(l[44]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Pl(wl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ve()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);C(s,e,i)},p(s,i){if(i[0]&20){t=se(s[44]);let o;for(o=0;o<t.length;o+=1){const a=wl(s,t,o);n[o]?n[o].p(a,i):(n[o]=Pl(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&I(e),je(n,s)}}}function ji(l){let e;return{c(){e=d("div"),e.textContent="(No content changes captured)",r(e,"class","patch-empty svelte-1t0ixjy")},m(t,n){C(t,e,n)},p:G,d(t){t&&I(e)}}}function Ri(l){let e,t=zl(l[41].body)+"",n;return{c(){e=d("pre"),r(e,"class","patch-code svelte-1t0ixjy"),r(e,"aria-label",n=l[41].action+" file diff")},m(s,i){C(s,e,i),e.innerHTML=t},p(s,i){i[0]&4096&&t!==(t=zl(s[41].body)+"")&&(e.innerHTML=t),i[0]&4096&&n!==(n=s[41].action+" file diff")&&r(e,"aria-label",n)},d(s){s&&I(e)}}}function Ai(l){let e;return{c(){e=d("div"),e.textContent="File deleted",r(e,"class","patch-deleted-note svelte-1t0ixjy")},m(t,n){C(t,e,n)},p:G,d(t){t&&I(e)}}}function Ml(l){let e,t,n,s=l[41].action+"",i,o,a,f,u=l[41].filePath+"",_,p,v,m;function h(b,y){return b[41].action==="Delete"?Ai:b[41].body?Ri:ji}let k=h(l),g=k(l);return{c(){e=d("div"),t=d("div"),n=d("span"),i=N(s),a=S(),f=d("span"),_=N(u),v=S(),g.c(),r(n,"class",o="patch-action tag-"+l[41].action.toLowerCase()+" svelte-1t0ixjy"),r(f,"class","patch-path svelte-1t0ixjy"),r(f,"title",p=l[41].filePath),r(t,"class","patch-head svelte-1t0ixjy"),r(e,"class","patch-file svelte-1t0ixjy"),r(e,"data-action",m=l[41].action),r(e,"data-idx",l[43])},m(b,y){C(b,e,y),c(e,t),c(t,n),c(n,i),c(t,a),c(t,f),c(f,_),c(e,v),g.m(e,null)},p(b,y){y[0]&4096&&s!==(s=b[41].action+"")&&q(i,s),y[0]&4096&&o!==(o="patch-action tag-"+b[41].action.toLowerCase()+" svelte-1t0ixjy")&&r(n,"class",o),y[0]&4096&&u!==(u=b[41].filePath+"")&&q(_,u),y[0]&4096&&p!==(p=b[41].filePath)&&r(f,"title",p),k===(k=h(b))&&g?g.p(b,y):(g.d(1),g=k(b),g&&(g.c(),g.m(e,null))),y[0]&4096&&m!==(m=b[41].action)&&r(e,"data-action",m)},d(b){b&&I(e),g.d()}}}function El(l){let e,t,n,s,i,o,a,f=l[34].length+"",u,_,p,v,m,h=se(l[34]),k=[];for(let b=0;b<h.length;b+=1)k[b]=$l(kl(l,h,b));const g=b=>ye(k[b],1,1,()=>{k[b]=null});return{c(){e=d("section"),t=d("details"),n=d("summary"),s=d("span"),i=d("h3"),o=N("Tool Calls "),a=d("span"),u=N(f),_=S(),p=d("div"),v=d("div");for(let b=0;b<k.length;b+=1)k[b].c();r(s,"class","caret svelte-1t0ixjy"),r(a,"class","count-badge svelte-1t0ixjy"),r(i,"class","svelte-1t0ixjy"),r(n,"class","svelte-1t0ixjy"),r(v,"class","scroll-area calls-scroll svelte-1t0ixjy"),r(v,"role","region"),r(v,"aria-label","Tool calls within response (each in its own section)"),r(p,"class","collapsible-body svelte-1t0ixjy"),r(t,"class","collapsible svelte-1t0ixjy"),t.open=!0,r(t,"data-role","response-calls"),r(t,"aria-label","Response tool calls group"),r(e,"class","group response-calls-group svelte-1t0ixjy")},m(b,y){C(b,e,y),c(e,t),c(t,n),c(n,s),c(n,i),c(i,o),c(i,a),c(a,u),c(t,_),c(t,p),c(p,v);for(let w=0;w<k.length;w+=1)k[w]&&k[w].m(v,null);l[31](v),m=!0},p(b,y){if((!m||y[0]&2)&&f!==(f=b[34].length+"")&&q(u,f),y[0]&844171){h=se(b[34]);let w;for(w=0;w<h.length;w+=1){const F=kl(b,h,w);k[w]?(k[w].p(F,y),ge(k[w],1)):(k[w]=$l(F),k[w].c(),ge(k[w],1),k[w].m(v,null))}for(Ue(),w=h.length;w<k.length;w+=1)g(w);ze()}},i(b){if(!m){for(let y=0;y<h.length;y+=1)ge(k[y]);m=!0}},o(b){k=k.filter(Boolean);for(let y=0;y<k.length;y+=1)ye(k[y]);m=!1},d(b){b&&I(e),je(k,b),l[31](null)}}}function Ll(l){let e;return{c(){e=d("span"),e.textContent="INFERRED",r(e,"class","infer-badge svelte-1t0ixjy"),r(e,"title","Inferred tool name")},m(t,n){C(t,e,n)},d(t){t&&I(e)}}}function Hl(l){let e;return{c(){e=d("span"),e.textContent="Active",r(e,"class","selected-badge svelte-1t0ixjy")},m(t,n){C(t,e,n)},d(t){t&&I(e)}}}function Jl(l){let e;function t(o,a){var f;return(f=o[13][o[35].id||o[35].tool_call_id||o[35].toolCallId||"idx_"+o[37]])!=null&&f.text?Bl:Ti}function n(o,a){return a===Bl?ni(o):o}let s=t(l),i=s(n(l,s));return{c(){i.c(),e=ve()},m(o,a){i.m(o,a),C(o,e,a)},p(o,a){s===(s=t(o))&&i?i.p(n(o,s),a):(i.d(1),i=s(n(o,s)),i&&(i.c(),i.m(e.parentNode,e)))},d(o){o&&I(e),i.d(o)}}}function Ti(l){let e;return{c(){e=d("div"),e.innerHTML='<em class="text-soft">No result output located for this call id</em>',r(e,"class","tool-result-block empty svelte-1t0ixjy"),r(e,"id","resp-fnresult-"+l[37]),r(e,"aria-label","Tool call result output missing")},m(t,n){C(t,e,n)},p:G,d(t){t&&I(e)}}}function Bl(l){let e;function t(i,o){return i[7][i[35].id||i[35].tool_call_id||i[35].toolCallId||"idx_"+i[37]]!==!1?Oi:qi}let n=t(l),s=n(l);return{c(){s.c(),e=ve()},m(i,o){s.m(i,o),C(i,e,o)},p(i,o){n===(n=t(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&I(e),s.d(i)}}}function qi(l){let e,t,n,s,i,o,a;function f(){return l[30](l[35],l[37])}return{c(){e=d("div"),t=d("div"),n=d("div"),n.textContent="Result (hidden)",s=S(),i=d("button"),i.textContent="Show",r(n,"class","tool-result-head svelte-1t0ixjy"),r(i,"class","result-toggle svelte-1t0ixjy"),r(i,"type","button"),r(t,"class","tool-result-head-row svelte-1t0ixjy"),r(e,"class","tool-result-block collapsed svelte-1t0ixjy"),r(e,"id","resp-fnresult-"+l[37]),r(e,"aria-label","Tool call result output hidden")},m(u,_){C(u,e,_),c(e,t),c(t,n),c(t,s),c(t,i),o||(a=ne(i,"click",f),o=!0)},p(u,_){l=u},d(u){u&&I(e),o=!1,a()}}}function Oi(l){let e,t,n,s,i,o,a,f,u,_=l[39]&&Dl(l);function p(){return l[29](l[35],l[37])}function v(k,g){return k[39]&&(k[8][k[40]]||"rendered")==="rendered"?Fi:Pi}let m=v(l),h=m(l);return{c(){e=d("div"),t=d("div"),n=d("div"),n.textContent="Result",s=S(),_&&_.c(),i=S(),o=d("button"),o.textContent="Hide",a=S(),h.c(),r(n,"class","tool-result-head svelte-1t0ixjy"),r(o,"class","result-toggle svelte-1t0ixjy"),r(o,"type","button"),r(t,"class","tool-result-head-row svelte-1t0ixjy"),r(e,"class","tool-result-block open svelte-1t0ixjy"),r(e,"id","resp-fnresult-"+l[37]),r(e,"aria-label","Tool call result output")},m(k,g){C(k,e,g),c(e,t),c(t,n),c(t,s),_&&_.m(t,null),c(t,i),c(t,o),c(e,a),h.m(e,null),f||(u=ne(o,"click",p),f=!0)},p(k,g){l=k,l[39]?_?_.p(l,g):(_=Dl(l),_.c(),_.m(t,i)):_&&(_.d(1),_=null),m===(m=v(l))&&h?h.p(l,g):(h.d(1),h=m(l),h&&(h.c(),h.m(e,null)))},d(k){k&&I(e),_&&_.d(),h.d(),f=!1,u()}}}function Dl(l){let e,t=(l[8][l[40]]||"rendered")==="rendered"?"Raw":"Rendered",n,s,i;function o(){return l[28](l[40])}return{c(){e=d("button"),n=N(t),r(e,"class","result-toggle svelte-1t0ixjy"),r(e,"type","button")},m(a,f){C(a,e,f),c(e,n),s||(i=ne(e,"click",o),s=!0)},p(a,f){l=a,f[0]&258&&t!==(t=(l[8][l[40]]||"rendered")==="rendered"?"Raw":"Rendered")&&q(n,t)},d(a){a&&I(e),s=!1,i()}}}function Pi(l){let e,t=l[38]+"",n;return{c(){e=d("pre"),n=N(t),r(e,"class","code-block small svelte-1t0ixjy")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&8194&&t!==(t=s[38]+"")&&q(n,t)},d(s){s&&I(e)}}}function Fi(l){let e,t=l[39]+"";return{c(){e=d("div"),r(e,"class","diff-wrapper"),r(e,"aria-label","Tool result rendered view")},m(n,s){C(n,e,s),e.innerHTML=t},p(n,s){s[0]&8194&&t!==(t=n[39]+"")&&(e.innerHTML=t)},d(n){n&&I(e)}}}function $l(l){var J,H;let e,t,n,s,i,o,a,f=l[37]+1+"",u,_,p=l[14](l[35])+"",v,m,h=l[3]&&((H=(J=l[35].name)==null?void 0:J.toLowerCase)==null?void 0:H.call(J))==="none"||l[14](l[35])==="patch_file",k,g,b,y,w,F,P,E,R,A,j=h&&Ll(),T=l[0].callIndex===l[37]&&Hl();y=new li({props:{call:l[35]}});let O=(l[35].id||l[35].tool_call_id||l[35].toolCallId||!0)&&Jl(l);return{c(){e=d("details"),t=d("summary"),n=d("span"),s=S(),i=d("div"),o=d("h5"),a=N("Call "),u=N(f),_=N(": "),v=N(p),m=S(),j&&j.c(),k=S(),T&&T.c(),g=S(),b=d("div"),$e(y.$$.fragment),w=S(),O&&O.c(),F=S(),r(n,"class","mini-caret svelte-1t0ixjy"),r(o,"class","no-transform svelte-1t0ixjy"),r(i,"class","tool-title-area svelte-1t0ixjy"),r(t,"class","toolcall-head svelte-1t0ixjy"),r(t,"id","resp-fnhead-"+l[37]),r(b,"class","prompt-body svelte-1t0ixjy"),r(e,"class",P="prompt-collapsible toolcall-section "+(l[0].callIndex===l[37]?"active":"")+" svelte-1t0ixjy"),r(e,"id","resp-fncall-"+l[37]),r(e,"data-call-id",E=l[35].id||l[35].tool_call_id||l[35].toolCallId||"idx_"+l[37]),e.open=R=l[0].callIndex===l[37]},m(B,ee){C(B,e,ee),c(e,t),c(t,n),c(t,s),c(t,i),c(i,o),c(o,a),c(o,u),c(o,_),c(o,v),c(o,m),j&&j.m(o,null),c(i,k),T&&T.m(i,null),c(e,g),c(e,b),Je(y,b,null),c(b,w),O&&O.m(b,null),c(e,F),A=!0},p(B,ee){var te,le;(!A||ee[0]&2)&&p!==(p=B[14](B[35])+"")&&q(v,p),ee[0]&10&&(h=B[3]&&((le=(te=B[35].name)==null?void 0:te.toLowerCase)==null?void 0:le.call(te))==="none"||B[14](B[35])==="patch_file"),h?j||(j=Ll(),j.c(),j.m(o,null)):j&&(j.d(1),j=null),B[0].callIndex===B[37]?T||(T=Hl(),T.c(),T.m(i,null)):T&&(T.d(1),T=null);const ie={};ee[0]&2&&(ie.call=B[35]),y.$set(ie),B[35].id||B[35].tool_call_id||B[35].toolCallId,O?O.p(B,ee):(O=Jl(B),O.c(),O.m(b,null)),(!A||ee[0]&1&&P!==(P="prompt-collapsible toolcall-section "+(B[0].callIndex===B[37]?"active":"")+" svelte-1t0ixjy"))&&r(e,"class",P),(!A||ee[0]&2&&E!==(E=B[35].id||B[35].tool_call_id||B[35].toolCallId||"idx_"+B[37]))&&r(e,"data-call-id",E),(!A||ee[0]&1&&R!==(R=B[0].callIndex===B[37]))&&(e.open=R)},i(B){A||(ge(y.$$.fragment,B),A=!0)},o(B){ye(y.$$.fragment,B),A=!1},d(B){B&&I(e),j&&j.d(),T&&T.d(),Be(y),O&&O.d()}}}function Ul(l){let e,t,n,s,i,o,a=JSON.stringify(l[1].response.usage,null,2)+"",f;return{c(){e=d("section"),t=d("details"),n=d("summary"),n.innerHTML='<span class="caret svelte-1t0ixjy"></span><h3 class="svelte-1t0ixjy">Usage Statistics</h3>',s=S(),i=d("div"),o=d("pre"),f=N(a),r(n,"class","svelte-1t0ixjy"),r(o,"class","code-block svelte-1t0ixjy"),r(i,"class","collapsible-body svelte-1t0ixjy"),r(t,"class","collapsible svelte-1t0ixjy"),r(t,"data-role","usage"),r(t,"aria-label","Usage statistics group"),r(e,"class","group usage-group svelte-1t0ixjy")},m(u,_){C(u,e,_),c(e,t),c(t,n),c(t,s),c(t,i),c(i,o),c(o,f)},p(u,_){_[0]&2&&a!==(a=JSON.stringify(u[1].response.usage,null,2)+"")&&q(f,a)},d(u){u&&I(e)}}}function Mi(l){let e,t,n,s,i,o;const a=[ii,si],f=[];function u(_,p){var v;return(v=_[1])!=null&&v.response?0:1}return s=u(l),i=f[s]=a[s](l),{c(){e=d("section"),t=d("header"),t.innerHTML='<h2 class="svelte-1t0ixjy">Response Detail</h2> <div class="section-meta svelte-1t0ixjy"><span class="section-info svelte-1t0ixjy">AI Response, Tool Calls &amp; Usage</span></div>',n=S(),i.c(),r(t,"class","section-header svelte-1t0ixjy"),r(e,"class","main-section response-section svelte-1t0ixjy")},m(_,p){C(_,e,p),c(e,t),c(e,n),f[s].m(e,null),o=!0},p(_,p){let v=s;s=u(_),s===v?f[s].p(_,p):(Ue(),ye(f[v],1,1,()=>{f[v]=null}),ze(),i=f[s],i?i.p(_,p):(i=f[s]=a[s](_),i.c()),ge(i,1),i.m(e,null))},i(_){o||(ge(i),o=!0)},o(_){ye(i),o=!1},d(_){_&&I(e),f[s].d()}}}function Pt(l){return typeof l=="string"&&/\*\*\* Begin Patch[\s\S]*\*\*\* End Patch/.test(l)}function Ei(l){if(!Pt(l))return"";const e=l.match(/\*\*\* Begin Patch[\s\S]*?\*\*\* End Patch/);return e?e[0]:""}function Li(l){if(!l)return[];const e=l.indexOf("*** Begin Patch"),t=l.indexOf("*** End Patch");e!==-1&&t!==-1&&(l=l.slice(e+15,t).trim());const n=l.split(/\r?\n/),s=/^\*\*\* (Update|Add|Delete) File: (.+)$/,i=[];let o=null;for(const a of n){const f=a.match(s);f?(o&&i.push(o),o={action:f[1],filePath:f[2].trim(),body:[]}):o&&o.body.push(a)}return o&&i.push(o),i.map(a=>({...a,body:a.body.join(`
`).replace(/^[\n\r]+|[\n\r]+$/g,"")}))}function Hi(l){return l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function zl(l){return l?l.split(/\n/).map(e=>{const t=Hi(e)||"&nbsp;";let n="ctx";return e.startsWith("+")?n="add":e.startsWith("-")?n="del":e.startsWith("@@")&&(n="hunk"),`<span class="pl ${n}">${t}</span>`}).join(`
`):""}function Ji(l){var e;return(l==null?void 0:l.name)||((e=l==null?void 0:l.function)==null?void 0:e.name)||""}function Bi(l){if(typeof l!="string")return[{type:"text",content:l}];const e=/```(\w+)?\n([\s\S]*?)```/g,t=[];let n=0,s;for(;(s=e.exec(l))!==null;){if(s.index>n){const i=l.slice(n,s.index);i.trim().length&&t.push({type:"text",content:i})}t.push({type:"code",lang:(s[1]||"").toLowerCase(),raw:s[2]}),n=s.index+s[0].length}if(n<l.length){const i=l.slice(n);i.trim().length&&t.push({type:"text",content:i})}return t.length?t:[{type:"text",content:l}]}function Ft(l){try{return JSON.parse(l)}catch{return null}}function rt(l){return l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Vl(l){const e=typeof l=="string"?l:JSON.stringify(l,null,2);return rt(e).replace(/^(\s*)("[^"]+"?)(:)?(.*)$/gm,(t,n,s,i,o)=>{let a=n||"";if(/^".*"$/.test(s)&&i?a+=`<span class="j-key">${rt(s)}</span>${i}`:a+=`<span class="j-lit">${rt(s+(i||""))}</span>`,o){const u=o.trim();let _="j-lit";/^".*"[,]?$/.test(u)?_="j-str":/^(true|false|null)[,]?$/.test(u)?_="j-bool":/^-?\d+(\.\d+)?([eE][+-]?\d+)?[,]?$/.test(u)?_="j-num":(/^[\[{]$/.test(u)||/^[\]}][,]?$/.test(u))&&(_="j-brkt"),a+=` <span class="${_}">${rt(o)}</span>`}return a})}function Wl(l){if(!l||typeof l!="object")return[];const e=[];for(const[t,n]of Object.entries(l))if(typeof n=="string"&&/\n/.test(n)){let s=n;const i=(s.match(/\\n/g)||[]).length;i&&i>(s.match(/\n/g)||[]).length&&(s=s.replace(/\\n/g,`
`)),s=s.replace(/^\uFEFF/,""),e.push({key:t,value:s})}return e}function Di(l){return l?l.scrollHeight-l.clientHeight>2:!1}function $i(l,e,t){return Number.isFinite(l)?Math.min(t,Math.max(e,l)):e}function Ui(){return new Promise(l=>requestAnimationFrame(()=>l()))}function zi(l,e,{align:t="top",offset:n=8}={}){if(!l||!e)return!1;const s=l.getBoundingClientRect(),i=e.getBoundingClientRect();let o=l.scrollTop+(i.top-s.top)-n;if(t==="center"){const a=l.clientHeight/2-i.height/2;o=l.scrollTop+(i.top-s.top)-a}if(Number.isFinite(o)){const a=Math.max(0,l.scrollHeight-l.clientHeight);return o=$i(o,0,a),l.scrollTop=o,requestAnimationFrame(()=>{l.scrollTop=o}),!0}return!1}function Vi(l,e,t){let n,s,i,o,a,f,u;Ne(l,cs,$=>t(13,u=$));let{current:_}=e,{req:p}=e;function v($){var oe;if(!$)return"";const Y=$.name||((oe=$.function)==null?void 0:oe.name);return(!Y||Y.toLowerCase()==="none")&&n?"analyze_files_and_patterns":(!Y||Y.toLowerCase()==="none")&&s&&s.length&&Pt(s[0])?"patch_file":Y||"None"}function m($,Y){const oe=Ji($);if(!Y||typeof Y!="string")return null;if(oe==="replace_string_in_file"){const L=es(Y);if(L)return qt(L)}if(oe==="multi_replace_string_in_file"){const L=ts(Y);if(L)return At(L)}if(oe==="manage_todo_list"){const L=ls(Y);if(L)return Tt(L)}return null}let h={},k=!1,g={},b={};async function y($,Y){if(Y)try{await navigator.clipboard.writeText(Y),t(6,g={...g,[$]:!0}),clearTimeout(b[$]),b[$]=setTimeout(()=>{t(6,g={...g,[$]:!1})},1400)}catch(oe){console.warn("Failed to copy metadata",$,oe)}}async function w(){if(!f)return;const $=JSON.stringify(f,null,2);try{await navigator.clipboard.writeText($)}catch{}}let F={};function P($){const Y=F[$]!==!1;t(7,F={...F,[$]:!Y})}let E={};function R($){const Y=E[$]||"rendered";t(8,E={...E,[$]:Y==="rendered"?"raw":"rendered"})}let A,j;async function T(){var ae;const $=_==null?void 0:_.callIndex;if($==null)return;await ft();const Y=document.getElementById(`resp-fncall-${$}`),oe=document.getElementById(`resp-fnresult-${$}`),re=document.getElementById(`resp-fnhead-${$}`)||((ae=Y==null?void 0:Y.querySelector)==null?void 0:ae.call(Y,".toolcall-head"))||oe||Y;if(!re)return;const z=()=>j&&Di(j)?zi(j,re,{align:"center"}):!1;z()||re.scrollIntoView({behavior:"auto",block:"center"}),await Ui(),await ft(),z()||re.scrollIntoView({behavior:"auto",block:"center"})}const O=()=>y("type",f.type),J=()=>y("reason",f.reason),H=()=>y("requestId",f.requestId),B=()=>y("serverRequestId",f.serverRequestId),ee=()=>t(5,k=!k),ie=($,Y)=>t(4,h[$+"-"+Y]=!h[$+"-"+Y],h),te=$=>R($),le=($,Y)=>P($.id||$.tool_call_id||$.toolCallId||"idx_"+Y),V=($,Y)=>P($.id||$.tool_call_id||$.toolCallId||"idx_"+Y);function he($){Le[$?"unshift":"push"](()=>{j=$,t(9,j)})}return l.$$set=$=>{"current"in $&&t(0,_=$.current),"req"in $&&t(1,p=$.req)},l.$$.update=()=>{var $,Y,oe;if(l.$$.dirty[0]&2&&t(3,n=p!=null&&p.requestMessages?p.requestMessages.some(L=>L.role==="system"&&Array.isArray(L.content)&&L.content.some(re=>((re==null?void 0:re.text)||re)==="You are an expert at analyzing files and patterns.")):!1),l.$$.dirty[0]&2&&t(21,s=(($=p==null?void 0:p.response)==null?void 0:$.value)||[]),l.$$.dirty[0]&2097160&&t(12,i=n?s.filter(L=>Pt(L)).flatMap(L=>Li(Ei(L))):[]),l.$$.dirty[0]&2097160&&t(2,o=n?s.map(L=>Bi(L)):[]),l.$$.dirty[0]&12&&t(11,a=n&&o.some(L=>L.some(re=>re.type==="code"))),l.$$.dirty[0]&2&&t(10,f=p!=null&&p.response?{type:p.response.type,reason:p.response.reason,requestId:p.response.requestId,serverRequestId:p.response.serverRequestId}:null),l.$$.dirty[0]&1048579&&p!=null&&p.response&&((Y=p.response.copilotFunctionCalls)!=null&&Y.length||(oe=p.response.toolCalls)!=null&&oe.length)){const L=`${p.response.requestId||p.response.serverRequestId||""}:${_==null?void 0:_.callIndex}`;L!==A&&(t(20,A=L),T())}},[_,p,o,n,h,k,g,F,E,j,f,a,i,u,v,m,y,w,P,R,A,s,O,J,H,B,ee,ie,te,le,V,he]}class Wi extends Ge{constructor(e){super(),We(this,e,Vi,Mi,Ee,{current:0,req:1},null,[-1,-1])}}const{Map:Gi}=Un;function Gl(l,e,t){const n=l.slice();return n[37]=e[t][0],n[38]=e[t][1],n}function Kl(l,e,t){const n=l.slice();return n[41]=e[t],n[43]=t,n}function Yl(l,e,t){const n=l.slice();return n[44]=e[t],n[46]=t,n}function Ql(l,e,t){const n=l.slice();return n[47]=e[t],n[43]=t,n}function Xl(l,e,t){const n=l.slice();return n[49]=e[t],n}function Zl(l,e,t){const n=l.slice();return n[52]=e[t],n}function xl(l,e,t){const n=l.slice();return n[47]=e[t],n[43]=t,n}function en(l,e,t){const n=l.slice();return n[49]=e[t],n}function tn(l,e,t){const n=l.slice();return n[52]=e[t],n}function Ki(l){var pe,me,ke,ce;let e,t,n,s,i,o=(((pe=l[0])==null?void 0:pe.name)||"default agent")+"",a,f,u=l[1]&&l[1].trim(),_,p,v,m,h=(((ke=(me=l[0])==null?void 0:me.response)==null?void 0:ke.requestId)||"N/A")+"",k,g,b,y,w=(((ce=l[0])==null?void 0:ce.model)||"Unknown")+"",F,P,E,R,A,j,T,O,J,H,B,ee,ie,te,le,V,he,$,Y,oe,L,re,z,ae,_e,Ce,W=u&&ln(l);function U(M,x){return M[4]?eo:M[3]?xi:Zi}let Ae=U(l),Se=Ae(l),ue=l[17].length&&nn(l),D=l[16].length&&an(l),Z=l[12].length&&dn(l),K=l[14].length&&_n(l);function Q(M,x){var Ie;return(Ie=M[0])!=null&&Ie.requestOptions?$o:Do}let de=Q(l),fe=de(l);return z=new Wi({props:{current:l[2],req:l[0]}}),{c(){e=d("div"),t=d("header"),n=d("div"),s=d("span"),i=N("Agent: "),a=N(o),f=S(),W&&W.c(),_=S(),p=d("div"),v=d("span"),m=N("Request ID: "),k=N(h),g=S(),b=d("span"),y=N("Model: "),F=N(w),P=S(),E=d("div"),R=d("button"),Se.c(),T=S(),O=d("section"),J=d("header"),J.innerHTML='<h2 class="svelte-173f7ix">Request Detail</h2> <div class="section-meta svelte-173f7ix"><span class="section-info svelte-173f7ix">Messages, Tools &amp; Options</span></div>',H=S(),ue&&ue.c(),B=S(),D&&D.c(),ee=S(),Z&&Z.c(),ie=S(),te=d("section"),le=d("details"),V=d("summary"),he=d("span"),$=d("h3"),Y=N("Request Options "),K&&K.c(),oe=S(),L=d("div"),fe.c(),re=S(),$e(z.$$.fragment),r(s,"class","agent-info svelte-173f7ix"),r(v,"class","rid svelte-173f7ix"),r(b,"class","model-info svelte-173f7ix"),r(p,"class","hdr-subline svelte-173f7ix"),r(n,"class","hdr-left svelte-173f7ix"),r(R,"class","copy-raw-btn svelte-173f7ix"),r(R,"aria-label","Copy raw request and response"),R.disabled=A=!l[0],r(E,"class","actions svelte-173f7ix"),r(t,"class",j="hdr "+(l[18]?"compact":"")+" svelte-173f7ix"),r(J,"class","section-header svelte-173f7ix"),r(he,"class","caret svelte-173f7ix"),r($,"class","svelte-173f7ix"),r(V,"class","svelte-173f7ix"),r(L,"class","collapsible-body svelte-173f7ix"),r(le,"class","collapsible svelte-173f7ix"),r(le,"data-role","options"),r(le,"aria-label","Request options group"),r(te,"class","group options-group svelte-173f7ix"),r(O,"class","main-section request-section svelte-173f7ix"),r(e,"class","panel detail-panel svelte-173f7ix")},m(M,x){C(M,e,x),c(e,t),c(t,n),c(n,s),c(s,i),c(s,a),c(n,f),W&&W.m(n,null),c(n,_),c(n,p),c(p,v),c(v,m),c(v,k),c(p,g),c(p,b),c(b,y),c(b,F),c(t,P),c(t,E),c(E,R),Se.m(R,null),c(e,T),c(e,O),c(O,J),c(O,H),ue&&ue.m(O,null),c(O,B),D&&D.m(O,null),c(O,ee),Z&&Z.m(O,null),c(O,ie),c(O,te),c(te,le),c(le,V),c(V,he),c(V,$),c($,Y),K&&K.m($,null),c(le,oe),c(le,L),fe.m(L,null),c(e,re),Je(z,e,null),ae=!0,_e||(Ce=ne(R,"click",l[19]),_e=!0)},p(M,x){var Te,be,X,we;(!ae||x[0]&1)&&o!==(o=(((Te=M[0])==null?void 0:Te.name)||"default agent")+"")&&q(a,o),x[0]&2&&(u=M[1]&&M[1].trim()),u?W?W.p(M,x):(W=ln(M),W.c(),W.m(n,_)):W&&(W.d(1),W=null),(!ae||x[0]&1)&&h!==(h=(((X=(be=M[0])==null?void 0:be.response)==null?void 0:X.requestId)||"N/A")+"")&&q(k,h),(!ae||x[0]&1)&&w!==(w=(((we=M[0])==null?void 0:we.model)||"Unknown")+"")&&q(F,w),Ae!==(Ae=U(M))&&(Se.d(1),Se=Ae(M),Se&&(Se.c(),Se.m(R,null))),(!ae||x[0]&1&&A!==(A=!M[0]))&&(R.disabled=A),(!ae||x[0]&262144&&j!==(j="hdr "+(M[18]?"compact":"")+" svelte-173f7ix"))&&r(t,"class",j),M[17].length?ue?ue.p(M,x):(ue=nn(M),ue.c(),ue.m(O,B)):ue&&(ue.d(1),ue=null),M[16].length?D?D.p(M,x):(D=an(M),D.c(),D.m(O,ee)):D&&(D.d(1),D=null),M[12].length?Z?Z.p(M,x):(Z=dn(M),Z.c(),Z.m(O,ie)):Z&&(Z.d(1),Z=null),M[14].length?K?K.p(M,x):(K=_n(M),K.c(),K.m($,null)):K&&(K.d(1),K=null),de===(de=Q(M))&&fe?fe.p(M,x):(fe.d(1),fe=de(M),fe&&(fe.c(),fe.m(L,null)));const Ie={};x[0]&4&&(Ie.current=M[2]),x[0]&1&&(Ie.req=M[0]),z.$set(Ie)},i(M){ae||(ge(z.$$.fragment,M),ae=!0)},o(M){ye(z.$$.fragment,M),ae=!1},d(M){M&&I(e),W&&W.d(),Se.d(),ue&&ue.d(),D&&D.d(),Z&&Z.d(),K&&K.d(),fe.d(),Be(z),_e=!1,Ce()}}}function Yi(l){let e;return{c(){e=d("div"),e.textContent="No selection.",r(e,"class","panel")},m(t,n){C(t,e,n)},p:G,i:G,o:G,d(t){t&&I(e)}}}function ln(l){let e,t,n,s,i,o=l[5]?"Collapse":"Expand",a,f,u,_,p;function v(k,g){return k[5]?Xi:Qi}let m=v(l),h=m(l);return{c(){e=d("div"),t=d("div"),n=d("span"),n.textContent="Prompt",s=S(),i=d("button"),a=N(o),f=S(),h.c(),r(n,"class","agent-prompt-label svelte-173f7ix"),r(i,"class","raw-toggle-btn prompt-toggle-btn svelte-173f7ix"),r(i,"type","button"),r(t,"class","agent-prompt-head svelte-173f7ix"),r(e,"class","agent-prompt svelte-173f7ix"),r(e,"data-expanded",u=l[5]?"true":"false")},m(k,g){C(k,e,g),c(e,t),c(t,n),c(t,s),c(t,i),c(i,a),c(e,f),h.m(e,null),_||(p=ne(i,"click",l[27]),_=!0)},p(k,g){g[0]&32&&o!==(o=k[5]?"Collapse":"Expand")&&q(a,o),m===(m=v(k))&&h?h.p(k,g):(h.d(1),h=m(k),h&&(h.c(),h.m(e,null))),g[0]&32&&u!==(u=k[5]?"true":"false")&&r(e,"data-expanded",u)},d(k){k&&I(e),h.d(),_=!1,p()}}}function Qi(l){let e,t=l[15].preview+"",n;return{c(){e=d("div"),n=N(t),r(e,"class","code-block agent-prompt-body preview svelte-173f7ix"),r(e,"title",l[1])},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&32768&&t!==(t=s[15].preview+"")&&q(n,t),i[0]&2&&r(e,"title",s[1])},d(s){s&&I(e)}}}function Xi(l){let e,t;return{c(){e=d("pre"),t=N(l[1]),r(e,"class","code-block agent-prompt-body full svelte-173f7ix")},m(n,s){C(n,e,s),c(e,t)},p(n,s){s[0]&2&&q(t,n[1])},d(n){n&&I(e)}}}function Zi(l){let e;return{c(){e=d("span"),e.textContent="‚ßâ Copy Raw",r(e,"class","svelte-173f7ix")},m(t,n){C(t,e,n)},d(t){t&&I(e)}}}function xi(l){let e;return{c(){e=d("span"),e.textContent="‚úì Copied",r(e,"class","svelte-173f7ix")},m(t,n){C(t,e,n)},d(t){t&&I(e)}}}function eo(l){let e;return{c(){e=d("span"),e.textContent="‚ö†Ô∏è Error",r(e,"class","svelte-173f7ix")},m(t,n){C(t,e,n)},d(t){t&&I(e)}}}function nn(l){let e,t,n,s,i,o,a=l[17].length>1?"s":"",f,u,_,p=l[17].length+"",v,m,h,k=se(l[17]),g=[];for(let b=0;b<k.length;b+=1)g[b]=rn(xl(l,k,b));return{c(){e=d("section"),t=d("details"),n=d("summary"),s=d("span"),i=d("h3"),o=N("System Prompt"),f=N(a),u=S(),_=d("span"),v=N(p),m=S(),h=d("div");for(let b=0;b<g.length;b+=1)g[b].c();r(s,"class","caret svelte-173f7ix"),r(_,"class","count-badge svelte-173f7ix"),r(i,"class","svelte-173f7ix"),r(n,"class","svelte-173f7ix"),r(h,"class","collapsible-body svelte-173f7ix"),r(t,"class","collapsible svelte-173f7ix"),r(t,"data-role","system"),r(t,"aria-label","System prompts group"),r(e,"class","group system-group svelte-173f7ix")},m(b,y){C(b,e,y),c(e,t),c(t,n),c(n,s),c(n,i),c(i,o),c(i,f),c(i,u),c(i,_),c(_,v),c(t,m),c(t,h);for(let w=0;w<g.length;w+=1)g[w]&&g[w].m(h,null)},p(b,y){if(y[0]&131072&&a!==(a=b[17].length>1?"s":"")&&q(f,a),y[0]&131072&&p!==(p=b[17].length+"")&&q(v,p),y[0]&5376512){k=se(b[17]);let w;for(w=0;w<k.length;w+=1){const F=xl(b,k,w);g[w]?g[w].p(F,y):(g[w]=rn(F),g[w].c(),g[w].m(h,null))}for(;w<g.length;w+=1)g[w].d(1);g.length=k.length}},d(b){b&&I(e),je(g,b)}}}function to(l){let e;return{c(){e=d("em"),e.textContent="Empty",r(e,"class","text-soft")},m(t,n){C(t,e,n)},p:G,d(t){t&&I(e)}}}function lo(l){let e,t=se(Array.isArray(l[47].content)?l[47].content:[l[47].content]),n=[];for(let s=0;s<t.length;s+=1)n[s]=on(en(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ve()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);C(s,e,i)},p(s,i){if(i[0]&131072){t=se(Array.isArray(s[47].content)?s[47].content:[s[47].content]);let o;for(o=0;o<t.length;o+=1){const a=en(s,t,o);n[o]?n[o].p(a,i):(n[o]=on(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&I(e),je(n,s)}}}function no(l){let e,t,n,s=l[11]==="sys-"+l[43]?"Copied":"Copy",i,o,a,f=it(l[47])+"",u,_,p;function v(...m){return l[29](l[43],l[47],...m)}return{c(){e=d("div"),t=d("div"),n=d("button"),i=N(s),o=S(),a=d("pre"),u=N(f),r(n,"class","copy-raw-inline svelte-173f7ix"),r(n,"type","button"),r(t,"class","raw-inline-actions svelte-173f7ix"),r(a,"class","code-block raw-full-inline svelte-173f7ix"),r(e,"class","raw-inline svelte-173f7ix")},m(m,h){C(m,e,h),c(e,t),c(t,n),c(n,i),c(e,o),c(e,a),c(a,u),_||(p=ne(n,"click",v),_=!0)},p(m,h){l=m,h[0]&2048&&s!==(s=l[11]==="sys-"+l[43]?"Copied":"Copy")&&q(i,s),h[0]&131072&&f!==(f=it(l[47])+"")&&q(u,f)},d(m){m&&I(e),_=!1,p()}}}function so(l){let e,t=(l[49].text?l[49].text:JSON.stringify(l[49],null,2))+"",n;return{c(){e=d("pre"),n=N(t),r(e,"class","code-block svelte-173f7ix")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&131072&&t!==(t=(s[49].text?s[49].text:JSON.stringify(s[49],null,2))+"")&&q(n,t)},d(s){s&&I(e)}}}function io(l){let e,t=se(_t(typeof l[49]=="string"?l[49]:l[49].text)),n=[];for(let s=0;s<t.length;s+=1)n[s]=sn(tn(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ve()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);C(s,e,i)},p(s,i){if(i[0]&131072){t=se(_t(typeof s[49]=="string"?s[49]:s[49].text));let o;for(o=0;o<t.length;o+=1){const a=tn(s,t,o);n[o]?n[o].p(a,i):(n[o]=sn(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&I(e),je(n,s)}}}function oo(l){let e,t=l[52].content+"",n;return{c(){e=d("pre"),n=N(t),r(e,"class","code-block svelte-173f7ix")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&131072&&t!==(t=s[52].content+"")&&q(n,t)},d(s){s&&I(e)}}}function ro(l){let e,t,n,s,i,o,a,f=l[52].content+"",u,_;return{c(){e=d("div"),t=d("div"),t.innerHTML='Attachments <span class="inline-note svelte-173f7ix">toggle to view</span>',n=S(),s=d("details"),i=d("summary"),i.textContent="Show / Hide Attachments Content",o=S(),a=d("pre"),u=N(f),_=S(),r(t,"class","special-block-header svelte-173f7ix"),r(i,"class","svelte-173f7ix"),r(a,"class","code-block special attachments-pre svelte-173f7ix"),r(s,"class","attachments-toggle svelte-173f7ix"),s.open=!0,r(e,"class","special-block attachments-block svelte-173f7ix"),r(e,"aria-label","Attachments")},m(p,v){C(p,e,v),c(e,t),c(e,n),c(e,s),c(s,i),c(s,o),c(s,a),c(a,u),c(e,_)},p(p,v){v[0]&131072&&f!==(f=p[52].content+"")&&q(u,f)},d(p){p&&I(e)}}}function ao(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Apply Patch Instructions",n=S(),s=d("pre"),o=N(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block applypatch-block svelte-173f7ix"),r(e,"aria-label","Apply Patch Instructions")},m(f,u){C(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&q(o,i)},d(f){f&&I(e)}}}function co(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Output Formatting",n=S(),s=d("pre"),o=N(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block outputfmt-block svelte-173f7ix"),r(e,"aria-label","Output Formatting")},m(f,u){C(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&q(o,i)},d(f){f&&I(e)}}}function fo(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Notebook Instructions",n=S(),s=d("pre"),o=N(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block notebook-block svelte-173f7ix"),r(e,"aria-label","Notebook Instructions")},m(f,u){C(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&q(o,i)},d(f){f&&I(e)}}}function uo(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Tool Use Instructions",n=S(),s=d("pre"),o=N(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block tooluse-block svelte-173f7ix"),r(e,"aria-label","Tool Use Instructions")},m(f,u){C(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&q(o,i)},d(f){f&&I(e)}}}function po(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Instructions",n=S(),s=d("pre"),o=N(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block instr-block svelte-173f7ix"),r(e,"aria-label","Instructions")},m(f,u){C(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&q(o,i)},d(f){f&&I(e)}}}function _o(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="User Request",n=S(),s=d("pre"),o=N(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block userreq-block svelte-173f7ix"),r(e,"aria-label","User Request")},m(f,u){C(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&q(o,i)},d(f){f&&I(e)}}}function mo(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Reminder Instructions",n=S(),s=d("pre"),o=N(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block reminder-block svelte-173f7ix"),r(e,"aria-label","Reminder Instructions")},m(f,u){C(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&q(o,i)},d(f){f&&I(e)}}}function vo(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Context",n=S(),s=d("pre"),o=N(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block ctx-block svelte-173f7ix"),r(e,"aria-label","Context Block")},m(f,u){C(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&q(o,i)},d(f){f&&I(e)}}}function ho(l){let e,t,n,s,i=mt(l[52].content)+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Workspace Info",n=S(),s=d("pre"),o=N(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block ws-block svelte-173f7ix"),r(e,"aria-label","Workspace Info")},m(f,u){C(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=mt(f[52].content)+"")&&q(o,i)},d(f){f&&I(e)}}}function bo(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Environment Info",n=S(),s=d("pre"),o=N(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block env-block svelte-173f7ix"),r(e,"aria-label","Environment Info")},m(f,u){C(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&q(o,i)},d(f){f&&I(e)}}}function sn(l){let e;function t(i,o){return i[52].kind==="environment"?bo:i[52].kind==="workspace"?ho:i[52].kind==="context"?vo:i[52].kind==="reminder"?mo:i[52].kind==="userreq"?_o:i[52].kind==="instructions"?po:i[52].kind==="tooluse"?uo:i[52].kind==="notebook"?fo:i[52].kind==="outputfmt"?co:i[52].kind==="applypatch"?ao:i[52].kind==="attachments"?ro:oo}let n=t(l),s=n(l);return{c(){s.c(),e=ve()},m(i,o){s.m(i,o),C(i,e,o)},p(i,o){n===(n=t(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&I(e),s.d(i)}}}function on(l){let e,t;function n(o,a){var f;return a[0]&131072&&(e=null),e==null&&(e=!!(typeof o[49]=="string"||(f=o[49])!=null&&f.text&&Ln.test(o[49].text))),e?io:so}let s=n(l,[-1,-1]),i=s(l);return{c(){i.c(),t=ve()},m(o,a){i.m(o,a),C(o,t,a)},p(o,a){s===(s=n(o,a))&&i?i.p(o,a):(i.d(1),i=s(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){o&&I(t),i.d(o)}}}function rn(l){let e,t,n,s,i=(l[17].length>1?l[43]+1:"")+"",o,a,f,u,_,p=l[9][l[43]]?"Show Beautified":"Show Original",v,m,h,k,g,b;function y(...E){return l[28](l[43],...E)}function w(E,R){var A;return E[9][E[43]]?no:(A=E[47].content)!=null&&A.length?lo:to}let F=w(l),P=F(l);return{c(){e=d("section"),t=d("header"),n=d("h4"),s=N("System Prompt "),o=N(i),a=S(),f=d("span"),f.textContent="system",u=S(),_=d("button"),v=N(p),h=S(),P.c(),k=S(),r(n,"class","svelte-173f7ix"),r(f,"class","role-tag svelte-173f7ix"),r(_,"class","raw-toggle-btn svelte-173f7ix"),r(_,"type","button"),r(_,"data-debug",m=l[9][l[43]]?"open":"closed"),r(t,"class","msg-head svelte-173f7ix"),r(e,"class","msg-section role-system svelte-173f7ix")},m(E,R){C(E,e,R),c(e,t),c(t,n),c(n,s),c(n,o),c(t,a),c(t,f),c(t,u),c(t,_),c(_,v),c(e,h),P.m(e,null),c(e,k),g||(b=ne(_,"click",y),g=!0)},p(E,R){l=E,R[0]&131072&&i!==(i=(l[17].length>1?l[43]+1:"")+"")&&q(o,i),R[0]&512&&p!==(p=l[9][l[43]]?"Show Beautified":"Show Original")&&q(v,p),R[0]&512&&m!==(m=l[9][l[43]]?"open":"closed")&&r(_,"data-debug",m),F===(F=w(l))&&P?P.p(l,R):(P.d(1),P=F(l),P&&(P.c(),P.m(e,k)))},d(E){E&&I(e),P.d(),g=!1,b()}}}function an(l){let e,t,n,s,i,o,a=l[16].length>1?"s":"",f,u,_,p=l[16].length+"",v,m,h,k=se(l[16]),g=[];for(let b=0;b<k.length;b+=1)g[b]=un(Ql(l,k,b));return{c(){e=d("section"),t=d("details"),n=d("summary"),s=d("span"),i=d("h3"),o=N("User Prompt"),f=N(a),u=S(),_=d("span"),v=N(p),m=S(),h=d("div");for(let b=0;b<g.length;b+=1)g[b].c();r(s,"class","caret svelte-173f7ix"),r(_,"class","count-badge svelte-173f7ix"),r(i,"class","svelte-173f7ix"),r(n,"class","svelte-173f7ix"),r(h,"class","collapsible-body user-prompts-wrapper svelte-173f7ix"),r(t,"class","collapsible svelte-173f7ix"),r(t,"data-role","user"),r(t,"aria-label","User prompts group"),r(e,"class","group user-group svelte-173f7ix")},m(b,y){C(b,e,y),c(e,t),c(t,n),c(n,s),c(n,i),c(i,o),c(i,f),c(i,u),c(i,_),c(_,v),c(t,m),c(t,h);for(let w=0;w<g.length;w+=1)g[w]&&g[w].m(h,null)},p(b,y){if(y[0]&65536&&a!==(a=b[16].length>1?"s":"")&&q(f,a),y[0]&65536&&p!==(p=b[16].length+"")&&q(v,p),y[0]&6360064){k=se(b[16]);let w;for(w=0;w<k.length;w+=1){const F=Ql(b,k,w);g[w]?g[w].p(F,y):(g[w]=un(F),g[w].c(),g[w].m(h,null))}for(;w<g.length;w+=1)g[w].d(1);g.length=k.length}},d(b){b&&I(e),je(g,b)}}}function go(l){let e;return{c(){e=d("em"),e.textContent="Empty",r(e,"class","text-soft")},m(t,n){C(t,e,n)},p:G,d(t){t&&I(e)}}}function ko(l){let e,t=se(Array.isArray(l[47].content)?l[47].content:[l[47].content]),n=[];for(let s=0;s<t.length;s+=1)n[s]=fn(Xl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ve()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);C(s,e,i)},p(s,i){if(i[0]&65536){t=se(Array.isArray(s[47].content)?s[47].content:[s[47].content]);let o;for(o=0;o<t.length;o+=1){const a=Xl(s,t,o);n[o]?n[o].p(a,i):(n[o]=fn(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&I(e),je(n,s)}}}function yo(l){let e,t,n,s=l[11]==="user-"+l[43]?"Copied":"Copy",i,o,a,f=it(l[47])+"",u,_,p;function v(...m){return l[31](l[43],l[47],...m)}return{c(){e=d("div"),t=d("div"),n=d("button"),i=N(s),o=S(),a=d("pre"),u=N(f),r(n,"class","copy-raw-inline svelte-173f7ix"),r(n,"type","button"),r(t,"class","raw-inline-actions svelte-173f7ix"),r(a,"class","code-block raw-full-inline svelte-173f7ix"),r(e,"class","raw-inline svelte-173f7ix")},m(m,h){C(m,e,h),c(e,t),c(t,n),c(n,i),c(e,o),c(e,a),c(a,u),_||(p=ne(n,"click",v),_=!0)},p(m,h){l=m,h[0]&2048&&s!==(s=l[11]==="user-"+l[43]?"Copied":"Copy")&&q(i,s),h[0]&65536&&f!==(f=it(l[47])+"")&&q(u,f)},d(m){m&&I(e),_=!1,p()}}}function wo(l){let e,t=(l[49].text?l[49].text:JSON.stringify(l[49],null,4))+"",n;return{c(){e=d("pre"),n=N(t),r(e,"class","code-block svelte-173f7ix")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&65536&&t!==(t=(s[49].text?s[49].text:JSON.stringify(s[49],null,4))+"")&&q(n,t)},d(s){s&&I(e)}}}function Io(l){let e,t=se(_t(typeof l[49]=="string"?l[49]:l[49].text)),n=[];for(let s=0;s<t.length;s+=1)n[s]=cn(Zl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ve()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);C(s,e,i)},p(s,i){if(i[0]&65536){t=se(_t(typeof s[49]=="string"?s[49]:s[49].text));let o;for(o=0;o<t.length;o+=1){const a=Zl(s,t,o);n[o]?n[o].p(a,i):(n[o]=cn(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&I(e),je(n,s)}}}function Co(l){let e,t=l[52].content+"",n;return{c(){e=d("pre"),n=N(t),r(e,"class","code-block svelte-173f7ix")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&65536&&t!==(t=s[52].content+"")&&q(n,t)},d(s){s&&I(e)}}}function So(l){let e,t,n,s,i,o,a,f=l[52].content+"",u,_;return{c(){e=d("div"),t=d("div"),t.innerHTML='Attachments <span class="inline-note svelte-173f7ix">toggle to view</span>',n=S(),s=d("details"),i=d("summary"),i.textContent="Show / Hide Attachments Content",o=S(),a=d("pre"),u=N(f),_=S(),r(t,"class","special-block-header svelte-173f7ix"),r(i,"class","svelte-173f7ix"),r(a,"class","code-block special attachments-pre svelte-173f7ix"),r(s,"class","attachments-toggle svelte-173f7ix"),s.open=!0,r(e,"class","special-block attachments-block svelte-173f7ix"),r(e,"aria-label","Attachments")},m(p,v){C(p,e,v),c(e,t),c(e,n),c(e,s),c(s,i),c(s,o),c(s,a),c(a,u),c(e,_)},p(p,v){v[0]&65536&&f!==(f=p[52].content+"")&&q(u,f)},d(p){p&&I(e)}}}function No(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Apply Patch Instructions",n=S(),s=d("pre"),o=N(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block applypatch-block svelte-173f7ix"),r(e,"aria-label","Apply Patch Instructions")},m(f,u){C(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&q(o,i)},d(f){f&&I(e)}}}function jo(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Output Formatting",n=S(),s=d("pre"),o=N(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block outputfmt-block svelte-173f7ix"),r(e,"aria-label","Output Formatting")},m(f,u){C(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&q(o,i)},d(f){f&&I(e)}}}function Ro(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Notebook Instructions",n=S(),s=d("pre"),o=N(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block notebook-block svelte-173f7ix"),r(e,"aria-label","Notebook Instructions")},m(f,u){C(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&q(o,i)},d(f){f&&I(e)}}}function Ao(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Tool Use Instructions",n=S(),s=d("pre"),o=N(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block tooluse-block svelte-173f7ix"),r(e,"aria-label","Tool Use Instructions")},m(f,u){C(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&q(o,i)},d(f){f&&I(e)}}}function To(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Instructions",n=S(),s=d("pre"),o=N(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block instr-block svelte-173f7ix"),r(e,"aria-label","Instructions")},m(f,u){C(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&q(o,i)},d(f){f&&I(e)}}}function qo(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="User Request",n=S(),s=d("pre"),o=N(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block userreq-block svelte-173f7ix"),r(e,"aria-label","User Request")},m(f,u){C(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&q(o,i)},d(f){f&&I(e)}}}function Oo(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Reminder Instructions",n=S(),s=d("pre"),o=N(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block reminder-block svelte-173f7ix"),r(e,"aria-label","Reminder Instructions")},m(f,u){C(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&q(o,i)},d(f){f&&I(e)}}}function Po(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Context",n=S(),s=d("pre"),o=N(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block ctx-block svelte-173f7ix"),r(e,"aria-label","Context Block")},m(f,u){C(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&q(o,i)},d(f){f&&I(e)}}}function Fo(l){let e,t,n,s,i=mt(l[52].content)+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Workspace Info",n=S(),s=d("pre"),o=N(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block ws-block svelte-173f7ix"),r(e,"aria-label","Workspace Info")},m(f,u){C(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=mt(f[52].content)+"")&&q(o,i)},d(f){f&&I(e)}}}function Mo(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Environment Info",n=S(),s=d("pre"),o=N(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block env-block svelte-173f7ix"),r(e,"aria-label","Environment Info")},m(f,u){C(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&q(o,i)},d(f){f&&I(e)}}}function cn(l){let e;function t(i,o){return i[52].kind==="environment"?Mo:i[52].kind==="workspace"?Fo:i[52].kind==="context"?Po:i[52].kind==="reminder"?Oo:i[52].kind==="userreq"?qo:i[52].kind==="instructions"?To:i[52].kind==="tooluse"?Ao:i[52].kind==="notebook"?Ro:i[52].kind==="outputfmt"?jo:i[52].kind==="applypatch"?No:i[52].kind==="attachments"?So:Co}let n=t(l),s=n(l);return{c(){s.c(),e=ve()},m(i,o){s.m(i,o),C(i,e,o)},p(i,o){n===(n=t(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&I(e),s.d(i)}}}function fn(l){let e,t;function n(o,a){var f;return a[0]&65536&&(e=null),e==null&&(e=!!(typeof o[49]=="string"||(f=o[49])!=null&&f.text&&Ln.test(o[49].text))),e?Io:wo}let s=n(l,[-1,-1]),i=s(l);return{c(){i.c(),t=ve()},m(o,a){i.m(o,a),C(o,t,a)},p(o,a){s===(s=n(o,a))&&i?i.p(o,a):(i.d(1),i=s(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){o&&I(t),i.d(o)}}}function un(l){let e,t,n,s,i,o,a=(l[16].length>1?l[43]+1:"")+"",f,u,_,p,v,m=l[10][l[43]]?"Hide Original":"Show Original",h,k,g,b,y,w,F;function P(...j){return l[30](l[43],...j)}function E(j,T){var O;return j[10][j[43]]?yo:(O=j[47].content)!=null&&O.length?ko:go}let R=E(l),A=R(l);return{c(){e=d("details"),t=d("summary"),n=d("span"),s=S(),i=d("h4"),o=N("User Prompt "),f=N(a),u=S(),_=d("span"),_.textContent="user",p=S(),v=d("button"),h=N(m),g=S(),b=d("div"),A.c(),y=S(),r(n,"class","mini-caret svelte-173f7ix"),r(i,"class","svelte-173f7ix"),r(_,"class","role-tag svelte-173f7ix"),r(v,"class","raw-toggle-btn inline svelte-173f7ix"),r(v,"type","button"),r(v,"data-debug",k=l[10][l[43]]?"open":"closed"),r(t,"class","svelte-173f7ix"),r(b,"class","prompt-body svelte-173f7ix"),r(e,"class","prompt-collapsible role-user svelte-173f7ix"),r(e,"data-kind","user-prompt")},m(j,T){C(j,e,T),c(e,t),c(t,n),c(t,s),c(t,i),c(i,o),c(i,f),c(t,u),c(t,_),c(t,p),c(t,v),c(v,h),c(e,g),c(e,b),A.m(b,null),c(e,y),w||(F=ne(v,"click",P),w=!0)},p(j,T){l=j,T[0]&65536&&a!==(a=(l[16].length>1?l[43]+1:"")+"")&&q(f,a),T[0]&1024&&m!==(m=l[10][l[43]]?"Hide Original":"Show Original")&&q(h,m),T[0]&1024&&k!==(k=l[10][l[43]]?"open":"closed")&&r(v,"data-debug",k),R===(R=E(l))&&A?A.p(l,T):(A.d(1),A=R(l),A&&(A.c(),A.m(b,null)))},d(j){j&&I(e),A.d(),w=!1,F()}}}function dn(l){let e,t,n,s,i,o,a,f=l[12].length+"",u,_,p,v,m=[],h=new Gi,k=se(l[12]);const g=b=>b[44].id+"-"+b[46];for(let b=0;b<k.length;b+=1){let y=Yl(l,k,b),w=g(y);h.set(w,m[b]=pn(w,y))}return{c(){e=d("section"),t=d("details"),n=d("summary"),s=d("span"),i=d("h3"),o=N("Tool Calls "),a=d("span"),u=N(f),_=S(),p=d("div"),v=d("div");for(let b=0;b<m.length;b+=1)m[b].c();r(s,"class","caret svelte-173f7ix"),r(a,"class","count-badge svelte-173f7ix"),r(i,"class","svelte-173f7ix"),r(n,"class","svelte-173f7ix"),r(v,"class","tool-call-pairs-wrapper svelte-173f7ix"),r(p,"class","collapsible-body tool-calls-body svelte-173f7ix"),r(p,"role","region"),r(p,"aria-label","Tool call pairs"),r(t,"class","collapsible svelte-173f7ix"),r(t,"data-role","tool-calls"),r(t,"aria-label","Tool calls group"),r(e,"class","group tool-calls-group svelte-173f7ix")},m(b,y){C(b,e,y),c(e,t),c(t,n),c(n,s),c(n,i),c(i,o),c(i,a),c(a,u),c(t,_),c(t,p),c(p,v);for(let w=0;w<m.length;w+=1)m[w]&&m[w].m(v,null)},p(b,y){y[0]&4096&&f!==(f=b[12].length+"")&&q(u,f),y[0]&4096&&(k=se(b[12]),m=On(m,y,g,1,b,k,h,v,qn,pn,null,Yl))},d(b){b&&I(e);for(let y=0;y<m.length;y+=1)m[y].d()}}}function Eo(l){let e;return{c(){e=d("em"),e.textContent="None",r(e,"class","text-soft")},m(t,n){C(t,e,n)},p:G,d(t){t&&I(e)}}}function Lo(l){let e,t=l[44].argumentsRaw+"",n;return{c(){e=d("pre"),n=N(t),r(e,"class","code-block small svelte-173f7ix")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&4096&&t!==(t=s[44].argumentsRaw+"")&&q(n,t)},d(s){s&&I(e)}}}function Ho(l){let e,t=JSON.stringify(l[44].argumentsParsed,null,2)+"",n;return{c(){e=d("pre"),n=N(t),r(e,"class","code-block small svelte-173f7ix")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&4096&&t!==(t=JSON.stringify(s[44].argumentsParsed,null,2)+"")&&q(n,t)},d(s){s&&I(e)}}}function Jo(l){let e;return{c(){e=d("em"),e.textContent="No output found",r(e,"class","text-soft")},m(t,n){C(t,e,n)},p:G,d(t){t&&I(e)}}}function Bo(l){let e,t=l[44].output+"",n;return{c(){e=d("pre"),n=N(t),r(e,"class","code-block small svelte-173f7ix")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&4096&&t!==(t=s[44].output+"")&&q(n,t)},d(s){s&&I(e)}}}function pn(l,e){let t,n,s,i,o,a=(e[44].name||"Unnamed Tool")+"",f,u=e[44].id?` (${e[44].id})`:"",_,p,v,m,h,k,g,b,y,w,F,P,E,R,A,j,T;function O(te,le){return te[44].argumentsParsed?Ho:te[44].argumentsRaw?Lo:Eo}let J=O(e),H=J(e);function B(te,le){return te[44].output?Bo:Jo}let ee=B(e),ie=ee(e);return{key:l,first:null,c(){t=d("details"),n=d("summary"),s=d("span"),i=S(),o=d("h4"),f=N(a),_=N(u),p=S(),v=d("div"),m=d("div"),h=d("div"),k=d("div"),k.textContent="Arguments",g=S(),H.c(),b=S(),y=d("div"),w=d("div"),w.textContent="Result",F=S(),ie.c(),P=S(),r(s,"class","mini-caret svelte-173f7ix"),r(o,"class","svelte-173f7ix"),r(n,"class","svelte-173f7ix"),r(k,"class","sub-label-normal svelte-173f7ix"),r(h,"class","tool-call-col args-col svelte-173f7ix"),r(w,"class","sub-label-normal svelte-173f7ix"),r(y,"class","tool-call-col result-col svelte-173f7ix"),r(m,"class","tool-call-columns svelte-173f7ix"),r(v,"class","prompt-body svelte-173f7ix"),r(t,"class","prompt-collapsible tool-call-item svelte-173f7ix"),r(t,"id",E="toolcall-"+(e[44].id||e[46])),r(t,"data-kind","tool-call-pair"),r(t,"data-round",R=e[44].roundNumber),r(t,"data-attachments-total",A=e[44].attachmentsTotal),r(t,"data-attachments-user",j=e[44].attachmentsFromPrevUser),r(t,"data-attachments-args",T=e[44].attachmentsInArgs),this.first=t},m(te,le){C(te,t,le),c(t,n),c(n,s),c(n,i),c(n,o),c(o,f),c(o,_),c(t,p),c(t,v),c(v,m),c(m,h),c(h,k),c(h,g),H.m(h,null),c(m,b),c(m,y),c(y,w),c(y,F),ie.m(y,null),c(t,P)},p(te,le){e=te,le[0]&4096&&a!==(a=(e[44].name||"Unnamed Tool")+"")&&q(f,a),le[0]&4096&&u!==(u=e[44].id?` (${e[44].id})`:"")&&q(_,u),J===(J=O(e))&&H?H.p(e,le):(H.d(1),H=J(e),H&&(H.c(),H.m(h,null))),ee===(ee=B(e))&&ie?ie.p(e,le):(ie.d(1),ie=ee(e),ie&&(ie.c(),ie.m(y,null))),le[0]&4096&&E!==(E="toolcall-"+(e[44].id||e[46]))&&r(t,"id",E),le[0]&4096&&R!==(R=e[44].roundNumber)&&r(t,"data-round",R),le[0]&4096&&A!==(A=e[44].attachmentsTotal)&&r(t,"data-attachments-total",A),le[0]&4096&&j!==(j=e[44].attachmentsFromPrevUser)&&r(t,"data-attachments-user",j),le[0]&4096&&T!==(T=e[44].attachmentsInArgs)&&r(t,"data-attachments-args",T)},d(te){te&&I(t),H.d(),ie.d()}}}function _n(l){let e,t=l[14].length+"",n;return{c(){e=d("span"),n=N(t),r(e,"class","count-badge svelte-173f7ix")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&16384&&t!==(t=s[14].length+"")&&q(n,t)},d(s){s&&I(e)}}}function Do(l){let e;return{c(){e=d("em"),e.textContent="None"},m(t,n){C(t,e,n)},p:G,d(t){t&&I(e)}}}function $o(l){let e,t,n,s,i,o,a=l[6]?"Hide Raw JSON":"Show Raw JSON",f,u,_,p,v,m,h,k,g,b,y,w,F,P=l[13].length&&mn(l);function E(H,B){return H[13].length?zo:Uo}let R=E(l),A=R(l);function j(H,B){var ee;return B[0]&1&&(g=null),g==null&&(g=!!((ee=H[0])!=null&&ee.requestOptions&&Object.keys(H[0].requestOptions).filter(dr).length>0)),g?Qo:Yo}let T=j(l,[-1,-1]),O=T(l),J=l[6]&&yn(l);return{c(){e=d("div"),t=d("div"),n=d("h4"),s=N("Tools "),P&&P.c(),i=S(),o=d("button"),f=N(a),u=S(),A.c(),_=S(),p=d("div"),v=S(),m=d("div"),h=d("div"),h.innerHTML='<h4 class="options-heading svelte-173f7ix">Other Request Options</h4>',k=S(),O.c(),b=S(),J&&J.c(),y=ve(),r(n,"class","tools-heading svelte-173f7ix"),r(o,"class","mini-btn alt svelte-173f7ix"),r(t,"class","tools-header-row svelte-173f7ix"),r(e,"class","tools-section svelte-173f7ix"),r(p,"class","options-divider svelte-173f7ix"),r(h,"class","section-heading svelte-173f7ix"),r(m,"class","other-options-section svelte-173f7ix")},m(H,B){C(H,e,B),c(e,t),c(t,n),c(n,s),P&&P.m(n,null),c(t,i),c(t,o),c(o,f),c(e,u),A.m(e,null),C(H,_,B),C(H,p,B),C(H,v,B),C(H,m,B),c(m,h),c(m,k),O.m(m,null),C(H,b,B),J&&J.m(H,B),C(H,y,B),w||(F=ne(o,"click",l[32]),w=!0)},p(H,B){H[13].length?P?P.p(H,B):(P=mn(H),P.c(),P.m(n,null)):P&&(P.d(1),P=null),B[0]&64&&a!==(a=H[6]?"Hide Raw JSON":"Show Raw JSON")&&q(f,a),R===(R=E(H))&&A?A.p(H,B):(A.d(1),A=R(H),A&&(A.c(),A.m(e,null))),T===(T=j(H,B))&&O?O.p(H,B):(O.d(1),O=T(H),O&&(O.c(),O.m(m,null))),H[6]?J?J.p(H,B):(J=yn(H),J.c(),J.m(y.parentNode,y)):J&&(J.d(1),J=null)},d(H){H&&(I(e),I(_),I(p),I(v),I(m),I(b),I(y)),P&&P.d(),A.d(),O.d(),J&&J.d(H),w=!1,F()}}}function mn(l){let e,t=l[13].length+"",n;return{c(){e=d("span"),n=N(t),r(e,"class","count-badge svelte-173f7ix")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&8192&&t!==(t=s[13].length+"")&&q(n,t)},d(s){s&&I(e)}}}function Uo(l){let e;return{c(){e=d("em"),e.textContent="No tools definitions",r(e,"class","text-soft")},m(t,n){C(t,e,n)},p:G,d(t){t&&I(e)}}}function zo(l){let e,t,n,s=se(l[13]),i=[];for(let u=0;u<s.length;u+=1)i[u]=vn(Kl(l,s,u));function o(u,_){return u[7]!==null&&u[13][u[7]]?Wo:Vo}let a=o(l),f=a(l);return{c(){e=d("div");for(let u=0;u<i.length;u+=1)i[u].c();t=S(),f.c(),n=ve(),r(e,"class","tools-list svelte-173f7ix"),r(e,"role","tablist"),r(e,"aria-label","Available tools")},m(u,_){C(u,e,_);for(let p=0;p<i.length;p+=1)i[p]&&i[p].m(e,null);C(u,t,_),f.m(u,_),C(u,n,_)},p(u,_){if(_[0]&8576){s=se(u[13]);let p;for(p=0;p<s.length;p+=1){const v=Kl(u,s,p);i[p]?i[p].p(v,_):(i[p]=vn(v),i[p].c(),i[p].m(e,null))}for(;p<i.length;p+=1)i[p].d(1);i.length=s.length}a===(a=o(u))&&f?f.p(u,_):(f.d(1),f=a(u),f&&(f.c(),f.m(n.parentNode,n)))},d(u){u&&(I(e),I(t),I(n)),je(i,u),f.d(u)}}}function vn(l){let e,t=l[41].name+"",n,s,i,o,a;function f(){return l[33](l[43])}return{c(){e=d("button"),n=N(t),r(e,"class",s="tool-chip "+(l[7]===l[43]?"active":"")+" svelte-173f7ix"),r(e,"role","tab"),r(e,"aria-selected",i=l[7]===l[43])},m(u,_){C(u,e,_),c(e,n),o||(a=ne(e,"click",f),o=!0)},p(u,_){l=u,_[0]&8192&&t!==(t=l[41].name+"")&&q(n,t),_[0]&128&&s!==(s="tool-chip "+(l[7]===l[43]?"active":"")+" svelte-173f7ix")&&r(e,"class",s),_[0]&128&&i!==(i=l[7]===l[43])&&r(e,"aria-selected",i)},d(u){u&&I(e),o=!1,a()}}}function Vo(l){let e;return{c(){e=d("p"),e.textContent="Select a tool to view its details.",r(e,"class","text-soft"),Re(e,"margin","10px 0 0"),Re(e,"font-size",".7rem")},m(t,n){C(t,e,n)},p:G,d(t){t&&I(e)}}}function Wo(l){let e=l[7],t,n=gn(l);return{c(){n.c(),t=ve()},m(s,i){n.m(s,i),C(s,t,i)},p(s,i){i[0]&128&&Ee(e,e=s[7])?(n.d(1),n=gn(s),n.c(),n.m(t.parentNode,t)):n.p(s,i)},d(s){s&&I(t),n.d(s)}}}function Go(l){let e;return{c(){e=d("p"),e.innerHTML="<em>No description</em>",r(e,"class","tool-desc text-soft svelte-173f7ix")},m(t,n){C(t,e,n)},p:G,d(t){t&&I(e)}}}function Ko(l){let e,t=l[13][l[7]].description+"",n;return{c(){e=d("p"),n=N(t),r(e,"class","tool-desc svelte-173f7ix")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&8320&&t!==(t=s[13][s[7]].description+"")&&q(n,t)},d(s){s&&I(e)}}}function hn(l){let e,t,n,s=JSON.stringify(l[13][l[7]].parameters,null,2)+"",i;return{c(){e=d("div"),e.textContent="Parameters",t=S(),n=d("pre"),i=N(s),r(e,"class","sub-label svelte-173f7ix"),r(n,"class","code-block small svelte-173f7ix")},m(o,a){C(o,e,a),C(o,t,a),C(o,n,a),c(n,i)},p(o,a){a[0]&8320&&s!==(s=JSON.stringify(o[13][o[7]].parameters,null,2)+"")&&q(i,s)},d(o){o&&(I(e),I(t),I(n))}}}function bn(l){let e,t=JSON.stringify(l[13][l[7]].raw,null,2)+"",n;return{c(){e=d("pre"),n=N(t),r(e,"class","code-block small svelte-173f7ix"),Re(e,"margin-top","8px")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&8320&&t!==(t=JSON.stringify(s[13][s[7]].raw,null,2)+"")&&q(n,t)},d(s){s&&I(e)}}}function gn(l){let e,t,n,s,i=l[13][l[7]].name+"",o,a,f,u=l[13][l[7]].kind+"",_,p,v,m=l[8]?"Hide Raw Definition":"Show Raw Definition",h,k,g,b,y,w,F;function P(T,O){return T[13][T[7]].description?Ko:Go}let E=P(l),R=E(l),A=l[13][l[7]].parameters&&hn(l),j=l[8]&&bn(l);return{c(){e=d("div"),t=d("header"),n=d("div"),s=d("h5"),o=N(i),a=S(),f=d("span"),_=N(u),p=S(),v=d("button"),h=N(m),k=S(),R.c(),g=S(),A&&A.c(),b=S(),j&&j.c(),r(s,"class","svelte-173f7ix"),r(f,"class","tool-kind-tag svelte-173f7ix"),r(n,"class","tool-title-area svelte-173f7ix"),r(v,"class","mini-btn"),r(t,"class","tool-detail-head svelte-173f7ix"),r(e,"class","tool-detail svelte-173f7ix"),r(e,"role","tabpanel"),r(e,"aria-label",y=l[13][l[7]].name+" tool details")},m(T,O){C(T,e,O),c(e,t),c(t,n),c(n,s),c(s,o),c(n,a),c(n,f),c(f,_),c(t,p),c(t,v),c(v,h),c(e,k),R.m(e,null),c(e,g),A&&A.m(e,null),c(e,b),j&&j.m(e,null),w||(F=ne(v,"click",l[34]),w=!0)},p(T,O){O[0]&8320&&i!==(i=T[13][T[7]].name+"")&&q(o,i),O[0]&8320&&u!==(u=T[13][T[7]].kind+"")&&q(_,u),O[0]&256&&m!==(m=T[8]?"Hide Raw Definition":"Show Raw Definition")&&q(h,m),E===(E=P(T))&&R?R.p(T,O):(R.d(1),R=E(T),R&&(R.c(),R.m(e,g))),T[13][T[7]].parameters?A?A.p(T,O):(A=hn(T),A.c(),A.m(e,b)):A&&(A.d(1),A=null),T[8]?j?j.p(T,O):(j=bn(T),j.c(),j.m(e,null)):j&&(j.d(1),j=null),O[0]&8320&&y!==(y=T[13][T[7]].name+" tool details")&&r(e,"aria-label",y)},d(T){T&&I(e),R.d(),A&&A.d(),j&&j.d(),w=!1,F()}}}function Yo(l){let e;return{c(){e=d("em"),e.textContent="No additional options",r(e,"class","text-soft")},m(t,n){C(t,e,n)},p:G,d(t){t&&I(e)}}}function Qo(l){let e,t=se(Object.entries(l[0].requestOptions).filter(In)),n=[];for(let s=0;s<t.length;s+=1)n[s]=kn(Gl(l,t,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();r(e,"class","options-list svelte-173f7ix")},m(s,i){C(s,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,i){if(i[0]&1){t=se(Object.entries(s[0].requestOptions).filter(In));let o;for(o=0;o<t.length;o+=1){const a=Gl(s,t,o);n[o]?n[o].p(a,i):(n[o]=kn(a),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&I(e),je(n,s)}}}function Xo(l){let e,t=String(l[38])+"",n;return{c(){e=d("span"),n=N(t),r(e,"class","option-value-text svelte-173f7ix")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&1&&t!==(t=String(s[38])+"")&&q(n,t)},d(s){s&&I(e)}}}function Zo(l){let e,t;function n(o,a){return a[0]&1&&(e=null),e==null&&(e=!!(o[38].startsWith("http://")||o[38].startsWith("https://"))),e?rr:o[38].length>50?or:ir}let s=n(l,[-1,-1]),i=s(l);return{c(){i.c(),t=ve()},m(o,a){i.m(o,a),C(o,t,a)},p(o,a){s===(s=n(o,a))&&i?i.p(o,a):(i.d(1),i=s(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){o&&I(t),i.d(o)}}}function xo(l){let e,t=JSON.stringify(l[38],null,2)+"",n;return{c(){e=d("pre"),n=N(t),r(e,"class","code-block small svelte-173f7ix")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&1&&t!==(t=JSON.stringify(s[38],null,2)+"")&&q(n,t)},d(s){s&&I(e)}}}function er(l){let e,t;function n(o,a){return a[0]&1&&(e=null),e==null&&(e=!!(o[38].length<3&&o[38].every(pr))),e?cr:ar}let s=n(l,[-1,-1]),i=s(l);return{c(){i.c(),t=ve()},m(o,a){i.m(o,a),C(o,t,a)},p(o,a){s===(s=n(o,a))&&i?i.p(o,a):(i.d(1),i=s(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){o&&I(t),i.d(o)}}}function tr(l){let e,t=String(l[38])+"",n;return{c(){e=d("span"),n=N(t),r(e,"class","option-value-number svelte-173f7ix")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&1&&t!==(t=String(s[38])+"")&&q(n,t)},d(s){s&&I(e)}}}function lr(l){let e,t=String(l[38])+"",n;return{c(){e=d("span"),n=N(t),r(e,"class","option-value-boolean svelte-173f7ix")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&1&&t!==(t=String(s[38])+"")&&q(n,t)},d(s){s&&I(e)}}}function nr(l){let e;return{c(){e=d("span"),e.textContent="undefined",r(e,"class","option-value-undefined svelte-173f7ix")},m(t,n){C(t,e,n)},p:G,d(t){t&&I(e)}}}function sr(l){let e;return{c(){e=d("span"),e.textContent="null",r(e,"class","option-value-null svelte-173f7ix")},m(t,n){C(t,e,n)},p:G,d(t){t&&I(e)}}}function ir(l){let e,t=l[38]+"",n;return{c(){e=d("span"),n=N(t),r(e,"class","option-value-text svelte-173f7ix")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&1&&t!==(t=s[38]+"")&&q(n,t)},d(s){s&&I(e)}}}function or(l){let e,t=l[38]+"",n;return{c(){e=d("pre"),n=N(t),r(e,"class","code-block small svelte-173f7ix")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&1&&t!==(t=s[38]+"")&&q(n,t)},d(s){s&&I(e)}}}function rr(l){let e,t=l[38]+"",n,s;return{c(){e=d("a"),n=N(t),r(e,"href",s=l[38]),r(e,"target","_blank"),r(e,"rel","noopener noreferrer"),r(e,"class","option-value-url svelte-173f7ix")},m(i,o){C(i,e,o),c(e,n)},p(i,o){o[0]&1&&t!==(t=i[38]+"")&&q(n,t),o[0]&1&&s!==(s=i[38])&&r(e,"href",s)},d(i){i&&I(e)}}}function ar(l){let e,t=JSON.stringify(l[38],null,2)+"",n;return{c(){e=d("pre"),n=N(t),r(e,"class","code-block small svelte-173f7ix")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&1&&t!==(t=JSON.stringify(s[38],null,2)+"")&&q(n,t)},d(s){s&&I(e)}}}function cr(l){let e,t,n=l[38].map(String).join(", ")+"",s,i;return{c(){e=d("span"),t=N("["),s=N(n),i=N("]"),r(e,"class","option-value-array svelte-173f7ix")},m(o,a){C(o,e,a),c(e,t),c(e,s),c(e,i)},p(o,a){a[0]&1&&n!==(n=o[38].map(String).join(", ")+"")&&q(s,n)},d(o){o&&I(e)}}}function kn(l){let e,t,n=l[37]+"",s,i,o,a,f;function u(v,m){return m[0]&1&&(a=null),v[38]===null?sr:v[38]===void 0?nr:typeof v[38]=="boolean"?lr:typeof v[38]=="number"?tr:(a==null&&(a=!!Array.isArray(v[38])),a?er:typeof v[38]=="object"?xo:typeof v[38]=="string"?Zo:Xo)}let _=u(l,[-1,-1]),p=_(l);return{c(){e=d("div"),t=d("div"),s=N(n),i=S(),o=d("div"),p.c(),f=S(),r(t,"class","option-name svelte-173f7ix"),r(o,"class","option-value svelte-173f7ix"),r(e,"class","option-item svelte-173f7ix")},m(v,m){C(v,e,m),c(e,t),c(t,s),c(e,i),c(e,o),p.m(o,null),c(e,f)},p(v,m){m[0]&1&&n!==(n=v[37]+"")&&q(s,n),_===(_=u(v,m))&&p?p.p(v,m):(p.d(1),p=_(v),p&&(p.c(),p.m(o,null)))},d(v){v&&I(e),p.d()}}}function yn(l){let e,t=JSON.stringify(l[0].requestOptions,null,2)+"",n;return{c(){e=d("pre"),n=N(t),r(e,"class","code-block svelte-173f7ix"),Re(e,"margin-top","10px")},m(s,i){C(s,e,i),c(e,n)},p(s,i){i[0]&1&&t!==(t=JSON.stringify(s[0].requestOptions,null,2)+"")&&q(n,t)},d(s){s&&I(e)}}}function fr(l){let e,t,n,s;const i=[Yi,Ki],o=[];function a(f,u){return f[2]?1:0}return e=a(l),t=o[e]=i[e](l),{c(){t.c(),n=ve()},m(f,u){o[e].m(f,u),C(f,n,u),s=!0},p(f,u){let _=e;e=a(f),e===_?o[e].p(f,u):(Ue(),ye(o[_],1,1,()=>{o[_]=null}),ze(),t=o[e],t?t.p(f,u):(t=o[e]=i[e](f),t.c()),ge(t,1),t.m(n.parentNode,n))},i(f){s||(ge(t),s=!0)},o(f){ye(t),s=!1},d(f){f&&I(n),o[e].d(f)}}}const wn=180,Ln=/<(environment_info|workspace_info|context|reminderInstructions|userRequest|instructions|toolUseInstructions|notebookInstructions|outputFormatting|applyPatchInstructions|attachments)>/;function ur(l){if(typeof l!="string")return{preview:"",truncated:!1};const t=l.replace(/\r\n/g,`
`).split(`
`);let s=(t.find(o=>o.trim().length>0)??t[0]??"").trim(),i=t.length>1;return s.length>wn&&(s=s.slice(0,wn).trimEnd(),i=!0),i&&(s=s.replace(/\s*$/,"")+"‚Ä¶"),{preview:s,truncated:i}}function _t(l){if(typeof l!="string")return[{kind:"other",content:l}];const e=/<(environment_info|workspace_info|context|reminderInstructions|userRequest|instructions|toolUseInstructions|notebookInstructions|outputFormatting|applyPatchInstructions|attachments)>([\s\S]*?)<\/\1>/g,t=[];let n=0,s;for(;(s=e.exec(l))!==null;){const[i,o,a]=s;if(s.index>n){const u=l.slice(n,s.index);u.trim().length&&t.push({kind:"other",content:u})}let f;switch(o){case"environment_info":f="environment";break;case"workspace_info":f="workspace";break;case"context":f="context";break;case"reminderInstructions":f="reminder";break;case"userRequest":f="userreq";break;case"instructions":f="instructions";break;case"toolUseInstructions":f="tooluse";break;case"notebookInstructions":f="notebook";break;case"outputFormatting":f="outputfmt";break;case"applyPatchInstructions":f="applypatch";break;case"attachments":f="attachments";break;default:f="other"}t.push({kind:f,content:a.trim()}),n=s.index+i.length}if(n<l.length){const i=l.slice(n);i.trim().length&&t.push({kind:"other",content:i})}return t.length?t:[{kind:"other",content:l}]}function mt(l){return typeof l!="string"?l:l.replace(/\t/g,"  ")}function it(l){if(!l||!l.content)return"";try{return l.content.map(e=>typeof e=="string"?e:e&&typeof e=="object"?e.text?e.text:JSON.stringify(e,null,2):String(e)).join(`
`)}catch{return""}}const dr=l=>!["tools","tool_choice","functions","functionDefinition","copilotFunctions"].includes(l),pr=l=>typeof l!="object",In=([l])=>!["tools","tool_choice","functions","functionDefinition","copilotFunctions"].includes(l);function _r(l,e,t){let n,s,i,o,a,f,u,_,p,v,m,h,k;Ne(l,Mn,L=>t(24,m=L)),Ne(l,Fe,L=>t(25,h=L)),Ne(l,De,L=>t(26,k=L));let g=!1,b=!1,y,w=!1,F;function P(){if(!s)return"";try{return JSON.stringify({request:s,response:s.response},null,2)}catch{return"/* Failed to serialize request */"}}async function E(){var re;const L=P();t(4,b=!1);try{if((re=navigator==null?void 0:navigator.clipboard)!=null&&re.writeText)await navigator.clipboard.writeText(L);else{const z=document.createElement("textarea");z.value=L,z.style.position="fixed",z.style.top="-2000px",document.body.appendChild(z),z.focus(),z.select(),document.execCommand("copy"),document.body.removeChild(z)}t(3,g=!0)}catch(z){console.warn("Copy failed",z),t(4,b=!0)}clearTimeout(y),y=setTimeout(()=>{t(3,g=!1),t(4,b=!1)},1800)}let R=!1,A=null,j=!1,T={},O={};function J(L){t(9,T={...T,[L]:!T[L]}),console.debug("[toggleSystemRaw]",L,T[L])}function H(L){t(10,O={...O,[L]:!O[L]}),console.debug("[toggleUserRaw]",L,O[L])}let B=null;async function ee(L,re,z){const ae=it(z);try{await navigator.clipboard.writeText(ae),t(11,B=L+"-"+re),setTimeout(()=>{B===L+"-"+re&&t(11,B=null)},1600)}catch(_e){console.warn("Failed to copy raw original",_e)}}const ie=()=>t(5,w=!w),te=(L,re)=>{re.stopPropagation(),J(L)},le=(L,re,z)=>{z.stopPropagation(),ee("sys",L,re)},V=(L,re)=>{re.stopPropagation(),H(L)},he=(L,re,z)=>{z.stopPropagation(),ee("user",L,re)},$=()=>t(6,R=!R),Y=L=>{t(7,A=L),t(8,j=!1)},oe=()=>t(8,j=!j);return l.$$.update=()=>{var L,re;l.$$.dirty[0]&100663296&&t(2,n=k[h.callIndex]),l.$$.dirty[0]&4&&t(0,s=n&&n.request),l.$$.dirty[0]&16777216&&t(18,i=m),l.$$.dirty[0]&1&&t(17,o=((L=s==null?void 0:s.requestMessages)==null?void 0:L.filter(z=>z.role==="system"))||[]),l.$$.dirty[0]&1&&t(16,a=((re=s==null?void 0:s.requestMessages)==null?void 0:re.filter(z=>z.role==="user"))||[]),l.$$.dirty[0]&8388609&&s!==F&&(t(5,w=!1),t(23,F=s)),l.$$.dirty[0]&1&&t(1,f=typeof(s==null?void 0:s.prompt)=="string"?s.prompt:""),l.$$.dirty[0]&2&&t(15,u=f&&f.trim()?ur(f):{preview:"",truncated:!1}),l.$$.dirty[0]&1&&t(14,_=(()=>{var _e,Ce;const z=s==null?void 0:s.requestOptions;if(!z)return[];const ae=new Set;if(Array.isArray(z.tools))for(const W of z.tools)(_e=W==null?void 0:W.function)!=null&&_e.name?ae.add(W.function.name):W!=null&&W.name&&ae.add(W.name);if(Array.isArray(z.functions))for(const W of z.functions)W!=null&&W.name&&ae.add(W.name);if(Array.isArray(z.copilotFunctions))for(const W of z.copilotFunctions)W!=null&&W.name&&ae.add(W.name);return(Ce=z.functionDefinition)!=null&&Ce.name&&ae.add(z.functionDefinition.name),Array.from(ae)})()),l.$$.dirty[0]&1&&t(13,p=(()=>{var Ce,W;const z=s==null?void 0:s.requestOptions;if(!z)return[];const ae=new Map;function _e(U){!(U!=null&&U.name)||ae.has(U.name)||ae.set(U.name,U)}if(Array.isArray(z.tools))for(const U of z.tools)(Ce=U==null?void 0:U.function)!=null&&Ce.name?_e({name:U.function.name,description:U.function.description,parameters:U.function.parameters,kind:U.type||"function",raw:U}):U!=null&&U.name&&_e({name:U.name,description:U.description,parameters:U.parameters,kind:U.type||"tool",raw:U});if(Array.isArray(z.functions))for(const U of z.functions)U!=null&&U.name&&_e({name:U.name,description:U.description,parameters:U.parameters||U.parametersSchema,kind:"function",raw:U});if(Array.isArray(z.copilotFunctions))for(const U of z.copilotFunctions)U!=null&&U.name&&_e({name:U.name,description:U.description,parameters:U.parameters||U.parametersSchema,kind:"copilotFunction",raw:U});if((W=z.functionDefinition)!=null&&W.name){const U=z.functionDefinition;_e({name:U.name,description:U.description,parameters:U.parameters,kind:"functionDefinition",raw:U})}return Array.from(ae.values())})()),l.$$.dirty[0]&1&&t(12,v=(()=>{var Se,ue;if(!(s!=null&&s.requestMessages))return[];const z=s.requestMessages,ae=new Map;for(const D of z)if(D.role==="tool"){const Z=D.tool_call_id||D.id;if(!Z)continue;const K=[];if(Array.isArray(D.content))for(const Q of D.content)typeof Q=="string"?K.push(Q):Q!=null&&Q.text?K.push(Q.text):K.push(JSON.stringify(Q));else typeof D.content=="string"?K.push(D.content):(Se=D.content)!=null&&Se.text&&K.push(D.content.text);ae.has(Z)||ae.set(Z,[]),ae.get(Z).push(...K)}function _e(D){if(!(D!=null&&D.content))return 0;let Z=0;for(const K of D.content){let Q="";if(typeof K=="string")Q=K;else if(K!=null&&K.text)Q=K.text;else continue;Q&&(Q.includes("&lt;attachments")||Q.includes("&lt;attachment"))&&(Q=Q.replace(/&lt;/g,"<").replace(/&gt;/g,">"));const de=Q.match(/<attachments>|<attachment\b/gi);de&&(Z+=de.length)}return Z}function Ce(D){if(!D||typeof D!="string")return 0;let Z=D;(Z.includes("&lt;attachments")||Z.includes("&lt;attachment"))&&(Z=Z.replace(/&lt;/g,"<").replace(/&gt;/g,">"));const K=Z.match(/<attachments>|<attachment\b/gi);return K?K.length:0}const W=[];let U=0,Ae=null;for(let D=0;D<z.length;D++){const Z=z[D];if(Z.role==="assistant"&&Array.isArray(Z.tool_calls)&&Z.tool_calls.length){let K=-1;for(let fe=D-1;fe>=0;fe--)if(z[fe].role==="user"){K=fe;break}const Q=K>=0?z[K]:null,de=Q?_e(Q):0;for(const fe of Z.tool_calls){const pe=fe.id||fe.tool_call_id||fe.toolCallId,me=fe.function||fe.fn||{},ke=me.name||fe.name,ce=me.arguments||fe.arguments;let M=null;if(typeof ce=="string")try{M=JSON.parse(ce)}catch{}else ce&&typeof ce=="object"&&(M=ce);const x=pe&&ae.get(pe)?ae.get(pe):[],Ie=typeof ce=="string"?Ce(ce):0,Te=de+Ie,be={id:pe,name:ke,argumentsRaw:ce,argumentsParsed:M,outputParts:x,output:x.join(`
`),prevUserIndex:K,attachmentsFromPrevUser:de,attachmentsInArgs:Ie,attachmentsTotal:Te,attachmentsCount:Te},X=W[W.length-1],we=K!==-1&&K!==Ae;Te>0&&(we||!X||X&&X.attachmentsTotal===0)?(U+=1,be.isRoundBoundary=!0,be.roundNumber=U,Ae=K):X&&(be.roundNumber=X.roundNumber),W.push(be)}}}if(!W.some(D=>D.isRoundBoundary)){const D=W.find(Z=>(Z.attachmentsTotal||0)>0);if(D){U=1,D.isRoundBoundary=!0,D.roundNumber=1;let Z=!1;for(const K of W)K===D&&(Z=!0),Z&&!K.roundNumber&&(K.roundNumber=1)}}if(!W.length&&Array.isArray((ue=s==null?void 0:s.response)==null?void 0:ue.copilotFunctionCalls)&&s.response.copilotFunctionCalls.length){const D=s.response.copilotFunctionCalls;let Z=-1;for(let pe=z.length-1;pe>=0;pe--)if(z[pe].role==="user"){Z=pe;break}const K=Z>=0?z[Z]:null,Q=K?_e(K):0;let de=!1,fe=0;for(let pe=0;pe<D.length;pe++){const me=D[pe],ke=me.id||me.tool_call_id||me.callId||"resp_"+pe,ce=me.name||me.function&&me.function.name||"Unnamed Tool",M=me.arguments||me.function&&me.function.arguments||"";let x=null;if(typeof M=="string")try{x=JSON.parse(M)}catch{}else M&&typeof M=="object"&&(x=M);const Ie=typeof M=="string"?Ce(M):0,Te=Q+Ie,be={id:ke,name:ce,argumentsRaw:M,argumentsParsed:x,outputParts:[],output:"",prevUserIndex:Z,attachmentsFromPrevUser:Q,attachmentsInArgs:Ie,attachmentsTotal:Te,attachmentsCount:Te,source:"response"};!de&&Te>0?(fe=1,be.isRoundBoundary=!0,be.roundNumber=1,de=!0):de&&(be.roundNumber=fe),W.push(be)}if(!W.some(pe=>pe.isRoundBoundary)&&Q>0&&W.length){W[0].isRoundBoundary=!0,W[0].roundNumber=1;for(let pe=1;pe<W.length;pe++)W[pe].roundNumber=1}}return W})())},[s,f,n,g,b,w,R,A,j,T,O,B,v,p,_,u,a,o,i,E,J,H,ee,F,m,h,k,ie,te,le,V,he,$,Y,oe]}class mr extends Ge{constructor(e){super(),We(this,e,_r,fr,Ee,{},null,[-1,-1])}}function Cn(l){let e,t,n;return{c(){e=d("button"),e.textContent="‚úï",r(e,"class","clear")},m(s,i){C(s,e,i),t||(n=ne(e,"click",l[3]),t=!0)},p:G,d(s){s&&I(e),t=!1,n()}}}function vr(l){let e,t,n,s,i,o=l[0]&&Cn(l);return{c(){e=d("div"),t=d("input"),n=S(),o&&o.c(),r(t,"placeholder",l[1]),r(t,"class","svelte-xamc1i"),r(e,"class","search-bar svelte-xamc1i")},m(a,f){C(a,e,f),c(e,t),$t(t,l[0]),c(e,n),o&&o.m(e,null),s||(i=[ne(t,"input",l[5]),ne(t,"input",l[2])],s=!0)},p(a,[f]){f&2&&r(t,"placeholder",a[1]),f&1&&t.value!==a[0]&&$t(t,a[0]),a[0]?o?o.p(a,f):(o=Cn(a),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i:G,o:G,d(a){a&&I(e),o&&o.d(),s=!1,Pe(i)}}}function hr(l,e,t){let{value:n=""}=e,{placeholder:s=""}=e;const i="function";function o(u){t(0,n=u.target.value)}function a(){t(0,n="")}function f(){n=this.value,t(0,n)}return l.$$set=u=>{"value"in u&&t(0,n=u.value),"placeholder"in u&&t(1,s=u.placeholder)},[n,s,o,a,i,f]}class Sn extends Ge{constructor(e){super(),We(this,e,hr,vr,Ee,{value:0,placeholder:1,type:4})}get type(){return this.$$.ctx[4]}}function Nn(l){let e,t,n,s,i,o,a=(l[6]?l[0]+1:0)+"",f,u,_=l[1].length+"",p,v,m,h,k,g,b,y,w,F,P,E;return{c(){e=d("div"),t=d("div"),n=d("div"),s=d("span"),s.textContent="Filtered",i=S(),o=d("span"),f=N(a),u=N(" / "),p=N(_),v=S(),m=d("div"),h=d("button"),k=N("‚óÄ"),b=S(),y=d("button"),w=N("‚ñ∂"),r(s,"class","label"),r(o,"class","count-mini"),r(n,"class","status-item"),r(t,"class","global-status nav-side-status"),r(t,"aria-label","Filtered navigation status"),r(h,"class","nav-side-btn nav-filtered-btn"),h.disabled=g=l[0]<=0,r(h,"title","Previous (Filtered)"),r(y,"class","nav-side-btn nav-filtered-btn"),y.disabled=F=l[0]>=l[1].length-1,r(y,"title","Next (Filtered)"),r(m,"class","nav-buttons-row"),r(e,"class","nav-side nav-right-filtered")},m(R,A){C(R,e,A),c(e,t),c(t,n),c(n,s),c(n,i),c(n,o),c(o,f),c(o,u),c(o,p),c(e,v),c(e,m),c(m,h),c(h,k),c(m,b),c(m,y),c(y,w),P||(E=[ne(h,"click",l[24]),ne(y,"click",l[25])],P=!0)},p(R,A){A[0]&65&&a!==(a=(R[6]?R[0]+1:0)+"")&&q(f,a),A[0]&2&&_!==(_=R[1].length+"")&&q(p,_),A[0]&1&&g!==(g=R[0]<=0)&&(h.disabled=g),A[0]&3&&F!==(F=R[0]>=R[1].length-1)&&(y.disabled=F)},d(R){R&&I(e),P=!1,Pe(E)}}}function br(l){let e,t,n,s=l[9]?"agent switching":"tool calls grouped into rounds",i,o;return{c(){e=d("div"),t=d("p"),n=N("Load a file to see "),i=N(s),o=N("."),r(t,"class","placeholder-hint"),r(e,"class","overview-empty-placeholder")},m(a,f){C(a,e,f),c(e,t),c(t,n),c(t,i),c(t,o)},p(a,f){f[0]&512&&s!==(s=a[9]?"agent switching":"tool calls grouped into rounds")&&q(i,s)},i:G,o:G,d(a){a&&I(e)}}}function gr(l){let e,t,n,s;const i=[yr,kr],o=[];function a(f,u){return f[9]?0:1}return t=a(l),n=o[t]=i[t](l),{c(){e=d("div"),n.c(),r(e,"class","toolcalls-scroll")},m(f,u){C(f,e,u),o[t].m(e,null),s=!0},p(f,u){let _=t;t=a(f),t!==_&&(Ue(),ye(o[_],1,1,()=>{o[_]=null}),ze(),n=o[t],n||(n=o[t]=i[t](f),n.c()),ge(n,1),n.m(e,null))},i(f){s||(ge(n),s=!0)},o(f){ye(n),s=!1},d(f){f&&I(e),o[t].d()}}}function kr(l){let e,t;return e=new Ts({props:{variant:"panel"}}),{c(){$e(e.$$.fragment)},m(n,s){Je(e,n,s),t=!0},i(n){t||(ge(e.$$.fragment,n),t=!0)},o(n){ye(e.$$.fragment,n),t=!1},d(n){Be(e,n)}}}function yr(l){let e,t;return e=new Ms({}),{c(){$e(e.$$.fragment)},m(n,s){Je(e,n,s),t=!0},i(n){t||(ge(e.$$.fragment,n),t=!0)},o(n){ye(e.$$.fragment,n),t=!1},d(n){Be(e,n)}}}function wr(l){let e,t;return e=new mr({}),{c(){$e(e.$$.fragment)},m(n,s){Je(e,n,s),t=!0},i(n){t||(ge(e.$$.fragment,n),t=!0)},o(n){ye(e.$$.fragment,n),t=!1},d(n){Be(e,n)}}}function Ir(l){let e;return{c(){e=d("div"),e.innerHTML='<h2>No data loaded</h2> <p>Drag &amp; drop a log file to begin.</p> <p class="file-hint">Supported: <code>sim‚Äërequests-*.txt</code>, <code>*‚Äëfetchlog‚Äë*.txt</code>, or any valid JSON log file</p>',r(e,"class","empty-state tall")},m(t,n){C(t,e,n)},i:G,o:G,d(t){t&&I(e)}}}function jn(l){let e,t,n;return{c(){e=d("button"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="18 15 12 9 6 15"></polyline></svg>',r(e,"class","back-to-top"),r(e,"aria-label","Back to top"),r(e,"title","Back to top")},m(s,i){C(s,e,i),t||(n=ne(e,"click",Sr),t=!0)},p:G,d(s){s&&I(e),t=!1,n()}}}function Cr(l){let e,t,n,s,i,o,a=l[7]===0?"0 / 0":`${l[8]+1} / ${l[7]}`,f,u,_,p,v,m,h,k,g,b,y,w,F,P,E,R,A,j,T,O,J,H,B,ee,ie,te,le,V,he,$,Y,oe,L,re,z,ae,_e,Ce,W,U,Ae,Se,ue,D,Z,K,Q=l[1].length>0&&Nn(l);T=new Is({}),T.$on("loadText",l[26]);function de(X){l[27](X)}let fe={type:"function",placeholder:"Function search"};l[12].fn!==void 0&&(fe.value=l[12].fn),H=new Sn({props:fe}),Le.push(()=>Vt(H,"value",de));function pe(X){l[28](X)}let me={type:"response",placeholder:"Response search"};l[12].response!==void 0&&(me.value=l[12].response),ie=new Sn({props:me}),Le.push(()=>Vt(ie,"value",pe));const ke=[gr,br],ce=[];function M(X,we){return X[13].length>0?0:1}V=M(l),he=ce[V]=ke[V](l);const x=[Ir,wr],Ie=[];function Te(X,we){return X[13].length===0?0:1}oe=Te(l),L=Ie[oe]=x[oe](l);let be=l[2]&&jn();return{c(){e=d("div"),t=d("div"),n=d("div"),s=d("span"),s.textContent="All",i=S(),o=d("span"),f=N(a),u=S(),_=d("div"),p=d("div"),v=d("button"),m=N("‚óÄ"),k=S(),g=d("button"),b=N("‚ñ∂"),w=S(),Q&&Q.c(),F=S(),P=d("div"),E=d("aside"),R=d("div"),A=d("div"),j=d("div"),$e(T.$$.fragment),O=S(),J=d("div"),$e(H.$$.fragment),ee=S(),$e(ie.$$.fragment),le=S(),he.c(),$=S(),Y=d("main"),L.c(),re=S(),z=d("aside"),z.innerHTML="",ae=S(),_e=d("footer"),Ce=N("Total calls: "),W=N(l[11]),U=N(". Current: "),Ae=N(l[10]),Se=N("."),ue=S(),be&&be.c(),r(s,"class","label"),r(o,"class","count-mini"),r(n,"class","status-item"),r(t,"class","global-status nav-left-status"),r(t,"aria-label","Global navigation status (All)"),r(v,"class","nav-side-btn nav-all-btn"),v.disabled=h=l[8]<=0,r(v,"title","Previous (All)"),r(g,"class","nav-side-btn nav-all-btn"),g.disabled=y=l[8]>=l[7]-1,r(g,"title","Next (All)"),r(p,"class","nav-buttons-row"),r(_,"class","nav-side nav-left-all nav-left-nav"),Re(_,"opacity",l[5]?1:0),r(j,"class","ingest-block"),r(J,"class","filters-stack"),r(J,"aria-label","Filtering controls"),r(A,"class","ingest-filters-grid"),r(A,"aria-label","Data load and filters"),r(R,"class","left-stack"),r(E,"class","overview-pane"),r(E,"aria-label","Tool calls overview & controls"),r(Y,"class","main-content"),r(Y,"aria-label","Request detail panel"),r(P,"class","workspace-split"),r(z,"class","sidebar compact"),r(_e,"class","footer"),r(e,"class","app-shell")},m(X,we){C(X,e,we),c(e,t),c(t,n),c(n,s),c(n,i),c(n,o),c(o,f),l[20](t),c(e,u),c(e,_),c(_,p),c(p,v),c(v,m),c(p,k),c(p,g),c(g,b),l[23](_),c(e,w),Q&&Q.m(e,null),c(e,F),c(e,P),c(P,E),c(E,R),c(R,A),c(A,j),Je(T,j,null),c(A,O),c(A,J),Je(H,J,null),c(J,ee),Je(ie,J,null),c(R,le),ce[V].m(R,null),c(P,$),c(P,Y),Ie[oe].m(Y,null),c(e,re),c(e,z),c(e,ae),c(e,_e),c(_e,Ce),c(_e,W),c(_e,U),c(_e,Ae),c(_e,Se),c(e,ue),be&&be.m(e,null),D=!0,Z||(K=[ne(v,"click",l[21]),ne(g,"click",l[22])],Z=!0)},p(X,we){(!D||we[0]&384)&&a!==(a=X[7]===0?"0 / 0":`${X[8]+1} / ${X[7]}`)&&q(f,a),(!D||we[0]&256&&h!==(h=X[8]<=0))&&(v.disabled=h),(!D||we[0]&384&&y!==(y=X[8]>=X[7]-1))&&(g.disabled=y),(!D||we[0]&32)&&Re(_,"opacity",X[5]?1:0),X[1].length>0?Q?Q.p(X,we):(Q=Nn(X),Q.c(),Q.m(e,F)):Q&&(Q.d(1),Q=null);const Ht={};!B&&we[0]&4096&&(B=!0,Ht.value=X[12].fn,Ut(()=>B=!1)),H.$set(Ht);const Jt={};!te&&we[0]&4096&&(te=!0,Jt.value=X[12].response,Ut(()=>te=!1)),ie.$set(Jt);let ht=V;V=M(X),V===ht?ce[V].p(X,we):(Ue(),ye(ce[ht],1,1,()=>{ce[ht]=null}),ze(),he=ce[V],he?he.p(X,we):(he=ce[V]=ke[V](X),he.c()),ge(he,1),he.m(R,null));let bt=oe;oe=Te(X),oe!==bt&&(Ue(),ye(Ie[bt],1,1,()=>{Ie[bt]=null}),ze(),L=Ie[oe],L||(L=Ie[oe]=x[oe](X),L.c()),ge(L,1),L.m(Y,null)),(!D||we[0]&2048)&&q(W,X[11]),(!D||we[0]&1024)&&q(Ae,X[10]),X[2]?be?be.p(X,we):(be=jn(),be.c(),be.m(e,null)):be&&(be.d(1),be=null)},i(X){D||(ge(T.$$.fragment,X),ge(H.$$.fragment,X),ge(ie.$$.fragment,X),ge(he),ge(L),D=!0)},o(X){ye(T.$$.fragment,X),ye(H.$$.fragment,X),ye(ie.$$.fragment,X),ye(he),ye(L),D=!1},d(X){X&&I(e),l[20](null),l[23](null),Q&&Q.d(),Be(T),Be(H),Be(ie),ce[V].d(),Ie[oe].d(),be&&be.d(),Z=!1,Pe(K)}}}function Sr(){window.scrollTo({top:0,behavior:"smooth"})}function Nr(l,e,t){let n,s,i,o,a,f,u,_,p,v,m,h,k,g,b;Ne(l,Ve,V=>t(15,p=V)),Ne(l,Qe,V=>t(16,v=V)),Ne(l,Fe,V=>t(17,m=V)),Ne(l,Fn,V=>t(18,h=V)),Ne(l,De,V=>t(19,k=V)),Ne(l,ct,V=>t(12,g=V)),Ne(l,lt,V=>t(13,b=V));let y=!1;St(()=>{const V=()=>{t(2,y=window.scrollY>300)};return window.addEventListener("scroll",V),()=>{window.removeEventListener("scroll",V)}});function w(V){ks(V),setTimeout(R,30)}let F,P,E=!1;function R(){if(!F)return;const V=window.innerHeight,he=F.offsetHeight||0;let $=(V-he)/2;if($<20&&($=20),t(3,F.style.top=`${Math.round($)}px`,F),P){const Y=P.offsetHeight||0;let oe=$-Y-16;oe<20&&(oe=20),t(4,P.style.top=`${Math.round(oe)}px`,P)}t(5,E=!0)}let A;function j(){cancelAnimationFrame(A),A=requestAnimationFrame(R)}St(()=>(R(),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)));function T(V){Le[V?"unshift":"push"](()=>{P=V,t(4,P)})}const O=()=>fs(),J=()=>us();function H(V){Le[V?"unshift":"push"](()=>{F=V,t(3,F)})}const B=()=>ds(),ee=()=>ps(),ie=V=>w(V.detail);function te(V){l.$$.not_equal(g.fn,V)&&(g.fn=V,ct.set(g))}function le(V){l.$$.not_equal(g.response,V)&&(g.response=V,ct.set(g))}return l.$$.update=()=>{l.$$.dirty[0]&524288&&t(11,n=k.length),l.$$.dirty[0]&131072&&t(10,s=m.callIndex+1),l.$$.dirty[0]&262144&&t(9,i=h==="new-agent"),l.$$.dirty[0]&131072&&t(8,o=m.callIndex||0),l.$$.dirty[0]&131072&&t(7,a=m.totalAll||0),l.$$.dirty[0]&65536&&t(1,f=v||[]),l.$$.dirty[0]&32768&&t(0,u=p||-1),l.$$.dirty[0]&3&&t(6,_=f.length>0&&u!==-1)},[u,f,y,F,P,E,_,a,o,i,s,n,g,b,w,p,v,m,h,k,T,O,J,H,B,ee,ie,te,le]}class jr extends Ge{constructor(e){super(),We(this,e,Nr,Cr,Ee,{},null,[-1,-1])}}new jr({target:document.getElementById("app")});
