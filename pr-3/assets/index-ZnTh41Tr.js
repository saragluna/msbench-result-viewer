var Jn=Object.defineProperty;var $n=(t,e,l)=>e in t?Jn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var kt=(t,e,l)=>$n(t,typeof e!="symbol"?e+"":e,l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=l(s);fetch(s.href,i)}})();function K(){}function Bn(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function qn(t){return t()}function Bt(){return Object.create(null)}function Pe(t){t.forEach(qn)}function Mt(t){return typeof t=="function"}function Ee(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Dn(t){return Object.keys(t).length===0}function Et(t,...e){if(t==null){for(const n of e)n(void 0);return K}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function Un(t){let e;return Et(t,l=>e=l)(),e}function je(t,e,l){t.$$.on_destroy.push(Et(e,l))}const zn=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function c(t,e){t.appendChild(e)}function k(t,e,l){t.insertBefore(e,l||null)}function g(t){t.parentNode&&t.parentNode.removeChild(t)}function Ne(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function d(t){return document.createElement(t)}function N(t){return document.createTextNode(t)}function C(){return N(" ")}function _e(){return N("")}function ne(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function Dt(t){return function(e){return e.preventDefault(),t.call(this,e)}}function r(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function Vn(t){return Array.from(t.childNodes)}function P(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ut(t,e){t.value=e??""}function Te(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,"")}function Me(t,e,l){t.classList.toggle(e,!!l)}function Wn(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}let st;function He(t){st=t}function ht(){if(!st)throw new Error("Function called outside component initialization");return st}function Nt(t){ht().$$.on_mount.push(t)}function Kn(t){ht().$$.on_destroy.push(t)}function Yn(){const t=ht();return(e,l,{cancelable:n=!1}={})=>{const s=t.$$.callbacks[e];if(s){const i=Wn(e,l,{cancelable:n});return s.slice().forEach(o=>{o.call(t,i)}),!i.defaultPrevented}return!0}}const tt=[],Je=[];let lt=[];const jt=[],Pn=Promise.resolve();let Rt=!1;function Fn(){Rt||(Rt=!0,Pn.then(Ht))}function At(){return Fn(),Pn}function Tt(t){lt.push(t)}function zt(t){jt.push(t)}const yt=new Set;let Ze=0;function Ht(){if(Ze!==0)return;const t=st;do{try{for(;Ze<tt.length;){const e=tt[Ze];Ze++,He(e),Gn(e.$$)}}catch(e){throw tt.length=0,Ze=0,e}for(He(null),tt.length=0,Ze=0;Je.length;)Je.pop()();for(let e=0;e<lt.length;e+=1){const l=lt[e];yt.has(l)||(yt.add(l),l())}lt.length=0}while(tt.length);for(;jt.length;)jt.pop()();Rt=!1,yt.clear(),He(t)}function Gn(t){if(t.fragment!==null){t.update(),Pe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Tt)}}function Qn(t){const e=[],l=[];lt.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),lt=e}const ct=new Set;let ze;function Ke(){ze={r:0,c:[],p:ze}}function Ye(){ze.r||Pe(ze.c),ze=ze.p}function ke(t,e){t&&t.i&&(ct.delete(t),t.i(e))}function we(t,e,l,n){if(t&&t.o){if(ct.has(t))return;ct.add(t),ze.c.push(()=>{ct.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function Vt(t,e){const l=e.token={};function n(s,i,o,a){if(e.token!==l)return;e.resolved=a;let f=e.ctx;o!==void 0&&(f=f.slice(),f[o]=a);const u=s&&(e.current=s)(f);let _=!1;e.block&&(e.blocks?e.blocks.forEach((p,m)=>{m!==i&&p&&(Ke(),we(p,1,1,()=>{e.blocks[m]===p&&(e.blocks[m]=null)}),Ye())}):e.block.d(1),u.c(),ke(u,1),u.m(e.mount(),e.anchor),_=!0),e.block=u,e.blocks&&(e.blocks[i]=u),_&&Ht()}if(Bn(t)){const s=ht();if(t.then(i=>{He(s),n(e.then,1,e.value,i),He(null)},i=>{if(He(s),n(e.catch,2,e.error,i),He(null),!e.hasCatch)throw i}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,t),!0;e.resolved=t}}function Xn(t,e,l){const n=e.slice(),{resolved:s}=t;t.current===t.then&&(n[t.value]=s),t.current===t.catch&&(n[t.error]=s),t.block.p(n,l)}function se(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Zn(t,e){t.d(1),e.delete(t.key)}function xn(t,e,l,n,s,i,o,a,f,u,_,p){let m=t.length,v=i.length,h=m;const y={};for(;h--;)y[t[h].key]=h;const w=[],b=new Map,S=new Map,I=[];for(h=v;h--;){const q=p(s,i,h),F=l(q);let j=o.get(F);j?I.push(()=>j.p(q,e)):(j=u(F,q),j.c()),b.set(F,w[h]=j),F in y&&S.set(F,Math.abs(h-y[F]))}const M=new Set,O=new Set;function A(q){ke(q,1),q.m(a,_),o.set(q.key,q),_=q.first,v--}for(;m&&v;){const q=w[v-1],F=t[m-1],j=q.key,T=F.key;q===F?(_=q.first,m--,v--):b.has(T)?!o.has(j)||M.has(j)?A(q):O.has(T)?m--:S.get(j)>S.get(T)?(O.add(j),A(q)):(M.add(T),m--):(f(F,o),m--)}for(;m--;){const q=t[m];b.has(q.key)||f(q,o)}for(;v;)A(w[v-1]);return Pe(I),w}function Wt(t,e,l){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=l,l(t.$$.ctx[n]))}function Ve(t){t&&t.c()}function $e(t,e,l){const{fragment:n,after_update:s}=t.$$;n&&n.m(e,l),Tt(()=>{const i=t.$$.on_mount.map(qn).filter(Mt);t.$$.on_destroy?t.$$.on_destroy.push(...i):Pe(i),t.$$.on_mount=[]}),s.forEach(Tt)}function Be(t,e){const l=t.$$;l.fragment!==null&&(Qn(l.after_update),Pe(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function es(t,e){t.$$.dirty[0]===-1&&(tt.push(t),Fn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ge(t,e,l,n,s,i,o=null,a=[-1]){const f=st;He(t);const u=t.$$={fragment:null,ctx:[],props:i,update:K,not_equal:s,bound:Bt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Bt(),dirty:a,skip_bound:!1,root:e.target||f.$$.root};o&&o(u.root);let _=!1;if(u.ctx=l?l(t,e.props||{},(p,m,...v)=>{const h=v.length?v[0]:m;return u.ctx&&s(u.ctx[p],u.ctx[p]=h)&&(!u.skip_bound&&u.bound[p]&&u.bound[p](h),_&&es(t,p)),m}):[],u.update(),_=!0,Pe(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const p=Vn(e.target);u.fragment&&u.fragment.l(p),p.forEach(g)}else u.fragment&&u.fragment.c();e.intro&&ke(t.$$.fragment),$e(t,e.target,e.anchor),Ht()}He(f)}class Qe{constructor(){kt(this,"$$");kt(this,"$$set")}$destroy(){Be(this,1),this.$destroy=K}$on(e,l){if(!Mt(l))return K;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const s=n.indexOf(l);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Dn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ts="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ts);const xe=[];function ls(t,e){return{subscribe:nt(t,e).subscribe}}function nt(t,e=K){let l;const n=new Set;function s(a){if(Ee(t,a)&&(t=a,l)){const f=!xe.length;for(const u of n)u[1](),xe.push(u,t);if(f){for(let u=0;u<xe.length;u+=2)xe[u][0](xe[u+1]);xe.length=0}}}function i(a){s(a(t))}function o(a,f=K){const u=[a,f];return n.add(u),n.size===1&&(l=e(s,i)||K),a(t),()=>{n.delete(u),n.size===0&&l&&(l(),l=null)}}return{set:s,update:i,subscribe:o}}function ot(t,e,l){const n=!Array.isArray(t),s=n?[t]:t;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=e.length<2;return ls(l,(o,a)=>{let f=!1;const u=[];let _=0,p=K;const m=()=>{if(_)return;p();const h=e(n?u[0]:u,o,a);i?o(h):p=Mt(h)?h:K},v=s.map((h,y)=>Et(h,w=>{u[y]=w,_&=~(1<<y),f&&m()},()=>{_|=1<<y}));return f=!0,m(),function(){Pe(v),p(),f=!1}})}function qe(t){try{return JSON.parse(t)}catch{return null}}function ut(t){if(typeof t!="string")return"";let e=t.replace(/^\uFEFF/,"");return e.includes("\\r\\n")&&!e.includes(`
`)&&(e=e.replace(/\\r\\n/g,`
`)),e.includes("\\n")&&!e.includes(`
`)&&(e=e.replace(/\\n/g,`
`)),e}function ns(t){const l=(o=>{if(!o)return null;if(typeof o=="object")return o;if(typeof o!="string")return null;const a=o.trim();if(!a)return null;let f=qe(a);if(typeof f=="string"){const p=qe(f.trim());if(p&&typeof p=="object")return p}if(f&&typeof f=="object")return f;const u=a.indexOf("{"),_=a.lastIndexOf("}");if(u!==-1&&_!==-1&&_>u){const p=a.slice(u,_+1);if(f=qe(p),f&&typeof f=="object")return f}return null})(t);if(!l)return null;const n=l.filePath||l.path||l.file||l.filename,s=l.oldString??l.old??l.before,i=l.newString??l.new??l.after;return typeof s!="string"&&typeof i!="string"?null:{filePath:n,oldString:ut(s),newString:ut(i)}}function ss(t){const l=(i=>{if(!i)return null;if(typeof i=="object")return i;if(typeof i!="string")return null;const o=i.trim();if(!o)return null;let a=qe(o);if(typeof a=="string"){const _=qe(a.trim());if(_&&typeof _=="object")return _}if(a&&typeof a=="object")return a;const f=o.indexOf("{"),u=o.lastIndexOf("}");if(f!==-1&&u!==-1&&u>f){const _=o.slice(f,u+1);if(a=qe(_),a&&typeof a=="object")return a}return null})(t);if(!l)return null;const n=Array.isArray(l.replacements)?l.replacements:null;if(!n||n.length===0)return null;const s=n.map(i=>{if(!i||typeof i!="object")return null;const o=i.filePath||i.path||i.file||i.filename,a=i.oldString??i.old??i.before,f=i.newString??i.new??i.after;if(typeof a!="string"&&typeof f!="string")return null;const u=typeof i.explanation=="string"?i.explanation:"";return{filePath:o,oldString:ut(a),newString:ut(f),explanation:u}}).filter(Boolean);return s.length?{explanation:typeof l.explanation=="string"?l.explanation:"",replacements:s}:null}function Ot(t){const e=t==null?void 0:t.replacements;if(!Array.isArray(e)||e.length===0)return"<pre>Invalid diff</pre>";const l=t!=null&&t.explanation?`<div class="diff-header">${Fe(t.explanation)}</div>`:"",n=e.map((s,i)=>{const o=s!=null&&s.filePath?Fe(s.filePath):`Replacement ${i+1}`,a=s!=null&&s.explanation?`<div class="diff-note">${Fe(s.explanation)}</div>`:"";return`
<div class="diff-container">
  <div class="diff-header">${o}</div>
  ${a}
  <div class="diff-section diff-old">
    <h4>‚àí Removed</h4>
    <div class="diff-content">${Fe((s==null?void 0:s.oldString)||"")}</div>
  </div>
  <div class="diff-section diff-new">
    <h4>+ Added</h4>
    <div class="diff-content">${Fe((s==null?void 0:s.newString)||"")}</div>
  </div>
</div>`}).join(`
`);return l?`
<div class="diff-container">${l}</div>
${n}`:n}function is(t){const l=(s=>{if(!s)return null;if(typeof s=="object")return s;if(typeof s!="string")return null;const i=s.trim();if(!i)return null;let o=qe(i);if(typeof o=="string"){const u=qe(o.trim());if(u&&typeof u=="object")return u}if(o&&typeof o=="object")return o;const a=i.indexOf("{"),f=i.lastIndexOf("}");if(a!==-1&&f!==-1&&f>a){const u=i.slice(a,f+1);if(o=qe(u),o&&typeof o=="object")return o}return null})(t);if(!l)return null;const n=Array.isArray(l.todoList)?l.todoList:null;return n?{operation:l.operation,todoList:n.map(s=>!s||typeof s!="object"?null:{id:s.id,title:s.title||"",description:s.description||"",status:s.status||""}).filter(Boolean)}:null}function qt(t){const e=t==null?void 0:t.todoList;if(!Array.isArray(e))return null;const l=t!=null&&t.operation?`Todo List (${String(t.operation)})`:"Todo List",n=e.map(s=>{const i=(s.status||"").toLowerCase(),o=i||"unknown",a=i==="completed"?"x":i==="in-progress"?"-":" ",f=Fe(s.title||""),u=(s.description||"").trim(),_=u?`<div class="todo-desc">${Fe(u)}</div>`:"",p=s.id!==void 0&&s.id!==null?`<span class="todo-id">${Fe(String(s.id))}.</span> `:"";return`
        <div class="todo-item ${o}">
          <div class="todo-line">
            <span class="todo-box" aria-hidden="true">[${a}]</span>
            <span class="todo-title">${p}${f}</span>
          </div>
          ${_}
        </div>`}).join(`
`);return`
    <div class="todo-container">
      <div class="diff-container">
        <div class="diff-header">${Fe(l)}</div>
      </div>
      <div class="todo-body">${n}</div>
    </div>`}function We(t){return Array.isArray(t)?t:[]}function os(t){if(t==="None")return"#6c757d";const e=["#007bff","#28a745","#dc3545","#ffc107","#17a2b8","#6f42c1","#fd7e14","#20c997","#e83e8c","#343a40","#495057","#6610f2","#e74c3c","#3498db","#2ecc71","#f39c12","#9b59b6","#1abc9c","#34495e","#95a5a6","#f1c40f","#e67e22","#8e44ad","#16a085","#2c3e50","#c0392b","#d35400","#7f8c8d","#27ae60","#2980b9"];let l=0;for(let n=0;n<t.length;n++)l=(l<<5)-l+t.charCodeAt(n),l|=0;return e[Math.abs(l)%e.length]}function Pt(t){const{oldString:e,newString:l,filePath:n}=t||{};return!e&&!l?"<pre>Invalid diff</pre>":`
<div class="diff-container">
  <div class="diff-header">${n||"File Changes"}</div>
  <div class="diff-section diff-old">
    <h4>‚àí Removed</h4>
    <div class="diff-content">${Fe(e||"")}</div>
  </div>
  <div class="diff-section diff-new">
    <h4>+ Added</h4>
    <div class="diff-content">${Fe(l||"")}</div>
  </div>
</div>`}function Fe(t=""){return t.replace(/[&<>"']/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[e])}const rs=["apply_patch","create_directory","create_file","create_new_jupyter_notebook","edit_notebook_file","file_search","test_search","grep_search","get_changed_files","copilot_getNotebookSummary","get_search_view_results","get_vscode_api","github_repo","list_code_usages","list_dir","open_simple_browser","read_file","run_notebook_cell","semantic_search","test_failure","create_and_run_task","get_terminal_output","manage_todo_list","run_in_terminal","terminal_last_command","terminal_selection","insert_edit_into_file"],as=["replace_string_in_file","apply_patch","edit_file","create_file","create_directory","run_in_terminal"],Kt=["#f97316","#ea580c","#fb923c","#d97706","#f59e0b","#c2410c","#f8b400","#ffb454"],Yt=["#1d4ed8","#2563eb","#3b82f6","#0ea5e9","#38bdf8","#1e40af","#1e3a8a","#60a5fa","#0284c7"],Gt=["#047857","#059669","#10b981","#34d399","#16a34a","#0d9488","#14b8a6","#22c55e","#2dd4bf"];function cs(t){let e=0;for(let l=0;l<t.length;l++)e=Math.imul(31,e)+t.charCodeAt(l)|0;return Math.abs(e)}let wt=null;function Ln(){if(wt)return wt;const t={};return as.forEach((e,l)=>{t[e]=Kt[l%Kt.length]}),rs.filter(e=>!t[e]).forEach((e,l)=>{t[e]=Yt[l%Yt.length]}),t.grep_search&&t.read_file&&t.grep_search===t.read_file&&(t.read_file="#0f7497"),wt=t,t}function It(t){if(!t)return"#6b7280";if(t==="None")return"#000000";if(t==="analyze_files_and_patterns")return"#2563eb";if(t==="patch_file")return"#7c3aed";const e=String(t).trim(),l=e.toLowerCase(),n=Ln();return n[e]?n[e]:n[l]?n[l]:Gt[cs(l)%Gt.length]}Ln();const et="#dc2626",Qt="#9333ea",Ct="#7c3aed",rt=nt([]),Ue=nt([]),Le=nt({callIndex:0,totalAll:0}),De=nt(-1),ft=nt({fn:"",response:""}),Xe=ot([Ue,ft],([t,e])=>{const l=e.fn.trim().toLowerCase(),n=e.response.trim().toLowerCase();if(!l&&!n)return[];const s=[];return t.forEach((i,o)=>{var f,u,_,p,m;let a=!0;if(l&&(a=a&&i.name.toLowerCase().includes(l)),n){let v="";(u=(f=i.request)==null?void 0:f.response)!=null&&u.value&&(v+=i.request.response.value.join(" ")),(p=(_=i.request)==null?void 0:_.response)!=null&&p.copilotFunctionCalls&&i.request.response.copilotFunctionCalls.forEach(h=>{v+=" "+(h.arguments||"")}),(m=i.request)!=null&&m.requestMessages&&i.request.requestMessages.forEach(h=>{Array.isArray(h.content)&&h.content.forEach(y=>{y.text&&(v+=" "+y.text)})}),a=a&&v.toLowerCase().includes(n)}a&&s.push(o)}),s}),fs=ot([Ue,Xe],([t,e])=>e.length?e:t.map((l,n)=>n)),us=ot([Ue,Xe],([t,e])=>{const l=e.length?e:t.map((s,i)=>i),n=new Map;return l.forEach(s=>{const i=t[s],o=i.requestIndex;n.has(o)||n.set(o,{requestIndex:o,calls:[],request:i.request}),n.get(o).calls.push({...i,originalIndex:s})}),Array.from(n.values()).sort((s,i)=>s.requestIndex-i.requestIndex)}),Mn=ot([rt,Ue],([t,e])=>{if(!t.length)return!1;const l=new Map;return t.forEach((n,s)=>{l.set(s,0)}),e.forEach(n=>{if(n.hasFunction){const s=l.get(n.requestIndex)||0;l.set(n.requestIndex,s+1)}}),Array.from(l.values()).every(n=>n===0||n===1)}),ds=ot([rt],([t])=>{var l,n;const e={};if(!Array.isArray(t))return e;for(const s of t){const i=s==null?void 0:s.requestMessages;if(Array.isArray(i))for(const o of i){if((o==null?void 0:o.role)!=="tool")continue;const a=o.tool_call_id||o.id||o.toolCallId;if(!a||(l=e[a])!=null&&l.text)continue;const f=[],u=o.content;if(Array.isArray(u))for(const _ of u)typeof _=="string"?f.push(_):_!=null&&_.text?f.push(_.text):f.push(JSON.stringify(_));else typeof u=="string"?f.push(u):u!=null&&u.text&&f.push(u.text);e[a]={parts:f,text:f.join(`
`),requestId:(n=s==null?void 0:s.response)==null?void 0:n.requestId}}}return e});Xe.subscribe(t=>{let e;if(Le.subscribe(n=>e=n)(),t.length===0){De.set(-1);return}const l=t.indexOf(e.callIndex);De.set(l)});Le.subscribe(t=>{let e;if(Xe.subscribe(n=>e=n)(),!e||e.length===0){De.set(-1);return}const l=e.indexOf(t.callIndex);De.set(l)});function Xt(t){Le.update(e=>({...e,callIndex:t})),setTimeout(()=>{try{const l=Un(Ue)[t];if(l&&typeof l.callIndex=="number"&&l.callIndex>=0){const n="resp-fnhead-"+l.callIndex,s="resp-fncall-"+l.callIndex,i=document.getElementById(n)||document.getElementById(s);if(i){i.scrollIntoView({behavior:"auto",block:"center"});return}let o=0;const a=()=>{o++;const f=document.getElementById(n)||document.getElementById(s);if(f){f.scrollIntoView({behavior:"auto",block:"center"});return}if(o<5)setTimeout(a,80);else{const u=document.querySelector(".main-content");u&&u.scrollIntoView({behavior:"smooth",block:"start"})}};a()}else{const n=document.querySelector(".main-content");n&&n.scrollIntoView({behavior:"smooth",block:"start"})}}catch{const l=document.querySelector(".main-content");l&&l.scrollIntoView({behavior:"smooth",block:"start"})}},60)}function ps(){Le.update(t=>t.callIndex>0?{...t,callIndex:t.callIndex-1}:t)}function _s(){Le.update(t=>t.callIndex<t.totalAll-1?{...t,callIndex:t.callIndex+1}:t)}function ms(){let t,e;if(Xe.subscribe(l=>t=l)(),De.subscribe(l=>e=l)(),!(!t||t.length===0||e===-1)&&e>0){const l=t[e-1];Le.update(n=>({...n,callIndex:l}))}}function vs(){let t,e;if(Xe.subscribe(l=>t=l)(),De.subscribe(l=>e=l)(),!(!t||t.length===0||e===-1)&&e<t.length-1){const l=t[e+1];Le.update(n=>({...n,callIndex:l}))}}function En(t){var e,l,n;return t!=null&&t.name&&Array.isArray(t==null?void 0:t.requestMessages)?"new-agent":(e=t.response)!=null&&e.copilotFunctionCalls&&Array.isArray(t.response.copilotFunctionCalls)?"sim-requests":(l=t.response)!=null&&l.toolCalls&&Array.isArray(t.response.toolCalls)?"fetchlog":(n=t.response)!=null&&n.copilotFunctionCalls?"sim-requests":t.requestId&&t.messages?"fetchlog":t.requestMessages?"sim-requests":"unknown"}function hs(t){return!Array.isArray(t)||t.length===0?!1:t.every(e=>typeof(e==null?void 0:e.name)=="string"&&e.name.length>0)}function bs(t){const e=We(t==null?void 0:t.requestMessages);let l=null;for(let o=e.length-1;o>=0;o--){const a=e[o];if((a==null?void 0:a.role)!=="assistant")continue;if(We(a==null?void 0:a.tool_calls).length){l=a;break}}if(!l)return[];const n=[],s=new Set,i=We(l==null?void 0:l.tool_calls);for(const o of i){const a=(o==null?void 0:o.id)||(o==null?void 0:o.tool_call_id)||(o==null?void 0:o.toolCallId);if(a&&s.has(a))continue;const f=(o==null?void 0:o.function)||(o==null?void 0:o.fn)||{},u=(f==null?void 0:f.name)||(o==null?void 0:o.name)||"Unknown",_=(f==null?void 0:f.arguments)??(o==null?void 0:o.arguments),p=typeof _=="string"?_:JSON.stringify(_||{});a&&s.add(a),n.push({name:u,arguments:p,id:a})}return n}function Zt(t){var l;return We((l=t.response)==null?void 0:l.copilotFunctionCalls).map(n=>({name:n.name||"Unknown",arguments:n.arguments||"{}",id:n.id}))}function gs(t){var l;return We((l=t.response)==null?void 0:l.toolCalls).map(n=>{var a,f;const s=((a=n==null?void 0:n.function)==null?void 0:a.name)||"Unknown",i=(f=n==null?void 0:n.function)==null?void 0:f.arguments,o=typeof i=="string"?i:JSON.stringify(i||{});return{name:s,arguments:o,id:n==null?void 0:n.id}})}function ks(t,e=[],l=0){var a;if(!t.messages||!Array.isArray(t.messages))return t;const n=[];for(const f of t.messages)if((f==null?void 0:f.role)==="assistant"){if(typeof f.content=="string"&&f.content.trim())n.push(f.content);else if(Array.isArray(f.content))for(const u of f.content)typeof u=="string"&&u.trim()?n.push(u):u!=null&&u.text&&u.text.trim()&&n.push(u.text)}const s=(()=>{var f;if(t.tools&&t.tools.length>0)return t.tools;for(const u of e)if(u.tools&&u.tools.length>0)return u.tools;return((f=t.requestOptions)==null?void 0:f.tools)||[]})();return{...t,response:{...t.response,value:n.length>0?n:((a=t.response)==null?void 0:a.value)||void 0,requestId:"fetchlog-unified-conversation"},requestMessages:t.messages,requestOptions:{...t.requestOptions,tools:s}}}function ys(t){const e=new Set,l=[];for(const n of t){const s=We(n==null?void 0:n.requestMessages);let i=!1;for(const o of s){if((o==null?void 0:o.role)!=="assistant")continue;const a=We(o==null?void 0:o.tool_calls);if(!a.length)continue;const f=[],u=new Set;for(const p of a){const m=(p==null?void 0:p.id)||(p==null?void 0:p.tool_call_id)||(p==null?void 0:p.toolCallId);if(m&&u.has(m))continue;const v=(p==null?void 0:p.function)||(p==null?void 0:p.fn)||{},h=(v==null?void 0:v.name)||(p==null?void 0:p.name)||"Unknown",y=(v==null?void 0:v.arguments)??(p==null?void 0:p.arguments),w=typeof y=="string"?y:JSON.stringify(y||{});m&&u.add(m),f.push({name:h,arguments:w,id:m})}const _=[];for(const p of f){const m=p==null?void 0:p.id;if(!m){_.push(p);continue}e.has(m)||(e.add(m),_.push(p))}_.length&&(i=!0,l.push({...n,response:{...n.response||{},copilotFunctionCalls:_}}))}i||l.push({...n,response:{...n.response||{},copilotFunctionCalls:[]}})}return l}function ws(t){var l;switch(En(t)){case"sim-requests":return Zt(t);case"fetchlog":return gs(t);case"new-agent":return Array.isArray((l=t==null?void 0:t.response)==null?void 0:l.copilotFunctionCalls)?Zt(t):bs(t);default:return console.warn("Unknown format for request:",t),[]}}function Is(t){let e;try{e=JSON.parse(t)}catch{if(!t.match(/\[\s*\{/s)){console.error("No JSON array found");return}}if(!Array.isArray(e)){const i=t.match(/\[\s*\{[\s\S]*\}\s*\]/);if(i)try{e=JSON.parse(i[0])}catch{console.error("Failed to parse extracted JSON");return}}if(!Array.isArray(e))return;const l=hs(e)?"new-agent":e.length>0?En(e[0]):"unknown";console.log(`[Format Detection] Detected format: ${l}`);const n=l==="fetchlog"?e.map((i,o)=>ks(i,e,o)):l==="new-agent"?ys(e):e;rt.set(n);const s=[];n.forEach((i,o)=>{var w,b,S,I,M,O,A,q,F;const a=j=>j?typeof j=="string"?j:Array.isArray(j)?j.map(T=>typeof T=="string"?T:(T==null?void 0:T.text)||"").join(""):typeof j=="object"&&typeof j.text=="string"?j.text:"":"",u=(j=>{const T=(j==null?void 0:j.requestMessages)||(j==null?void 0:j.messages);if(!Array.isArray(T))return"";for(const R of T){if((R==null?void 0:R.role)!=="user")continue;const E=a(R.content);if(E&&E.trim())return E.trim()}return""})(i),p=typeof u=="string"&&u.startsWith("Summarize the following actions in 6-7 words using past tense"),m=(()=>{const j="You are an expert at analyzing files and patterns.",T=i.requestMessages||i.messages;if(!T)return!1;for(const R of T)if((R==null?void 0:R.role)==="system"){if(typeof R.content=="string"){if(R.content.includes(j))return!0}else if(Array.isArray(R.content)){for(const E of R.content)if(((typeof E=="string"?E:E==null?void 0:E.text)||"").includes(j))return!0}}return!1})(),v=Array.isArray((w=i==null?void 0:i.response)==null?void 0:w.value)?i.response.value.join(`
`):((b=i==null?void 0:i.response)==null?void 0:b.value)||"",h=typeof v=="string"&&/\*\*\* Begin Patch[\s\S]*\*\*\* End Patch/.test(v),y=ws(i);if(y.length)y.forEach((j,T)=>{var le,re;const E=l!=="new-agent"||T===y.length-1?i:{...i,response:{...i.response||{},value:void 0}};let L=j.name||((le=j.function)==null?void 0:le.name)||"Unknown Function",H=!1;m&&L&&L.toLowerCase()==="none"?(L="analyze_files_and_patterns",H=!0):h&&L&&L.toLowerCase()==="none"&&(L="patch_file",H=!0);const Y=L;let te=It(Y)||os(Y);const B=((re=i==null?void 0:i.response)==null?void 0:re.type)==="failed";H&&!B&&(te=Ct),B&&(te=et),s.push({requestIndex:o,callIndex:T,name:Y,arguments:j.arguments,id:j.id,request:E,hasFunction:!0,color:te,inferred:H})});else{const j=Array.isArray((S=i==null?void 0:i.response)==null?void 0:S.value)?i.response.value.join(`
`):((I=i==null?void 0:i.response)==null?void 0:I.value)||"";if(typeof j=="string"&&j.trim().startsWith("<analysis>")){let R=Qt;((M=i==null?void 0:i.response)==null?void 0:M.type)==="failed"&&(R=et),s.push({requestIndex:o,callIndex:-1,name:"conversation_summary",arguments:null,request:i,hasFunction:!0,conversationSummary:!0,color:R})}else if(p){let R=Qt;((O=i==null?void 0:i.response)==null?void 0:O.type)==="failed"&&(R=et),s.push({requestIndex:o,callIndex:-1,name:"summarize",arguments:null,request:i,hasFunction:!0,conversationSummary:!0,synthetic:!0,color:R})}else if(m){let R=It("analyze_files_and_patterns");((A=i==null?void 0:i.response)==null?void 0:A.type)==="failed"?R=et:R=Ct,s.push({requestIndex:o,callIndex:-1,name:"analyze_files_and_patterns",arguments:null,request:i,hasFunction:!0,synthetic:!0,inferred:!0,color:R})}else if(h){let R=It("patch_file");((q=i==null?void 0:i.response)==null?void 0:q.type)==="failed"?R=et:R=Ct,s.push({requestIndex:o,callIndex:-1,name:"patch_file",arguments:null,request:i,hasFunction:!0,synthetic:!0,inferred:!0,color:R})}else{let R="#000000";((F=i==null?void 0:i.response)==null?void 0:F.type)==="failed"&&(R=et),s.push({requestIndex:o,callIndex:-1,name:"None",arguments:null,request:i,hasFunction:!1,color:R})}}}),Ue.set(s),Le.set({callIndex:0,totalAll:s.length}),De.set((s.length,-1))}function xt(t){let e;return{c(){e=d("div"),e.textContent="Drop file anywhere to load",r(e,"class","global-overlay svelte-1yh9h3i")},m(l,n){k(l,e,n)},d(l){l&&g(e)}}}function Cs(t){let e,l,n,s,i,o=t[0]||t[1]?"Release to Load":"Drop / Click",a,f,u,_,p,m,v,h,y,w=t[1]&&!t[0]&&xt();return{c(){e=d("div"),l=d("div"),l.textContent="üìÅ",n=C(),s=d("div"),i=d("div"),a=N(o),f=C(),u=d("div"),u.innerHTML=`<span class="hint-label svelte-1yh9h3i">Supports:</span> <span class="hint-formats svelte-1yh9h3i"><span class="nowrap svelte-1yh9h3i">sim‚Äërequests</span>,
        <span class="nowrap svelte-1yh9h3i">fetchlog</span>,
        or <span class="nowrap svelte-1yh9h3i">vscode chat</span> files</span>`,_=C(),p=d("input"),m=C(),w&&w.c(),r(l,"class","icon svelte-1yh9h3i"),r(l,"aria-hidden","true"),r(i,"class","dd-text-main svelte-1yh9h3i"),r(u,"class","dd-text-hint svelte-1yh9h3i"),r(s,"class","dd-text svelte-1yh9h3i"),r(p,"type","file"),r(p,"accept",".txt,.json"),Te(p,"display","none"),r(e,"class",v="drag-drop compact "+(t[0]||t[1]?"over":"")+" svelte-1yh9h3i"),r(e,"role","button"),r(e,"tabindex","0")},m(b,S){k(b,e,S),c(e,l),c(e,n),c(e,s),c(s,i),c(i,a),c(s,f),c(s,u),c(e,_),c(e,p),t[5](p),c(e,m),w&&w.m(e,null),h||(y=[ne(p,"change",t[3]),ne(e,"dragover",Dt(t[6])),ne(e,"dragleave",Dt(t[7])),ne(e,"drop",t[4]),ne(e,"click",t[8]),ne(e,"keydown",t[9])],h=!0)},p(b,[S]){S&3&&o!==(o=b[0]||b[1]?"Release to Load":"Drop / Click")&&P(a,o),b[1]&&!b[0]?w||(w=xt(),w.c(),w.m(e,null)):w&&(w.d(1),w=null),S&3&&v!==(v="drag-drop compact "+(b[0]||b[1]?"over":"")+" svelte-1yh9h3i")&&r(e,"class",v)},i:K,o:K,d(b){b&&g(e),t[5](null),w&&w.d(),h=!1,Pe(y)}}}function Ss(t,e,l){const n=Yn();let s=!1,i=!1,o,a=[];function f(I){var O;const M=(O=I.target.files)==null?void 0:O[0];M&&_(M)}function u(I){var O;I.preventDefault(),l(0,s=!1);const M=(O=I.dataTransfer.files)==null?void 0:O[0];M&&_(M)}function _(I){const M=new FileReader;M.onload=()=>{n("loadText",M.result)},M.readAsText(I)}function p(I){I.dataTransfer&&Array.from(I.dataTransfer.types).includes("Files")&&(I.preventDefault(),I.dataTransfer.dropEffect="copy",l(1,i=!0))}function m(I){I.relatedTarget==null&&(l(1,i=!1),l(0,s=!1))}function v(I){var M,O;(O=(M=I.dataTransfer)==null?void 0:M.files)!=null&&O.length&&(I.preventDefault(),_(I.dataTransfer.files[0])),l(1,i=!1),l(0,s=!1)}Nt(()=>{window.addEventListener("dragover",p),window.addEventListener("dragleave",m),window.addEventListener("drop",v),a=[()=>window.removeEventListener("dragover",p),()=>window.removeEventListener("dragleave",m),()=>window.removeEventListener("drop",v)]}),Kn(()=>a.forEach(I=>I()));function h(I){Je[I?"unshift":"push"](()=>{o=I,l(2,o)})}return[s,i,o,f,u,h,()=>l(0,s=!0),()=>l(0,s=!1),()=>o.click(),I=>(I.key==="Enter"||I.key===" ")&&o.click()]}class Ns extends Qe{constructor(e){super(),Ge(this,e,Ss,Cs,Ee,{})}}function el(t,e,l){const n=t.slice();return n[28]=e[l],n[30]=l,n}function tl(t,e,l){const n=t.slice();return n[25]=e[l],n}function ll(t,e,l){const n=t.slice();return n[22]=e[l],n}function nl(t,e,l){const n=t.slice();return n[25]=e[l],n}function js(t){let e,l,n=se(t[1]),s=[];for(let i=0;i<n.length;i+=1)s[i]=dl(el(t,n,i));return{c(){e=d("div");for(let i=0;i<s.length;i+=1)s[i].c();r(e,"class",l="mixed-calls "+(t[0]==="top"?"top-flow":"panel-flow")+" svelte-1sx5g2f"),r(e,"role","listbox"),r(e,"aria-label","Tool calls (multi-call requests framed, single-call inline)")},m(i,o){k(i,e,o);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null)},p(i,o){if(o[0]&407){n=se(i[1]);let a;for(a=0;a<n.length;a+=1){const f=el(i,n,a);s[a]?s[a].p(f,o):(s[a]=dl(f),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}o[0]&1&&l!==(l="mixed-calls "+(i[0]==="top"?"top-flow":"panel-flow")+" svelte-1sx5g2f")&&r(e,"class",l)},d(i){i&&g(e),Ne(s,i)}}}function Rs(t){let e,l,n=se(t[4]),s=[];for(let i=0;i<n.length;i+=1)s[i]=kl(ll(t,n,i));return{c(){e=d("div");for(let i=0;i<s.length;i+=1)s[i].c();r(e,"class",l="flat-calls-container "+(t[0]==="top"?"top-flow":"panel-flow")+" svelte-1sx5g2f"),r(e,"role","listbox"),r(e,"aria-label","Tool calls")},m(i,o){k(i,e,o);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null)},p(i,o){if(o[0]&405){n=se(i[4]);let a;for(a=0;a<n.length;a+=1){const f=ll(i,n,a);s[a]?s[a].p(f,o):(s[a]=kl(f),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}o[0]&1&&l!==(l="flat-calls-container "+(i[0]==="top"?"top-flow":"panel-flow")+" svelte-1sx5g2f")&&r(e,"class",l)},d(i){i&&g(e),Ne(s,i)}}}function As(t){let e;return{c(){e=d("div"),e.textContent="No matches.",r(e,"class","empty svelte-1sx5g2f")},m(l,n){k(l,e,n)},p:K,d(l){l&&g(e)}}}function sl(t){let e,l,n,s,i,o=t[4][t[30]].roundNumber+"",a,f,u=t[7](t[4][t[30]].roundNumber),_,p,m=pt(t[4][t[30]].requestId)+"",v,h,y,w,b,S,I,M,O=u&&il(t);return{c(){e=d("div"),l=d("span"),n=C(),s=d("span"),i=N("Round "),a=N(o),f=C(),O&&O.c(),_=C(),p=d("span"),v=N(m),y=C(),w=d("span"),r(l,"class","rfs-line svelte-1sx5g2f"),r(l,"aria-hidden","true"),r(p,"class","rfs-id svelte-1sx5g2f"),r(p,"title",h=t[4][t[30]].requestId),r(s,"class","rfs-label svelte-1sx5g2f"),r(w,"class","rfs-line svelte-1sx5g2f"),r(w,"aria-hidden","true"),r(e,"class","round-full-separator svelte-1sx5g2f"),r(e,"data-round",b=t[4][t[30]].roundNumber),r(e,"data-request-id",S=t[4][t[30]].requestId),r(e,"title",I=`Round ${t[4][t[30]].roundNumber} ‚Ä¢ ${t[4][t[30]].requestId}`),r(e,"aria-label",M=`Round ${t[4][t[30]].roundNumber} boundary (request id ${t[4][t[30]].requestId})`)},m(A,q){k(A,e,q),c(e,l),c(e,n),c(e,s),c(s,i),c(s,a),c(s,f),O&&O.m(s,null),c(s,_),c(s,p),c(p,v),c(e,y),c(e,w)},p(A,q){q[0]&16&&o!==(o=A[4][A[30]].roundNumber+"")&&P(a,o),q[0]&16&&(u=A[7](A[4][A[30]].roundNumber)),u?O?O.p(A,q):(O=il(A),O.c(),O.m(s,_)):O&&(O.d(1),O=null),q[0]&16&&m!==(m=pt(A[4][A[30]].requestId)+"")&&P(v,m),q[0]&16&&h!==(h=A[4][A[30]].requestId)&&r(p,"title",h),q[0]&16&&b!==(b=A[4][A[30]].roundNumber)&&r(e,"data-round",b),q[0]&16&&S!==(S=A[4][A[30]].requestId)&&r(e,"data-request-id",S),q[0]&16&&I!==(I=`Round ${A[4][A[30]].roundNumber} ‚Ä¢ ${A[4][A[30]].requestId}`)&&r(e,"title",I),q[0]&16&&M!==(M=`Round ${A[4][A[30]].roundNumber} boundary (request id ${A[4][A[30]].requestId})`)&&r(e,"aria-label",M)},d(A){A&&g(e),O&&O.d()}}}function il(t){let e,l,n=Oe(t[7](t[4][t[30]].roundNumber))+"",s;return{c(){e=d("span"),l=N("‚Ä¢ "),s=N(n),r(e,"class","rfs-agent svelte-1sx5g2f")},m(i,o){k(i,e,o),c(e,l),c(e,s)},p(i,o){o[0]&16&&n!==(n=Oe(i[7](i[4][i[30]].roundNumber))+"")&&P(s,n)},d(i){i&&g(e)}}}function ol(t){let e;return{c(){e=d("span"),e.textContent="‚àë",r(e,"class","infer-badge svelte-1sx5g2f"),r(e,"title","Inferred tool name")},m(l,n){k(l,e,n)},d(l){l&&g(e)}}}function rl(t){let e;return{c(){e=d("span"),e.textContent="üìã",r(e,"class","summary-emoji svelte-1sx5g2f"),r(e,"title","Conversation summary"),r(e,"aria-hidden","true")},m(l,n){k(l,e,n)},d(l){l&&g(e)}}}function al(t){let e;return{c(){e=d("span"),e.textContent="‚ö†Ô∏è",r(e,"class","fail-emoji svelte-1sx5g2f"),r(e,"title","Failed response"),r(e,"aria-hidden","true")},m(l,n){k(l,e,n)},d(l){l&&g(e)}}}function cl(t){let e,l;function n(o,a){return a[0]&2&&(e=null),e==null&&(e=!!o[8](o[25].originalIndex)),e?Os:Ts}let s=n(t,[-1,-1]),i=s(t);return{c(){i.c(),l=_e()},m(o,a){i.m(o,a),k(o,l,a)},p(o,a){s===(s=n(o,a))&&i?i.p(o,a):(i.d(1),i=s(o),i&&(i.c(),i.m(l.parentNode,l)))},d(o){o&&g(l),i.d(o)}}}function Ts(t){let e;return{c(){e=d("span"),e.textContent="üîÄ",r(e,"class","subagent-trigger svelte-1sx5g2f"),r(e,"title","Triggers sub-agent")},m(l,n){k(l,e,n)},p:K,d(l){l&&g(e)}}}function Os(t){let e,l,n=Oe(t[8](t[25].originalIndex))+"",s,i;return{c(){e=d("span"),l=N("üîÄ ‚Üí "),s=N(n),r(e,"class","subagent-trigger svelte-1sx5g2f"),r(e,"title",i="Triggers sub-agent: "+Oe(t[8](t[25].originalIndex)))},m(o,a){k(o,e,a),c(e,l),c(e,s)},p(o,a){a[0]&2&&n!==(n=Oe(o[8](o[25].originalIndex))+"")&&P(s,n),a[0]&2&&i!==(i="Triggers sub-agent: "+Oe(o[8](o[25].originalIndex)))&&r(e,"title",i)},d(o){o&&g(e)}}}function fl(t){var T,R;let e,l,n=t[25].originalIndex+1+"",s,i,o,a=dt(t[25])+"",f,u,_,p,m=_t(t[25]),v,h,y,w,b,S,I,M,O=t[25].inferred&&ol(),A=t[25].conversationSummary&&rl(),q=((R=(T=t[25].request)==null?void 0:T.response)==null?void 0:R.type)==="failed"&&al(),F=m&&cl(t);function j(){return t[19](t[25])}return{c(){var E,L;e=d("button"),l=d("span"),s=N(n),i=C(),o=d("span"),f=N(a),O&&O.c(),u=C(),A&&A.c(),_=C(),q&&q.c(),p=C(),F&&F.c(),v=C(),r(l,"class","num svelte-1sx5g2f"),r(o,"class","name svelte-1sx5g2f"),r(e,"role","option"),r(e,"aria-selected",h=t[2].callIndex===t[25].originalIndex),Te(e,"--chip-color",t[25].color),r(e,"data-round",y=t[4][t[30]].roundNumber),r(e,"data-req-info",w=`Request ${t[28].requestIndex+1} ‚Ä¢ ${t[28].calls.length} call${t[28].calls.length===1?"":"s"}`),r(e,"data-call-index",b=t[25].originalIndex),r(e,"aria-label",S="Tool call "+(t[25].name||"None")+(t[28].calls.length===1?" (single-call request)":"")+(((L=(E=t[25].request)==null?void 0:E.response)==null?void 0:L.type)==="failed"?" (failed response)":"")),r(e,"class","svelte-1sx5g2f"),Me(e,"selected",t[2].callIndex===t[25].originalIndex),Me(e,"topchip",t[0]==="top")},m(E,L){k(E,e,L),c(e,l),c(l,s),c(e,i),c(e,o),c(o,f),O&&O.m(e,null),c(e,u),A&&A.m(e,null),c(e,_),q&&q.m(e,null),c(e,p),F&&F.m(e,null),c(e,v),I||(M=ne(e,"click",j),I=!0)},p(E,L){var H,Y,te,B;t=E,L[0]&2&&n!==(n=t[25].originalIndex+1+"")&&P(s,n),L[0]&2&&a!==(a=dt(t[25])+"")&&P(f,a),t[25].inferred?O||(O=ol(),O.c(),O.m(e,u)):O&&(O.d(1),O=null),t[25].conversationSummary?A||(A=rl(),A.c(),A.m(e,_)):A&&(A.d(1),A=null),((Y=(H=t[25].request)==null?void 0:H.response)==null?void 0:Y.type)==="failed"?q||(q=al(),q.c(),q.m(e,p)):q&&(q.d(1),q=null),L[0]&2&&(m=_t(t[25])),m?F?F.p(t,L):(F=cl(t),F.c(),F.m(e,v)):F&&(F.d(1),F=null),L[0]&6&&h!==(h=t[2].callIndex===t[25].originalIndex)&&r(e,"aria-selected",h),L[0]&2&&Te(e,"--chip-color",t[25].color),L[0]&16&&y!==(y=t[4][t[30]].roundNumber)&&r(e,"data-round",y),L[0]&2&&w!==(w=`Request ${t[28].requestIndex+1} ‚Ä¢ ${t[28].calls.length} call${t[28].calls.length===1?"":"s"}`)&&r(e,"data-req-info",w),L[0]&2&&b!==(b=t[25].originalIndex)&&r(e,"data-call-index",b),L[0]&2&&S!==(S="Tool call "+(t[25].name||"None")+(t[28].calls.length===1?" (single-call request)":"")+(((B=(te=t[25].request)==null?void 0:te.response)==null?void 0:B.type)==="failed"?" (failed response)":""))&&r(e,"aria-label",S),L[0]&6&&Me(e,"selected",t[2].callIndex===t[25].originalIndex),L[0]&1&&Me(e,"topchip",t[0]==="top")},d(E){E&&g(e),O&&O.d(),A&&A.d(),q&&q.d(),F&&F.d(),I=!1,M()}}}function ul(t){let e,l,n,s,i,o,a,f,u=t[4][t[30]].isRoundStart&&sl(t),_=se(t[28].calls),p=[];for(let m=0;m<_.length;m+=1)p[m]=fl(tl(t,_,m));return{c(){u&&u.c(),e=C(),l=d("div"),n=d("div");for(let m=0;m<p.length;m+=1)p[m].c();i=C(),r(n,"class","group-calls-container svelte-1sx5g2f"),r(n,"aria-label",s=`Request ${t[28].requestIndex+1} with ${t[28].calls.length} call${t[28].calls.length===1?"":"s"}`),r(l,"class","request-group svelte-1sx5g2f"),r(l,"data-request-index",o=t[28].requestIndex),r(l,"data-request-id",a=t[4][t[30]].requestId),r(l,"data-round",f=t[4][t[30]].roundNumber),Me(l,"single-call",t[28].calls.length===1)},m(m,v){u&&u.m(m,v),k(m,e,v),k(m,l,v),c(l,n);for(let h=0;h<p.length;h+=1)p[h]&&p[h].m(n,null);c(l,i)},p(m,v){if(m[4][m[30]].isRoundStart?u?u.p(m,v):(u=sl(m),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),v[0]&279){_=se(m[28].calls);let h;for(h=0;h<_.length;h+=1){const y=tl(m,_,h);p[h]?p[h].p(y,v):(p[h]=fl(y),p[h].c(),p[h].m(n,null))}for(;h<p.length;h+=1)p[h].d(1);p.length=_.length}v[0]&2&&s!==(s=`Request ${m[28].requestIndex+1} with ${m[28].calls.length} call${m[28].calls.length===1?"":"s"}`)&&r(n,"aria-label",s),v[0]&2&&o!==(o=m[28].requestIndex)&&r(l,"data-request-index",o),v[0]&16&&a!==(a=m[4][m[30]].requestId)&&r(l,"data-request-id",a),v[0]&16&&f!==(f=m[4][m[30]].roundNumber)&&r(l,"data-round",f),v[0]&2&&Me(l,"single-call",m[28].calls.length===1)},d(m){m&&(g(e),g(l)),u&&u.d(m),Ne(p,m)}}}function dl(t){let e="grp-"+t[28].requestIndex,l,n=ul(t);return{c(){n.c(),l=_e()},m(s,i){n.m(s,i),k(s,l,i)},p(s,i){i[0]&2&&Ee(e,e="grp-"+s[28].requestIndex)?(n.d(1),n=ul(s),n.c(),n.m(l.parentNode,l)):n.p(s,i)},d(s){s&&g(l),n.d(s)}}}function pl(t){let e,l,n,s,i,o=t[22].roundNumber+"",a,f,u=t[7](t[22].roundNumber),_,p,m=pt(t[22].requestId)+"",v,h,y,w,b,S,I,M,O=u&&_l(t);return{c(){e=d("div"),l=d("span"),n=C(),s=d("span"),i=N("Round "),a=N(o),f=C(),O&&O.c(),_=C(),p=d("span"),v=N(m),y=C(),w=d("span"),r(l,"class","rfs-line svelte-1sx5g2f"),r(l,"aria-hidden","true"),r(p,"class","rfs-id svelte-1sx5g2f"),r(p,"title",h=t[22].requestId),r(s,"class","rfs-label svelte-1sx5g2f"),r(w,"class","rfs-line svelte-1sx5g2f"),r(w,"aria-hidden","true"),r(e,"class","round-full-separator svelte-1sx5g2f"),r(e,"data-round",b=t[22].roundNumber),r(e,"data-request-id",S=t[22].requestId),r(e,"title",I=`Round ${t[22].roundNumber} ‚Ä¢ ${t[22].requestId}`),r(e,"aria-label",M=`Round ${t[22].roundNumber} boundary (request id ${t[22].requestId})`)},m(A,q){k(A,e,q),c(e,l),c(e,n),c(e,s),c(s,i),c(s,a),c(s,f),O&&O.m(s,null),c(s,_),c(s,p),c(p,v),c(e,y),c(e,w)},p(A,q){q[0]&16&&o!==(o=A[22].roundNumber+"")&&P(a,o),q[0]&16&&(u=A[7](A[22].roundNumber)),u?O?O.p(A,q):(O=_l(A),O.c(),O.m(s,_)):O&&(O.d(1),O=null),q[0]&16&&m!==(m=pt(A[22].requestId)+"")&&P(v,m),q[0]&16&&h!==(h=A[22].requestId)&&r(p,"title",h),q[0]&16&&b!==(b=A[22].roundNumber)&&r(e,"data-round",b),q[0]&16&&S!==(S=A[22].requestId)&&r(e,"data-request-id",S),q[0]&16&&I!==(I=`Round ${A[22].roundNumber} ‚Ä¢ ${A[22].requestId}`)&&r(e,"title",I),q[0]&16&&M!==(M=`Round ${A[22].roundNumber} boundary (request id ${A[22].requestId})`)&&r(e,"aria-label",M)},d(A){A&&g(e),O&&O.d()}}}function _l(t){let e,l,n=Oe(t[7](t[22].roundNumber))+"",s;return{c(){e=d("span"),l=N("‚Ä¢ "),s=N(n),r(e,"class","rfs-agent svelte-1sx5g2f")},m(i,o){k(i,e,o),c(e,l),c(e,s)},p(i,o){o[0]&16&&n!==(n=Oe(i[7](i[22].roundNumber))+"")&&P(s,n)},d(i){i&&g(e)}}}function ml(t){let e;return{c(){e=d("span"),e.textContent="‚àë",r(e,"class","infer-badge svelte-1sx5g2f"),r(e,"title","Inferred tool name")},m(l,n){k(l,e,n)},d(l){l&&g(e)}}}function vl(t){let e;return{c(){e=d("span"),e.textContent="üìã",r(e,"class","summary-emoji svelte-1sx5g2f"),r(e,"title","Conversation summary"),r(e,"aria-hidden","true")},m(l,n){k(l,e,n)},d(l){l&&g(e)}}}function hl(t){let e;return{c(){e=d("span"),e.textContent="‚ö†Ô∏è",r(e,"class","fail-emoji svelte-1sx5g2f"),r(e,"title","Failed response"),r(e,"aria-hidden","true")},m(l,n){k(l,e,n)},d(l){l&&g(e)}}}function bl(t){let e,l;function n(o,a){return a[0]&16&&(e=null),e==null&&(e=!!o[8](o[25].originalIndex)),e?Ps:qs}let s=n(t,[-1,-1]),i=s(t);return{c(){i.c(),l=_e()},m(o,a){i.m(o,a),k(o,l,a)},p(o,a){s===(s=n(o,a))&&i?i.p(o,a):(i.d(1),i=s(o),i&&(i.c(),i.m(l.parentNode,l)))},d(o){o&&g(l),i.d(o)}}}function qs(t){let e;return{c(){e=d("span"),e.textContent="üîÄ",r(e,"class","subagent-trigger svelte-1sx5g2f"),r(e,"title","Triggers sub-agent")},m(l,n){k(l,e,n)},p:K,d(l){l&&g(e)}}}function Ps(t){let e,l,n=Oe(t[8](t[25].originalIndex))+"",s,i;return{c(){e=d("span"),l=N("üîÄ ‚Üí "),s=N(n),r(e,"class","subagent-trigger svelte-1sx5g2f"),r(e,"title",i="Triggers sub-agent: "+Oe(t[8](t[25].originalIndex)))},m(o,a){k(o,e,a),c(e,l),c(e,s)},p(o,a){a[0]&16&&n!==(n=Oe(o[8](o[25].originalIndex))+"")&&P(s,n),a[0]&16&&i!==(i="Triggers sub-agent: "+Oe(o[8](o[25].originalIndex)))&&r(e,"title",i)},d(o){o&&g(e)}}}function gl(t){var F,j;let e,l,n=t[25].originalIndex+1+"",s,i,o,a=dt(t[25])+"",f,u,_,p,m=_t(t[25]),v,h,y,w,b,S,I=t[25].inferred&&ml(),M=t[25].conversationSummary&&vl(),O=((j=(F=t[25].request)==null?void 0:F.response)==null?void 0:j.type)==="failed"&&hl(),A=m&&bl(t);function q(){return t[18](t[25])}return{c(){var T,R;e=d("button"),l=d("span"),s=N(n),i=C(),o=d("span"),f=N(a),I&&I.c(),u=C(),M&&M.c(),_=C(),O&&O.c(),p=C(),A&&A.c(),v=C(),r(l,"class","num svelte-1sx5g2f"),r(o,"class","name svelte-1sx5g2f"),r(e,"role","option"),r(e,"aria-selected",h=t[2].callIndex===t[25].originalIndex),Te(e,"--chip-color",t[25].color),r(e,"data-call-index",y=t[25].originalIndex),r(e,"aria-label",w="Tool call "+(t[25].name||"None")+(((R=(T=t[25].request)==null?void 0:T.response)==null?void 0:R.type)==="failed"?" (failed response)":"")),r(e,"class","svelte-1sx5g2f"),Me(e,"selected",t[2].callIndex===t[25].originalIndex),Me(e,"topchip",t[0]==="top")},m(T,R){k(T,e,R),c(e,l),c(l,s),c(e,i),c(e,o),c(o,f),I&&I.m(e,null),c(e,u),M&&M.m(e,null),c(e,_),O&&O.m(e,null),c(e,p),A&&A.m(e,null),c(e,v),b||(S=ne(e,"click",q),b=!0)},p(T,R){var E,L,H,Y;t=T,R[0]&16&&n!==(n=t[25].originalIndex+1+"")&&P(s,n),R[0]&16&&a!==(a=dt(t[25])+"")&&P(f,a),t[25].inferred?I||(I=ml(),I.c(),I.m(e,u)):I&&(I.d(1),I=null),t[25].conversationSummary?M||(M=vl(),M.c(),M.m(e,_)):M&&(M.d(1),M=null),((L=(E=t[25].request)==null?void 0:E.response)==null?void 0:L.type)==="failed"?O||(O=hl(),O.c(),O.m(e,p)):O&&(O.d(1),O=null),R[0]&16&&(m=_t(t[25])),m?A?A.p(t,R):(A=bl(t),A.c(),A.m(e,v)):A&&(A.d(1),A=null),R[0]&20&&h!==(h=t[2].callIndex===t[25].originalIndex)&&r(e,"aria-selected",h),R[0]&16&&Te(e,"--chip-color",t[25].color),R[0]&16&&y!==(y=t[25].originalIndex)&&r(e,"data-call-index",y),R[0]&16&&w!==(w="Tool call "+(t[25].name||"None")+(((Y=(H=t[25].request)==null?void 0:H.response)==null?void 0:Y.type)==="failed"?" (failed response)":""))&&r(e,"aria-label",w),R[0]&20&&Me(e,"selected",t[2].callIndex===t[25].originalIndex),R[0]&1&&Me(e,"topchip",t[0]==="top")},d(T){T&&g(e),I&&I.d(),M&&M.d(),O&&O.d(),A&&A.d(),b=!1,S()}}}function kl(t){let e,l,n=t[22].isRoundStart&&pl(t),s=se(t[22].calls),i=[];for(let o=0;o<s.length;o+=1)i[o]=gl(nl(t,s,o));return{c(){n&&n.c(),e=C();for(let o=0;o<i.length;o+=1)i[o].c();l=_e()},m(o,a){n&&n.m(o,a),k(o,e,a);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(o,a);k(o,l,a)},p(o,a){if(o[22].isRoundStart?n?n.p(o,a):(n=pl(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),a[0]&277){s=se(o[22].calls);let f;for(f=0;f<s.length;f+=1){const u=nl(o,s,f);i[f]?i[f].p(u,a):(i[f]=gl(u),i[f].c(),i[f].m(l.parentNode,l))}for(;f<i.length;f+=1)i[f].d(1);i.length=s.length}},d(o){o&&(g(e),g(l)),n&&n.d(o),Ne(i,o)}}}function Fs(t){let e,l,n,s,i,o,a=t[6].length+"",f,u,_,p,m;function v(w,b){return w[1].length?w[5]?Rs:js:As}let h=v(t),y=h(t);return{c(){e=d("section"),l=d("header"),n=d("div"),n.innerHTML='<h2 class="svelte-1sx5g2f">Next tool calls</h2>',s=C(),i=d("div"),o=d("span"),f=N(a),u=C(),_=d("div"),p=d("div"),y.c(),r(n,"class","header-title svelte-1sx5g2f"),r(o,"class","count-badge svelte-1sx5g2f"),r(i,"class","section-meta svelte-1sx5g2f"),r(l,"class","section-header calls-header svelte-1sx5g2f"),r(p,"id","tool-calls-content"),r(p,"class","calls-content svelte-1sx5g2f"),r(_,"class","calls-scroll svelte-1sx5g2f"),r(_,"role","region"),r(_,"aria-label","Tool calls scroll area"),r(e,"class",m="calls-panel "+(t[0]==="top"?"top-mode":"dense")+" "+(t[5]?"flat-mode":"grouped-mode")+" svelte-1sx5g2f"),r(e,"data-variant",t[0])},m(w,b){k(w,e,b),c(e,l),c(l,n),c(l,s),c(l,i),c(i,o),c(o,f),c(e,u),c(e,_),c(_,p),y.m(p,null),t[20](_)},p(w,b){b[0]&64&&a!==(a=w[6].length+"")&&P(f,a),h===(h=v(w))&&y?y.p(w,b):(y.d(1),y=h(w),y&&(y.c(),y.m(p,null))),b[0]&33&&m!==(m="calls-panel "+(w[0]==="top"?"top-mode":"dense")+" "+(w[5]?"flat-mode":"grouped-mode")+" svelte-1sx5g2f")&&r(e,"class",m),b[0]&1&&r(e,"data-variant",w[0])},i:K,o:K,d(w){w&&g(e),y.d(),t[20](null)}}}function Ls(t){const e="You are an expert at analyzing files and patterns.";if(!(t!=null&&t.requestMessages))return!1;for(const l of t.requestMessages)if(!((l==null?void 0:l.role)!=="system"||!Array.isArray(l.content))){for(const n of l.content)if(((typeof n=="string"?n:n==null?void 0:n.text)||"").trim()===e)return!0}return!1}function dt(t){return t?(t.name==="None"||t.name&&t.name.toLowerCase()==="none")&&Ls(t.request)?"analyze_files_and_patterns":t.name:""}function pt(t,e=18){if(!t)return"";if(t.length<=e)return t;const l=5;return t.slice(0,e-(l+1))+"‚Ä¶"+t.slice(-l)}function Oe(t){if(!t)return"";let e=t.replace(/^(tool\/|panel\/)/,"");return e=e.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/_/g," ").split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" "),e}function _t(t){var e;return t&&(t.name==="runSubagent"||((e=t.name)==null?void 0:e.toLowerCase())==="runsubagent")}function Ms(t,e,l){let n,s,i,o,a,f,u,_,p,m,v,h,y;je(t,Le,j=>l(2,p=j)),je(t,rt,j=>l(14,m=j)),je(t,Mn,j=>l(15,v=j)),je(t,us,j=>l(16,h=j)),je(t,fs,j=>l(17,y=j));let{variant:w="panel"}=e;function b(j){var R;const T=_.filter(E=>E.roundNumber===j);for(const E of T){const L=(R=E.request)==null?void 0:R.name;if(L&&!L.includes("copilotLanguageModelWrapper"))return L}return null}function S(j){var E,L;const T=_.find(H=>H.calls&&H.calls.some(Y=>Y.originalIndex===j));if(!T)return null;const R=(E=T.request)==null?void 0:E.name;for(let H=0;H<_.length;H++)if(_[H].requestIndex>T.requestIndex){const Y=(L=_[H].request)==null?void 0:L.name;if(Y&&Y!==R&&!Y.includes("copilotLanguageModelWrapper"))return Y}return null}let I,M=-1;async function O(j=!0){if(!I)return;const T=p==null?void 0:p.callIndex;if(T==null||T<0)return;await At();const R=I.querySelector(`button[data-call-index='${T}']`);if(!R)return;const E=R.offsetTop,L=E+R.offsetHeight,H=I.scrollTop,Y=H+I.clientHeight;if(!(E>=H&&L<=Y))if(j){const te=E-I.clientHeight/2+R.offsetHeight/2;I.scrollTo({top:Math.max(te,0),behavior:"smooth"})}else R.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"})}const A=j=>Xt(j.originalIndex),q=j=>Xt(j.originalIndex);function F(j){Je[j?"unshift":"push"](()=>{I=j,l(3,I)})}return t.$$set=j=>{"variant"in j&&l(0,w=j.variant)},t.$$.update=()=>{t.$$.dirty[0]&131072&&l(6,n=y),t.$$.dirty[0]&65536&&l(1,s=h),t.$$.dirty[0]&32768&&l(5,i=v),t.$$.dirty[0]&16384&&l(12,o=m),t.$$.dirty[0]&4096&&l(13,a=(()=>{const j=new Map;return o.forEach((T,R)=>{var L;const E=((L=T==null?void 0:T.response)==null?void 0:L.requestId)||`__noid_${R}`;j.has(E)?j.get(E).last=R:j.set(E,{first:R,last:R,id:E})}),Array.from(j.values()).sort((T,R)=>T.first-R.first||T.last-R.last)})()),t.$$.dirty[0]&8192&&l(11,f=(()=>{const j=[];for(let T=0;T<a.length;T++){const R=a[T];let E=!1;for(let L=0;L<a.length;L++){if(T===L)continue;const H=a[L];if(H.first<=R.first&&R.last<=H.last&&(H.first<R.first||R.last<H.last)){E=!0;break}}E||j.push({...R})}return j.sort((T,R)=>T.first-R.first),j.forEach((T,R)=>{T.round=R+1}),j})()),t.$$.dirty[0]&6144&&l(10,u=(()=>{const j=new Array(o.length).fill(null);for(const T of f)for(let R=T.first;R<=T.last;R++)j[R]={round:T.round,isRoundStart:R===T.first,topSpanId:T.id};return j})()),t.$$.dirty[0]&1026&&l(4,_=s.map(j=>{var E,L;const T=((L=(E=j.request)==null?void 0:E.response)==null?void 0:L.requestId)||`__noid_${j.requestIndex}`,R=u[j.requestIndex]||{round:0,isRoundStart:!1,topSpanId:T};return{requestIndex:j.requestIndex,request:j.request,requestId:T,calls:j.calls,isRoundStart:R.isRoundStart,roundNumber:R.round,topSpanId:R.topSpanId}})),t.$$.dirty[0]&516&&p.callIndex!==M&&(l(9,M=p.callIndex),O())},[w,s,p,I,_,i,n,b,S,M,u,f,o,a,m,v,h,y,A,q,F]}class Es extends Qe{constructor(e){super(),Ge(this,e,Ms,Fs,Ee,{variant:0},null,[-1,-1])}}function yl(t,e,l){const n=t.slice();return n[17]=e[l],n[19]=l,n}function Hs(t){let e,l;return{c(){e=d("pre"),l=N(t[8])},m(n,s){k(n,e,s),c(e,l)},p(n,s){s&256&&P(l,n[8])},d(n){n&&g(e)}}}function Js(t){let e,l,n=t[0]==="todo"?"Raw JSON":"Todo View",s,i,o,a,f,u;function _(v,h){var y;return h&9&&(o=null),o==null&&(o=!!(v[0]==="todo"&&Array.isArray((y=v[3])==null?void 0:y.todoList))),o?zs:Us}let p=_(t,-1),m=p(t);return{c(){e=d("div"),l=d("button"),s=N(n),i=C(),m.c(),a=_e(),r(l,"class","svelte-15q0qw3"),r(e,"class","actions svelte-15q0qw3")},m(v,h){k(v,e,h),c(e,l),c(l,s),k(v,i,h),m.m(v,h),k(v,a,h),f||(u=ne(l,"click",t[10]),f=!0)},p(v,h){h&1&&n!==(n=v[0]==="todo"?"Raw JSON":"Todo View")&&P(s,n),p===(p=_(v,h))&&m?m.p(v,h):(m.d(1),m=p(v),m&&(m.c(),m.m(a.parentNode,a)))},d(v){v&&(g(e),g(i),g(a)),m.d(v),f=!1,u()}}}function $s(t){let e,l,n=t[0]==="patch"?"Raw JSON":"Patch View",s,i,o,a,f;function u(m,v){return m[0]==="patch"&&m[1].length?Ws:Vs}let _=u(t),p=_(t);return{c(){e=d("div"),l=d("button"),s=N(n),i=C(),p.c(),o=_e(),r(l,"class","svelte-15q0qw3"),r(e,"class","actions svelte-15q0qw3")},m(m,v){k(m,e,v),c(e,l),c(l,s),k(m,i,v),p.m(m,v),k(m,o,v),a||(f=ne(l,"click",t[12]),a=!0)},p(m,v){v&1&&n!==(n=m[0]==="patch"?"Raw JSON":"Patch View")&&P(s,n),_===(_=u(m))&&p?p.p(m,v):(p.d(1),p=_(m),p&&(p.c(),p.m(o.parentNode,o)))},d(m){m&&(g(e),g(i),g(o)),p.d(m),a=!1,f()}}}function Bs(t){let e,l,n=t[0]==="formatted"?"Raw JSON":"Formatted",s,i,o,a,f;function u(m,v){var h;return m[0]==="formatted"&&((h=m[3])==null?void 0:h.content)!==void 0?Xs:Qs}let _=u(t),p=_(t);return{c(){e=d("div"),l=d("button"),s=N(n),i=C(),p.c(),o=_e(),r(l,"class","svelte-15q0qw3"),r(e,"class","actions svelte-15q0qw3")},m(m,v){k(m,e,v),c(e,l),c(l,s),k(m,i,v),p.m(m,v),k(m,o,v),a||(f=ne(l,"click",t[11]),a=!0)},p(m,v){v&1&&n!==(n=m[0]==="formatted"?"Raw JSON":"Formatted")&&P(s,n),_===(_=u(m))&&p?p.p(m,v):(p.d(1),p=_(m),p&&(p.c(),p.m(o.parentNode,o)))},d(m){m&&(g(e),g(i),g(o)),p.d(m),a=!1,f()}}}function Ds(t){let e,l,n=t[0]==="diff"?"Raw JSON":"View Diff",s,i,o,a,f,u;function _(v,h){var y,w;return h&9&&(o=null),o==null&&(o=!!(v[0]==="diff"&&((y=v[3])!=null&&y.oldString||Array.isArray((w=v[3])==null?void 0:w.replacements)&&v[3].replacements.length))),o?xs:Zs}let p=_(t,-1),m=p(t);return{c(){e=d("div"),l=d("button"),s=N(n),i=C(),m.c(),a=_e(),r(l,"class","svelte-15q0qw3"),r(e,"class","actions svelte-15q0qw3")},m(v,h){k(v,e,h),c(e,l),c(l,s),k(v,i,h),m.m(v,h),k(v,a,h),f||(u=ne(l,"click",t[9]),f=!0)},p(v,h){h&1&&n!==(n=v[0]==="diff"?"Raw JSON":"View Diff")&&P(s,n),p===(p=_(v,h))&&m?m.p(v,h):(m.d(1),m=p(v),m&&(m.c(),m.m(a.parentNode,a)))},d(v){v&&(g(e),g(i),g(a)),m.d(v),f=!1,u()}}}function Us(t){let e,l;return{c(){e=d("pre"),l=N(t[8])},m(n,s){k(n,e,s),c(e,l)},p(n,s){s&256&&P(l,n[8])},d(n){n&&g(e)}}}function zs(t){let e,l=qt(t[3])+"";return{c(){e=d("div"),r(e,"class","todo-wrapper"),r(e,"aria-label","Todo list view")},m(n,s){k(n,e,s),e.innerHTML=l},p(n,s){s&8&&l!==(l=qt(n[3])+"")&&(e.innerHTML=l)},d(n){n&&g(e)}}}function Vs(t){let e,l;return{c(){e=d("pre"),l=N(t[8])},m(n,s){k(n,e,s),c(e,l)},p(n,s){s&256&&P(l,n[8])},d(n){n&&g(e)}}}function Ws(t){let e,l=se(t[1]),n=[];for(let s=0;s<l.length;s+=1)n[s]=wl(yl(t,l,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();r(e,"class","patch-view svelte-15q0qw3"),r(e,"aria-label","Apply patch visualization")},m(s,i){k(s,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,i){if(i&2){l=se(s[1]);let o;for(o=0;o<l.length;o+=1){const a=yl(s,l,o);n[o]?n[o].p(a,i):(n[o]=wl(a),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(s){s&&g(e),Ne(n,s)}}}function Ks(t){let e;return{c(){e=d("div"),e.textContent="(No content changes captured)",r(e,"class","patch-empty svelte-15q0qw3")},m(l,n){k(l,e,n)},p:K,d(l){l&&g(e)}}}function Ys(t){let e,l=Il(t[17].body)+"",n;return{c(){e=d("pre"),r(e,"class","patch-code svelte-15q0qw3"),r(e,"aria-label",n=t[17].action+" file diff")},m(s,i){k(s,e,i),e.innerHTML=l},p(s,i){i&2&&l!==(l=Il(s[17].body)+"")&&(e.innerHTML=l),i&2&&n!==(n=s[17].action+" file diff")&&r(e,"aria-label",n)},d(s){s&&g(e)}}}function Gs(t){let e;return{c(){e=d("div"),e.textContent="File deleted",r(e,"class","patch-deleted-note svelte-15q0qw3")},m(l,n){k(l,e,n)},p:K,d(l){l&&g(e)}}}function wl(t){let e,l,n,s,i=t[17].action+"",o,a,f,u=t[17].filePath+"",_,p,m,v,h;function y(S,I){return S[17].action==="Delete"?Gs:S[17].body?Ys:Ks}let w=y(t),b=w(t);return{c(){e=d("div"),l=d("div"),n=d("span"),s=d("span"),o=N(i),a=N(":"),f=C(),_=N(u),m=C(),b.c(),v=C(),r(s,"class","patch-action-text svelte-15q0qw3"),r(n,"class","patch-path svelte-15q0qw3"),r(n,"title",p=t[17].filePath),r(l,"class","patch-head svelte-15q0qw3"),r(e,"class","patch-file svelte-15q0qw3"),r(e,"data-action",h=t[17].action),r(e,"data-idx",t[19])},m(S,I){k(S,e,I),c(e,l),c(l,n),c(n,s),c(s,o),c(s,a),c(n,f),c(n,_),c(e,m),b.m(e,null),c(e,v)},p(S,I){I&2&&i!==(i=S[17].action+"")&&P(o,i),I&2&&u!==(u=S[17].filePath+"")&&P(_,u),I&2&&p!==(p=S[17].filePath)&&r(n,"title",p),w===(w=y(S))&&b?b.p(S,I):(b.d(1),b=w(S),b&&(b.c(),b.m(e,v))),I&2&&h!==(h=S[17].action)&&r(e,"data-action",h)},d(S){S&&g(e),b.d()}}}function Qs(t){let e,l;return{c(){e=d("pre"),l=N(t[8])},m(n,s){k(n,e,s),c(e,l)},p(n,s){s&256&&P(l,n[8])},d(n){n&&g(e)}}}function Xs(t){let e,l,n,s=t[3].filePath+"",i,o,a,f=t[3].content+"",u;return{c(){e=d("div"),l=d("div"),n=d("span"),i=N(s),o=C(),a=d("pre"),u=N(f),r(n,"class","path svelte-15q0qw3"),r(l,"class","file-head svelte-15q0qw3"),r(e,"class","file-view svelte-15q0qw3")},m(_,p){k(_,e,p),c(e,l),c(l,n),c(n,i),c(e,o),c(e,a),c(a,u)},p(_,p){p&8&&s!==(s=_[3].filePath+"")&&P(i,s),p&8&&f!==(f=_[3].content+"")&&P(u,f)},d(_){_&&g(e)}}}function Zs(t){let e,l;return{c(){e=d("pre"),l=N(t[8])},m(n,s){k(n,e,s),c(e,l)},p(n,s){s&256&&P(l,n[8])},d(n){n&&g(e)}}}function xs(t){let e,l=(t[6]?Ot(t[3]):Pt(t[3]))+"";return{c(){e=d("div"),r(e,"class","diff-wrapper"),r(e,"aria-label","Replace diff view")},m(n,s){k(n,e,s),e.innerHTML=l},p(n,s){s&72&&l!==(l=(n[6]?Ot(n[3]):Pt(n[3]))+"")&&(e.innerHTML=l)},d(n){n&&g(e)}}}function ei(t){let e;function l(i,o){return i[7]||i[6]?Ds:i[4]?Bs:i[2]?$s:i[5]?Js:Hs}let n=l(t),s=n(t);return{c(){e=d("div"),s.c(),r(e,"class","fn-args")},m(i,o){k(i,e,o),s.m(e,null)},p(i,[o]){n===(n=l(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e,null)))},i:K,o:K,d(i){i&&g(e),s.d()}}}function ti(t){if(!t)return[];const e=t.indexOf("*** Begin Patch"),l=t.indexOf("*** End Patch");e!==-1&&l!==-1&&(t=t.slice(e+15,l).trim());const n=t.split(/\r?\n/),s=/^\*\*\* (Update|Add|Delete) File: (.+)$/,i=[];let o=null;for(const a of n){const f=a.match(s);f?(o&&i.push(o),o={action:f[1],filePath:f[2].trim(),body:[]}):o&&o.body.push(a)}return o&&i.push(o),i.map(a=>({...a,body:a.body.join(`
`).replace(/^[\n\r]+|[\n\r]+$/g,"")}))}function li(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Il(t){return t?t.split(/\n/).map(e=>{const l=li(e)||"&nbsp;";let n="ctx";return e.startsWith("+")?n="add":e.startsWith("-")?n="del":e.startsWith("@@")&&(n="hunk"),`<span class="pl ${n}">${l}</span>`}).join(`
`):""}function ni(t,e,l){let n,s,i,o,a,f,u,_,p,m,v,{call:h}=e,y="auto";function w(){l(0,y=y==="diff"?"raw":"diff")}function b(){l(0,y=y==="todo"?"raw":"todo")}function S(){l(0,y=y==="formatted"?"raw":"formatted")}function I(){l(0,y=y==="patch"?"raw":"patch")}return t.$$set=M=>{"call"in M&&l(13,h=M.call)},t.$$.update=()=>{var M,O;t.$$.dirty&8192&&l(14,n=(h==null?void 0:h.arguments)??((M=h==null?void 0:h.function)==null?void 0:M.arguments)),t.$$.dirty&8192&&l(16,s=(h==null?void 0:h.name)??((O=h==null?void 0:h.function)==null?void 0:O.name)),t.$$.dirty&16384&&l(3,i=typeof n=="string"?qe(n):n),t.$$.dirty&65536&&l(7,o=s==="replace_string_in_file"),t.$$.dirty&65536&&l(6,a=s==="multi_replace_string_in_file"),t.$$.dirty&65536&&l(5,f=s==="manage_todo_list"),t.$$.dirty&65536&&l(4,u=s==="create_file"),t.$$.dirty&65536&&l(2,_=s==="apply_patch"),t.$$.dirty&16396&&l(15,p=(()=>{if(!_)return"";if(i&&typeof i=="object")return i.patch||i.input||i.diff||"";if(typeof n=="string"){const A=qe(n);if(A&&typeof A=="object")return A.patch||A.input||A.diff||"";if(/\*\*\* Begin Patch/.test(n))return n}return""})()),t.$$.dirty&32772&&l(1,m=_?ti(p):[]),t.$$.dirty&16392&&l(8,v=(()=>{try{if(i&&typeof i=="object")return JSON.stringify(i,null,2);if(typeof n=="string"){const A=qe(n);return A&&typeof A=="object"?JSON.stringify(A,null,2):n}return n!==void 0?JSON.stringify(n,null,2):""}catch{return typeof n=="string"?n:""}})()),t.$$.dirty&255&&y==="auto"&&(o&&(i!=null&&i.oldString)||a&&Array.isArray(i==null?void 0:i.replacements)&&i.replacements.length?l(0,y="diff"):f&&Array.isArray(i==null?void 0:i.todoList)?l(0,y="todo"):u&&(i==null?void 0:i.content)!==void 0?l(0,y="formatted"):_&&m.length&&l(0,y="patch"))},[y,m,_,i,u,f,a,o,v,w,b,S,I,h,n,p,s]}class si extends Qe{constructor(e){super(),Ge(this,e,ni,ei,Ee,{call:13})}}function Cl(t,e,l){const n=t.slice();return n[35]=e[l],n[37]=l,n}function ii(t){const e=t.slice(),l=e[13][e[35].id||e[35].tool_call_id||e[35].toolCallId||"idx_"+e[37]].text;e[38]=l;const n=e[15](e[35],e[38]);e[39]=n;const s=e[35].id||e[35].tool_call_id||e[35].toolCallId||"idx_"+e[37];return e[40]=s,e}function St(t){const e=t.slice(),l=e[1].response.copilotFunctionCalls||e[1].response.toolCalls||[];return e[34]=l,e}function Sl(t,e,l){const n=t.slice();return n[44]=e[l],n[46]=l,n}function Nl(t,e,l){const n=t.slice();return n[47]=e[l],n[49]=l,n}function jl(t,e,l){const n=t.slice();return n[51]=e[l],n}function Rl(t,e,l){const n=t.slice();return n[41]=e[l],n[43]=l,n}function oi(t){let e;return{c(){e=d("div"),e.innerHTML='<em class="text-soft">No response data available</em>',r(e,"class","empty-response svelte-1t0ixjy")},m(l,n){k(l,e,n)},p:K,i:K,o:K,d(l){l&&g(e)}}}function ri(t){var _,p,m;let e,l,n,s,i,o=t[10]&&Al(t),a=((_=t[1].response.value)==null?void 0:_.length)&&Ll(t),f=(((p=t[1].response.copilotFunctionCalls)==null?void 0:p.length)||((m=t[1].response.toolCalls)==null?void 0:m.length))&&$l(St(t)),u=t[1].response.usage&&Kl(t);return{c(){o&&o.c(),e=C(),a&&a.c(),l=C(),f&&f.c(),n=C(),u&&u.c(),s=_e()},m(v,h){o&&o.m(v,h),k(v,e,h),a&&a.m(v,h),k(v,l,h),f&&f.m(v,h),k(v,n,h),u&&u.m(v,h),k(v,s,h),i=!0},p(v,h){var y,w,b;v[10]?o?o.p(v,h):(o=Al(v),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),(y=v[1].response.value)!=null&&y.length?a?a.p(v,h):(a=Ll(v),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null),(w=v[1].response.copilotFunctionCalls)!=null&&w.length||(b=v[1].response.toolCalls)!=null&&b.length?f?(f.p(St(v),h),h[0]&2&&ke(f,1)):(f=$l(St(v)),f.c(),ke(f,1),f.m(n.parentNode,n)):f&&(Ke(),we(f,1,1,()=>{f=null}),Ye()),v[1].response.usage?u?u.p(v,h):(u=Kl(v),u.c(),u.m(s.parentNode,s)):u&&(u.d(1),u=null)},i(v){i||(ke(f),i=!0)},o(v){we(f),i=!1},d(v){v&&(g(e),g(l),g(n),g(s)),o&&o.d(v),a&&a.d(v),f&&f.d(v),u&&u.d(v)}}}function Al(t){let e,l,n,s,i,o,a,f,u,_,p,m,v,h,y,w,b,S,I,M,O,A,q,F,j,T,R,E,L,H,Y,te,B,le,re,be,U=t[5]?"Hide Raw Response JSON":"Show Raw Response JSON",X,ce,$,ie,V,oe;function me(J,ee){return J[10].type?ci:ai}let Ie=me(t),W=Ie(t),z=t[10].type&&Tl(t);function Re(J,ee){return J[10].reason?ui:fi}let Ce=Re(t),ue=Ce(t),D=t[10].reason&&Ol(t);function Z(J,ee){return J[10].requestId?pi:di}let G=Z(t),Q=G(t),de=t[10].requestId&&ql(t);function fe(J,ee){return J[10].serverRequestId?mi:_i}let pe=fe(t),ve=pe(t),ge=t[10].serverRequestId&&Pl(t),ae=t[5]&&Fl(t);return{c(){e=d("section"),l=d("details"),n=d("summary"),n.innerHTML='<span class="caret svelte-1t0ixjy"></span><h3 class="svelte-1t0ixjy">Response Metadata</h3>',s=C(),i=d("div"),o=d("div"),a=d("div"),f=d("div"),f.textContent="Type",u=C(),_=d("div"),W.c(),p=C(),m=d("div"),z&&z.c(),v=C(),h=d("div"),y=d("div"),y.textContent="Reason",w=C(),b=d("div"),ue.c(),S=C(),I=d("div"),D&&D.c(),M=C(),O=d("div"),A=d("div"),A.textContent="Request ID",q=C(),F=d("div"),Q.c(),j=C(),T=d("div"),de&&de.c(),R=C(),E=d("div"),L=d("div"),L.textContent="Server Request ID",H=C(),Y=d("div"),ve.c(),te=C(),B=d("div"),ge&&ge.c(),le=C(),re=d("div"),be=d("button"),X=N(U),ce=C(),$=d("button"),$.textContent="Copy All",ie=C(),ae&&ae.c(),r(n,"class","svelte-1t0ixjy"),r(f,"class","meta-cell key svelte-1t0ixjy"),r(f,"role","cell"),r(_,"class","meta-cell val svelte-1t0ixjy"),r(_,"role","cell"),r(m,"class","meta-cell action svelte-1t0ixjy"),r(m,"role","cell"),r(a,"class","meta-row svelte-1t0ixjy"),r(a,"role","row"),r(y,"class","meta-cell key svelte-1t0ixjy"),r(y,"role","cell"),r(b,"class","meta-cell val svelte-1t0ixjy"),r(b,"role","cell"),r(I,"class","meta-cell action svelte-1t0ixjy"),r(I,"role","cell"),r(h,"class","meta-row svelte-1t0ixjy"),r(h,"role","row"),r(A,"class","meta-cell key svelte-1t0ixjy"),r(A,"role","cell"),r(F,"class","meta-cell val svelte-1t0ixjy"),r(F,"role","cell"),r(T,"class","meta-cell action svelte-1t0ixjy"),r(T,"role","cell"),r(O,"class","meta-row svelte-1t0ixjy"),r(O,"role","row"),r(L,"class","meta-cell key svelte-1t0ixjy"),r(L,"role","cell"),r(Y,"class","meta-cell val svelte-1t0ixjy"),r(Y,"role","cell"),r(B,"class","meta-cell action svelte-1t0ixjy"),r(B,"role","cell"),r(E,"class","meta-row svelte-1t0ixjy"),r(E,"role","row"),r(o,"class","response-meta-table svelte-1t0ixjy"),r(o,"role","table"),r(o,"aria-label","Response metadata key value pairs"),r(be,"class","mini-btn"),r($,"class","mini-btn alt svelte-1t0ixjy"),r($,"title","Copy all metadata JSON"),r(re,"class","meta-actions-row svelte-1t0ixjy"),r(i,"class","collapsible-body svelte-1t0ixjy"),r(l,"class","collapsible svelte-1t0ixjy"),r(l,"data-role","response-meta"),l.open=!0,r(l,"aria-label","Response metadata group"),r(e,"class","group response-meta-group svelte-1t0ixjy")},m(J,ee){k(J,e,ee),c(e,l),c(l,n),c(l,s),c(l,i),c(i,o),c(o,a),c(a,f),c(a,u),c(a,_),W.m(_,null),c(a,p),c(a,m),z&&z.m(m,null),c(o,v),c(o,h),c(h,y),c(h,w),c(h,b),ue.m(b,null),c(h,S),c(h,I),D&&D.m(I,null),c(o,M),c(o,O),c(O,A),c(O,q),c(O,F),Q.m(F,null),c(O,j),c(O,T),de&&de.m(T,null),c(o,R),c(o,E),c(E,L),c(E,H),c(E,Y),ve.m(Y,null),c(E,te),c(E,B),ge&&ge.m(B,null),c(i,le),c(i,re),c(re,be),c(be,X),c(re,ce),c(re,$),c(i,ie),ae&&ae.m(i,null),V||(oe=[ne(be,"click",t[26]),ne($,"click",t[17])],V=!0)},p(J,ee){Ie===(Ie=me(J))&&W?W.p(J,ee):(W.d(1),W=Ie(J),W&&(W.c(),W.m(_,null))),J[10].type?z?z.p(J,ee):(z=Tl(J),z.c(),z.m(m,null)):z&&(z.d(1),z=null),Ce===(Ce=Re(J))&&ue?ue.p(J,ee):(ue.d(1),ue=Ce(J),ue&&(ue.c(),ue.m(b,null))),J[10].reason?D?D.p(J,ee):(D=Ol(J),D.c(),D.m(I,null)):D&&(D.d(1),D=null),G===(G=Z(J))&&Q?Q.p(J,ee):(Q.d(1),Q=G(J),Q&&(Q.c(),Q.m(F,null))),J[10].requestId?de?de.p(J,ee):(de=ql(J),de.c(),de.m(T,null)):de&&(de.d(1),de=null),pe===(pe=fe(J))&&ve?ve.p(J,ee):(ve.d(1),ve=pe(J),ve&&(ve.c(),ve.m(Y,null))),J[10].serverRequestId?ge?ge.p(J,ee):(ge=Pl(J),ge.c(),ge.m(B,null)):ge&&(ge.d(1),ge=null),ee[0]&32&&U!==(U=J[5]?"Hide Raw Response JSON":"Show Raw Response JSON")&&P(X,U),J[5]?ae?ae.p(J,ee):(ae=Fl(J),ae.c(),ae.m(i,null)):ae&&(ae.d(1),ae=null)},d(J){J&&g(e),W.d(),z&&z.d(),ue.d(),D&&D.d(),Q.d(),de&&de.d(),ve.d(),ge&&ge.d(),ae&&ae.d(),V=!1,Pe(oe)}}}function ai(t){let e;return{c(){e=d("span"),e.textContent="‚Äî",r(e,"class","meta-missing svelte-1t0ixjy")},m(l,n){k(l,e,n)},p:K,d(l){l&&g(e)}}}function ci(t){let e,l=t[10].type+"",n,s;return{c(){e=d("span"),n=N(l),r(e,"class",s="meta-badge "+t[10].type+" svelte-1t0ixjy")},m(i,o){k(i,e,o),c(e,n)},p(i,o){o[0]&1024&&l!==(l=i[10].type+"")&&P(n,l),o[0]&1024&&s!==(s="meta-badge "+i[10].type+" svelte-1t0ixjy")&&r(e,"class",s)},d(i){i&&g(e)}}}function Tl(t){let e,l=t[6].type?"‚úì":"‚ßâ",n,s,i;return{c(){e=d("button"),n=N(l),r(e,"class","copy-btn svelte-1t0ixjy"),r(e,"title","Copy Type")},m(o,a){k(o,e,a),c(e,n),s||(i=ne(e,"click",t[22]),s=!0)},p(o,a){a[0]&64&&l!==(l=o[6].type?"‚úì":"‚ßâ")&&P(n,l)},d(o){o&&g(e),s=!1,i()}}}function fi(t){let e;return{c(){e=d("span"),e.textContent="‚Äî",r(e,"class","meta-missing svelte-1t0ixjy")},m(l,n){k(l,e,n)},p:K,d(l){l&&g(e)}}}function ui(t){let e,l=t[10].reason+"",n,s;return{c(){e=d("span"),n=N(l),r(e,"class",s="reason-badge reason-"+t[10].reason+" svelte-1t0ixjy")},m(i,o){k(i,e,o),c(e,n)},p(i,o){o[0]&1024&&l!==(l=i[10].reason+"")&&P(n,l),o[0]&1024&&s!==(s="reason-badge reason-"+i[10].reason+" svelte-1t0ixjy")&&r(e,"class",s)},d(i){i&&g(e)}}}function Ol(t){let e,l=t[6].reason?"‚úì":"‚ßâ",n,s,i;return{c(){e=d("button"),n=N(l),r(e,"class","copy-btn svelte-1t0ixjy"),r(e,"title","Copy Reason")},m(o,a){k(o,e,a),c(e,n),s||(i=ne(e,"click",t[23]),s=!0)},p(o,a){a[0]&64&&l!==(l=o[6].reason?"‚úì":"‚ßâ")&&P(n,l)},d(o){o&&g(e),s=!1,i()}}}function di(t){let e;return{c(){e=d("span"),e.textContent="‚Äî",r(e,"class","meta-missing svelte-1t0ixjy")},m(l,n){k(l,e,n)},p:K,d(l){l&&g(e)}}}function pi(t){let e,l=t[10].requestId+"",n,s;return{c(){e=d("code"),n=N(l),r(e,"class","id-frag full svelte-1t0ixjy"),r(e,"title",s=t[10].requestId)},m(i,o){k(i,e,o),c(e,n)},p(i,o){o[0]&1024&&l!==(l=i[10].requestId+"")&&P(n,l),o[0]&1024&&s!==(s=i[10].requestId)&&r(e,"title",s)},d(i){i&&g(e)}}}function ql(t){let e,l=t[6].requestId?"‚úì":"‚ßâ",n,s,i;return{c(){e=d("button"),n=N(l),r(e,"class","copy-btn svelte-1t0ixjy"),r(e,"title","Copy Request ID")},m(o,a){k(o,e,a),c(e,n),s||(i=ne(e,"click",t[24]),s=!0)},p(o,a){a[0]&64&&l!==(l=o[6].requestId?"‚úì":"‚ßâ")&&P(n,l)},d(o){o&&g(e),s=!1,i()}}}function _i(t){let e;return{c(){e=d("span"),e.textContent="‚Äî",r(e,"class","meta-missing svelte-1t0ixjy")},m(l,n){k(l,e,n)},p:K,d(l){l&&g(e)}}}function mi(t){let e,l=t[10].serverRequestId+"",n,s;return{c(){e=d("code"),n=N(l),r(e,"class","id-frag full svelte-1t0ixjy"),r(e,"title",s=t[10].serverRequestId)},m(i,o){k(i,e,o),c(e,n)},p(i,o){o[0]&1024&&l!==(l=i[10].serverRequestId+"")&&P(n,l),o[0]&1024&&s!==(s=i[10].serverRequestId)&&r(e,"title",s)},d(i){i&&g(e)}}}function Pl(t){let e,l=t[6].serverRequestId?"‚úì":"‚ßâ",n,s,i;return{c(){e=d("button"),n=N(l),r(e,"class","copy-btn svelte-1t0ixjy"),r(e,"title","Copy Server Request ID")},m(o,a){k(o,e,a),c(e,n),s||(i=ne(e,"click",t[25]),s=!0)},p(o,a){a[0]&64&&l!==(l=o[6].serverRequestId?"‚úì":"‚ßâ")&&P(n,l)},d(o){o&&g(e),s=!1,i()}}}function Fl(t){let e,l=JSON.stringify(t[1].response,null,2)+"",n;return{c(){e=d("pre"),n=N(l),r(e,"class","code-block small svelte-1t0ixjy"),Te(e,"margin-top","6px")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&2&&l!==(l=JSON.stringify(s[1].response,null,2)+"")&&P(n,l)},d(s){s&&g(e)}}}function Ll(t){let e,l,n,s,i;function o(u,_){return u[3]&&u[12].length?bi:u[3]&&u[11]?hi:vi}let a=o(t),f=a(t);return{c(){e=d("section"),l=d("details"),n=d("summary"),n.innerHTML='<span class="caret svelte-1t0ixjy"></span><h3 class="svelte-1t0ixjy">Response Text</h3>',s=C(),i=d("div"),f.c(),r(n,"class","svelte-1t0ixjy"),r(i,"class","collapsible-body svelte-1t0ixjy"),r(l,"class","collapsible svelte-1t0ixjy"),l.open=!0,r(l,"data-role","response-text"),r(l,"aria-label","Response text group"),r(e,"class","group response-text-group svelte-1t0ixjy")},m(u,_){k(u,e,_),c(e,l),c(l,n),c(l,s),c(l,i),f.m(i,null)},p(u,_){a===(a=o(u))&&f?f.p(u,_):(f.d(1),f=a(u),f&&(f.c(),f.m(i,null)))},d(u){u&&g(e),f.d()}}}function vi(t){let e,l=t[1].response.value.join(`
`)+"",n;return{c(){e=d("pre"),n=N(l),r(e,"class","code-block svelte-1t0ixjy")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&2&&l!==(l=s[1].response.value.join(`
`)+"")&&P(n,l)},d(s){s&&g(e)}}}function hi(t){let e,l=se(t[2]),n=[];for(let s=0;s<l.length;s+=1)n[s]=Hl(Sl(t,l,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();r(e,"class","analyze-files-response svelte-1t0ixjy"),r(e,"aria-label","Analyze files and patterns fenced code rendering")},m(s,i){k(s,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,i){if(i[0]&20){l=se(s[2]);let o;for(o=0;o<l.length;o+=1){const a=Sl(s,l,o);n[o]?n[o].p(a,i):(n[o]=Hl(a),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(s){s&&g(e),Ne(n,s)}}}function bi(t){let e,l,n,s,i,o,a=t[1].response.value.join(`
`)+"",f,u=se(t[12]),_=[];for(let p=0;p<u.length;p+=1)_[p]=Jl(Rl(t,u,p));return{c(){e=d("div");for(let p=0;p<_.length;p+=1)_[p].c();l=C(),n=d("details"),s=d("summary"),s.textContent="Show Raw Combined Text",i=C(),o=d("pre"),f=N(a),r(s,"class","svelte-1t0ixjy"),r(o,"class","code-block small svelte-1t0ixjy"),Te(o,"margin-top","6px"),r(n,"class","raw-response-text svelte-1t0ixjy"),n.open=!0,r(e,"class","analyze-files-response svelte-1t0ixjy"),r(e,"aria-label","Analyze files and patterns formatted output")},m(p,m){k(p,e,m);for(let v=0;v<_.length;v+=1)_[v]&&_[v].m(e,null);c(e,l),c(e,n),c(n,s),c(n,i),c(n,o),c(o,f)},p(p,m){if(m[0]&4096){u=se(p[12]);let v;for(v=0;v<u.length;v+=1){const h=Rl(p,u,v);_[v]?_[v].p(h,m):(_[v]=Jl(h),_[v].c(),_[v].m(e,l))}for(;v<_.length;v+=1)_[v].d(1);_.length=u.length}m[0]&2&&a!==(a=p[1].response.value.join(`
`)+"")&&P(f,a)},d(p){p&&g(e),Ne(_,p)}}}function gi(t){let e,l=t[47].content+"",n;return{c(){e=d("pre"),n=N(l),r(e,"class","code-block small plain-text svelte-1t0ixjy")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&4&&l!==(l=s[47].content+"")&&P(n,l)},d(s){s&&g(e)}}}function ki(t){let e,l,n,s=(t[47].lang||"code")+"",i,o,a,f=t[47].raw+"",u,_;return{c(){e=d("div"),l=d("div"),n=d("span"),i=N(s),o=C(),a=d("pre"),u=N(f),_=C(),r(n,"class","code-label svelte-1t0ixjy"),r(l,"class","code-head svelte-1t0ixjy"),r(a,"class","code-block small svelte-1t0ixjy"),r(e,"class","code-fallback svelte-1t0ixjy")},m(p,m){k(p,e,m),c(e,l),c(l,n),c(n,i),c(e,o),c(e,a),c(a,u),c(e,_)},p(p,m){m[0]&4&&s!==(s=(p[47].lang||"code")+"")&&P(i,s),m[0]&4&&f!==(f=p[47].raw+"")&&P(u,f)},d(p){p&&g(e)}}}function yi(t){let e,l;function n(o,a){return a[0]&4&&(e=null),e==null&&(e=!!Lt(o[47].raw)),e?Ii:wi}let s=n(t,[-1,-1]),i=s(t);return{c(){i.c(),l=_e()},m(o,a){i.m(o,a),k(o,l,a)},p(o,a){s===(s=n(o,a))&&i?i.p(o,a):(i.d(1),i=s(o),i&&(i.c(),i.m(l.parentNode,l)))},d(o){o&&g(l),i.d(o)}}}function wi(t){let e,l,n,s=(t[47].lang||"code")+"",i,o,a,f=t[47].raw+"",u,_;return{c(){e=d("div"),l=d("div"),n=d("span"),i=N(s),o=C(),a=d("pre"),u=N(f),_=C(),r(n,"class","code-label svelte-1t0ixjy"),r(l,"class","code-head svelte-1t0ixjy"),r(a,"class","code-block small svelte-1t0ixjy"),r(e,"class","code-fallback svelte-1t0ixjy")},m(p,m){k(p,e,m),c(e,l),c(l,n),c(n,i),c(e,o),c(e,a),c(a,u),c(e,_)},p(p,m){m[0]&4&&s!==(s=(p[47].lang||"code")+"")&&P(i,s),m[0]&4&&f!==(f=p[47].raw+"")&&P(u,f)},d(p){p&&g(e)}}}function Ii(t){let e,l,n,s,i={ctx:t,current:null,token:null,hasCatch:!1,pending:Ri,then:Si,catch:Ci,value:50};return Vt(s=Promise.resolve(Lt(t[47].raw)),i),{c(){e=d("script"),e.innerHTML="",l=C(),n=_e(),i.block.c(),r(e,"context","module")},m(o,a){k(o,e,a),k(o,l,a),k(o,n,a),i.block.m(o,i.anchor=a),i.mount=()=>n.parentNode,i.anchor=n},p(o,a){t=o,i.ctx=t,a[0]&4&&s!==(s=Promise.resolve(Lt(t[47].raw)))&&Vt(s,i)||Xn(i,t,a)},d(o){o&&(g(e),g(l),g(n)),i.block.d(o),i.token=null,i=null}}}function Ci(t){return{c:K,m:K,p:K,d:K}}function Si(t){let e,l,n,s,i,o=t[4][t[46]+"-"+t[49]]?"Pretty":"Raw",a,f,u,_,p,m;function v(){return t[27](t[46],t[49])}function h(b,S){return b[4][b[46]+"-"+b[49]]?ji:Ni}let y=h(t),w=y(t);return{c(){e=d("div"),l=d("div"),n=d("span"),n.textContent="JSON Block",s=C(),i=d("button"),a=N(o),f=C(),w.c(),_=C(),r(n,"class","json-label svelte-1t0ixjy"),r(i,"type","button"),r(i,"class","mini-btn json-raw-toggle"),r(l,"class","json-head svelte-1t0ixjy"),r(e,"class","json-block svelte-1t0ixjy"),r(e,"data-lang",u=t[47].lang)},m(b,S){k(b,e,S),c(e,l),c(l,n),c(l,s),c(l,i),c(i,a),c(e,f),w.m(e,null),k(b,_,S),p||(m=ne(i,"click",v),p=!0)},p(b,S){t=b,S[0]&16&&o!==(o=t[4][t[46]+"-"+t[49]]?"Pretty":"Raw")&&P(a,o),y===(y=h(t))&&w?w.p(t,S):(w.d(1),w=y(t),w&&(w.c(),w.m(e,null))),S[0]&4&&u!==(u=t[47].lang)&&r(e,"data-lang",u)},d(b){b&&(g(e),g(_)),w.d(),p=!1,m()}}}function Ni(t){let e,l=Gl(t[50])+"",n,s,i=se(Ql(t[50])),o=[];for(let a=0;a<i.length;a+=1)o[a]=Ml(jl(t,i,a));return{c(){e=d("pre"),n=C();for(let a=0;a<o.length;a+=1)o[a].c();s=_e(),r(e,"class","code-block small json-pre svelte-1t0ixjy"),r(e,"aria-label","Pretty JSON")},m(a,f){k(a,e,f),e.innerHTML=l,k(a,n,f);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(a,f);k(a,s,f)},p(a,f){if(f[0]&4&&l!==(l=Gl(a[50])+"")&&(e.innerHTML=l),f[0]&4){i=se(Ql(a[50]));let u;for(u=0;u<i.length;u+=1){const _=jl(a,i,u);o[u]?o[u].p(_,f):(o[u]=Ml(_),o[u].c(),o[u].m(s.parentNode,s))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}},d(a){a&&(g(e),g(n),g(s)),Ne(o,a)}}}function ji(t){let e,l=t[47].raw+"",n;return{c(){e=d("pre"),n=N(l),r(e,"class","code-block small svelte-1t0ixjy")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&4&&l!==(l=s[47].raw+"")&&P(n,l)},d(s){s&&g(e)}}}function Ml(t){let e,l,n,s=t[51].key+"",i,o,a,f,u=t[51].value.split(`
`).length+"",_,p,m,v,h=t[51].value+"",y,w,b;return{c(){e=d("details"),l=d("summary"),n=d("span"),i=N(s),o=C(),a=d("span"),f=N("("),_=N(u),p=N(" lines)"),m=C(),v=d("pre"),y=N(h),b=C(),r(n,"class","snippet-key svelte-1t0ixjy"),r(a,"class","snippet-extra svelte-1t0ixjy"),r(l,"class","svelte-1t0ixjy"),r(v,"class","code-block tiny svelte-1t0ixjy"),r(v,"data-snippet-key",w=t[51].key),r(e,"class","snippet-details svelte-1t0ixjy"),e.open=!0},m(S,I){k(S,e,I),c(e,l),c(l,n),c(n,i),c(l,o),c(l,a),c(a,f),c(a,_),c(a,p),c(e,m),c(e,v),c(v,y),c(e,b)},p(S,I){I[0]&4&&s!==(s=S[51].key+"")&&P(i,s),I[0]&4&&u!==(u=S[51].value.split(`
`).length+"")&&P(_,u),I[0]&4&&h!==(h=S[51].value+"")&&P(y,h),I[0]&4&&w!==(w=S[51].key)&&r(v,"data-snippet-key",w)},d(S){S&&g(e)}}}function Ri(t){return{c:K,m:K,p:K,d:K}}function El(t){let e;function l(i,o){if(i[47].type==="code"&&(i[47].lang==="json"||i[47].lang==="javascript"||i[47].lang==="js"))return yi;if(i[47].type==="code")return ki;if(i[47].type==="text")return gi}let n=l(t),s=n&&n(t);return{c(){s&&s.c(),e=_e()},m(i,o){s&&s.m(i,o),k(i,e,o)},p(i,o){n===(n=l(i))&&s?s.p(i,o):(s&&s.d(1),s=n&&n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&g(e),s&&s.d(i)}}}function Hl(t){let e,l=se(t[44]),n=[];for(let s=0;s<l.length;s+=1)n[s]=El(Nl(t,l,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=_e()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);k(s,e,i)},p(s,i){if(i[0]&20){l=se(s[44]);let o;for(o=0;o<l.length;o+=1){const a=Nl(s,l,o);n[o]?n[o].p(a,i):(n[o]=El(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(s){s&&g(e),Ne(n,s)}}}function Ai(t){let e;return{c(){e=d("div"),e.textContent="(No content changes captured)",r(e,"class","patch-empty svelte-1t0ixjy")},m(l,n){k(l,e,n)},p:K,d(l){l&&g(e)}}}function Ti(t){let e,l=Yl(t[41].body)+"",n;return{c(){e=d("pre"),r(e,"class","patch-code svelte-1t0ixjy"),r(e,"aria-label",n=t[41].action+" file diff")},m(s,i){k(s,e,i),e.innerHTML=l},p(s,i){i[0]&4096&&l!==(l=Yl(s[41].body)+"")&&(e.innerHTML=l),i[0]&4096&&n!==(n=s[41].action+" file diff")&&r(e,"aria-label",n)},d(s){s&&g(e)}}}function Oi(t){let e;return{c(){e=d("div"),e.textContent="File deleted",r(e,"class","patch-deleted-note svelte-1t0ixjy")},m(l,n){k(l,e,n)},p:K,d(l){l&&g(e)}}}function Jl(t){let e,l,n,s=t[41].action+"",i,o,a,f,u=t[41].filePath+"",_,p,m,v;function h(b,S){return b[41].action==="Delete"?Oi:b[41].body?Ti:Ai}let y=h(t),w=y(t);return{c(){e=d("div"),l=d("div"),n=d("span"),i=N(s),a=C(),f=d("span"),_=N(u),m=C(),w.c(),r(n,"class",o="patch-action tag-"+t[41].action.toLowerCase()+" svelte-1t0ixjy"),r(f,"class","patch-path svelte-1t0ixjy"),r(f,"title",p=t[41].filePath),r(l,"class","patch-head svelte-1t0ixjy"),r(e,"class","patch-file svelte-1t0ixjy"),r(e,"data-action",v=t[41].action),r(e,"data-idx",t[43])},m(b,S){k(b,e,S),c(e,l),c(l,n),c(n,i),c(l,a),c(l,f),c(f,_),c(e,m),w.m(e,null)},p(b,S){S[0]&4096&&s!==(s=b[41].action+"")&&P(i,s),S[0]&4096&&o!==(o="patch-action tag-"+b[41].action.toLowerCase()+" svelte-1t0ixjy")&&r(n,"class",o),S[0]&4096&&u!==(u=b[41].filePath+"")&&P(_,u),S[0]&4096&&p!==(p=b[41].filePath)&&r(f,"title",p),y===(y=h(b))&&w?w.p(b,S):(w.d(1),w=y(b),w&&(w.c(),w.m(e,null))),S[0]&4096&&v!==(v=b[41].action)&&r(e,"data-action",v)},d(b){b&&g(e),w.d()}}}function $l(t){let e,l,n,s,i,o,a,f=t[34].length+"",u,_,p,m,v,h=se(t[34]),y=[];for(let b=0;b<h.length;b+=1)y[b]=Wl(Cl(t,h,b));const w=b=>we(y[b],1,1,()=>{y[b]=null});return{c(){e=d("section"),l=d("details"),n=d("summary"),s=d("span"),i=d("h3"),o=N("Tool Calls "),a=d("span"),u=N(f),_=C(),p=d("div"),m=d("div");for(let b=0;b<y.length;b+=1)y[b].c();r(s,"class","caret svelte-1t0ixjy"),r(a,"class","count-badge svelte-1t0ixjy"),r(i,"class","svelte-1t0ixjy"),r(n,"class","svelte-1t0ixjy"),r(m,"class","scroll-area calls-scroll svelte-1t0ixjy"),r(m,"role","region"),r(m,"aria-label","Tool calls within response (each in its own section)"),r(p,"class","collapsible-body svelte-1t0ixjy"),r(l,"class","collapsible svelte-1t0ixjy"),l.open=!0,r(l,"data-role","response-calls"),r(l,"aria-label","Response tool calls group"),r(e,"class","group response-calls-group svelte-1t0ixjy")},m(b,S){k(b,e,S),c(e,l),c(l,n),c(n,s),c(n,i),c(i,o),c(i,a),c(a,u),c(l,_),c(l,p),c(p,m);for(let I=0;I<y.length;I+=1)y[I]&&y[I].m(m,null);t[31](m),v=!0},p(b,S){if((!v||S[0]&2)&&f!==(f=b[34].length+"")&&P(u,f),S[0]&844171){h=se(b[34]);let I;for(I=0;I<h.length;I+=1){const M=Cl(b,h,I);y[I]?(y[I].p(M,S),ke(y[I],1)):(y[I]=Wl(M),y[I].c(),ke(y[I],1),y[I].m(m,null))}for(Ke(),I=h.length;I<y.length;I+=1)w(I);Ye()}},i(b){if(!v){for(let S=0;S<h.length;S+=1)ke(y[S]);v=!0}},o(b){y=y.filter(Boolean);for(let S=0;S<y.length;S+=1)we(y[S]);v=!1},d(b){b&&g(e),Ne(y,b),t[31](null)}}}function Bl(t){let e;return{c(){e=d("span"),e.textContent="INFERRED",r(e,"class","infer-badge svelte-1t0ixjy"),r(e,"title","Inferred tool name")},m(l,n){k(l,e,n)},d(l){l&&g(e)}}}function Dl(t){let e;return{c(){e=d("span"),e.textContent="Active",r(e,"class","selected-badge svelte-1t0ixjy")},m(l,n){k(l,e,n)},d(l){l&&g(e)}}}function Ul(t){let e;function l(o,a){var f;return(f=o[13][o[35].id||o[35].tool_call_id||o[35].toolCallId||"idx_"+o[37]])!=null&&f.text?zl:qi}function n(o,a){return a===zl?ii(o):o}let s=l(t),i=s(n(t,s));return{c(){i.c(),e=_e()},m(o,a){i.m(o,a),k(o,e,a)},p(o,a){s===(s=l(o))&&i?i.p(n(o,s),a):(i.d(1),i=s(n(o,s)),i&&(i.c(),i.m(e.parentNode,e)))},d(o){o&&g(e),i.d(o)}}}function qi(t){let e;return{c(){e=d("div"),e.innerHTML='<em class="text-soft">No result output located for this call id</em>',r(e,"class","tool-result-block empty svelte-1t0ixjy"),r(e,"id","resp-fnresult-"+t[37]),r(e,"aria-label","Tool call result output missing")},m(l,n){k(l,e,n)},p:K,d(l){l&&g(e)}}}function zl(t){let e;function l(i,o){return i[7][i[35].id||i[35].tool_call_id||i[35].toolCallId||"idx_"+i[37]]!==!1?Fi:Pi}let n=l(t),s=n(t);return{c(){s.c(),e=_e()},m(i,o){s.m(i,o),k(i,e,o)},p(i,o){n===(n=l(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&g(e),s.d(i)}}}function Pi(t){let e,l,n,s,i,o,a;function f(){return t[30](t[35],t[37])}return{c(){e=d("div"),l=d("div"),n=d("div"),n.textContent="Result (hidden)",s=C(),i=d("button"),i.textContent="Show",r(n,"class","tool-result-head svelte-1t0ixjy"),r(i,"class","result-toggle svelte-1t0ixjy"),r(i,"type","button"),r(l,"class","tool-result-head-row svelte-1t0ixjy"),r(e,"class","tool-result-block collapsed svelte-1t0ixjy"),r(e,"id","resp-fnresult-"+t[37]),r(e,"aria-label","Tool call result output hidden")},m(u,_){k(u,e,_),c(e,l),c(l,n),c(l,s),c(l,i),o||(a=ne(i,"click",f),o=!0)},p(u,_){t=u},d(u){u&&g(e),o=!1,a()}}}function Fi(t){let e,l,n,s,i,o,a,f,u,_=t[39]&&Vl(t);function p(){return t[29](t[35],t[37])}function m(y,w){return y[39]&&(y[8][y[40]]||"rendered")==="rendered"?Mi:Li}let v=m(t),h=v(t);return{c(){e=d("div"),l=d("div"),n=d("div"),n.textContent="Result",s=C(),_&&_.c(),i=C(),o=d("button"),o.textContent="Hide",a=C(),h.c(),r(n,"class","tool-result-head svelte-1t0ixjy"),r(o,"class","result-toggle svelte-1t0ixjy"),r(o,"type","button"),r(l,"class","tool-result-head-row svelte-1t0ixjy"),r(e,"class","tool-result-block open svelte-1t0ixjy"),r(e,"id","resp-fnresult-"+t[37]),r(e,"aria-label","Tool call result output")},m(y,w){k(y,e,w),c(e,l),c(l,n),c(l,s),_&&_.m(l,null),c(l,i),c(l,o),c(e,a),h.m(e,null),f||(u=ne(o,"click",p),f=!0)},p(y,w){t=y,t[39]?_?_.p(t,w):(_=Vl(t),_.c(),_.m(l,i)):_&&(_.d(1),_=null),v===(v=m(t))&&h?h.p(t,w):(h.d(1),h=v(t),h&&(h.c(),h.m(e,null)))},d(y){y&&g(e),_&&_.d(),h.d(),f=!1,u()}}}function Vl(t){let e,l=(t[8][t[40]]||"rendered")==="rendered"?"Raw":"Rendered",n,s,i;function o(){return t[28](t[40])}return{c(){e=d("button"),n=N(l),r(e,"class","result-toggle svelte-1t0ixjy"),r(e,"type","button")},m(a,f){k(a,e,f),c(e,n),s||(i=ne(e,"click",o),s=!0)},p(a,f){t=a,f[0]&258&&l!==(l=(t[8][t[40]]||"rendered")==="rendered"?"Raw":"Rendered")&&P(n,l)},d(a){a&&g(e),s=!1,i()}}}function Li(t){let e,l=t[38]+"",n;return{c(){e=d("pre"),n=N(l),r(e,"class","code-block small svelte-1t0ixjy")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&8194&&l!==(l=s[38]+"")&&P(n,l)},d(s){s&&g(e)}}}function Mi(t){let e,l=t[39]+"";return{c(){e=d("div"),r(e,"class","diff-wrapper"),r(e,"aria-label","Tool result rendered view")},m(n,s){k(n,e,s),e.innerHTML=l},p(n,s){s[0]&8194&&l!==(l=n[39]+"")&&(e.innerHTML=l)},d(n){n&&g(e)}}}function Wl(t){var E,L;let e,l,n,s,i,o,a,f=t[37]+1+"",u,_,p=t[14](t[35])+"",m,v,h=t[3]&&((L=(E=t[35].name)==null?void 0:E.toLowerCase)==null?void 0:L.call(E))==="none"||t[14](t[35])==="patch_file",y,w,b,S,I,M,O,A,q,F,j=h&&Bl(),T=t[0].callIndex===t[37]&&Dl();S=new si({props:{call:t[35]}});let R=(t[35].id||t[35].tool_call_id||t[35].toolCallId||!0)&&Ul(t);return{c(){e=d("details"),l=d("summary"),n=d("span"),s=C(),i=d("div"),o=d("h5"),a=N("Call "),u=N(f),_=N(": "),m=N(p),v=C(),j&&j.c(),y=C(),T&&T.c(),w=C(),b=d("div"),Ve(S.$$.fragment),I=C(),R&&R.c(),M=C(),r(n,"class","mini-caret svelte-1t0ixjy"),r(o,"class","no-transform svelte-1t0ixjy"),r(i,"class","tool-title-area svelte-1t0ixjy"),r(l,"class","toolcall-head svelte-1t0ixjy"),r(l,"id","resp-fnhead-"+t[37]),r(b,"class","prompt-body svelte-1t0ixjy"),r(e,"class",O="prompt-collapsible toolcall-section "+(t[0].callIndex===t[37]?"active":"")+" svelte-1t0ixjy"),r(e,"id","resp-fncall-"+t[37]),r(e,"data-call-id",A=t[35].id||t[35].tool_call_id||t[35].toolCallId||"idx_"+t[37]),e.open=q=t[0].callIndex===t[37]},m(H,Y){k(H,e,Y),c(e,l),c(l,n),c(l,s),c(l,i),c(i,o),c(o,a),c(o,u),c(o,_),c(o,m),c(o,v),j&&j.m(o,null),c(i,y),T&&T.m(i,null),c(e,w),c(e,b),$e(S,b,null),c(b,I),R&&R.m(b,null),c(e,M),F=!0},p(H,Y){var B,le;(!F||Y[0]&2)&&p!==(p=H[14](H[35])+"")&&P(m,p),Y[0]&10&&(h=H[3]&&((le=(B=H[35].name)==null?void 0:B.toLowerCase)==null?void 0:le.call(B))==="none"||H[14](H[35])==="patch_file"),h?j||(j=Bl(),j.c(),j.m(o,null)):j&&(j.d(1),j=null),H[0].callIndex===H[37]?T||(T=Dl(),T.c(),T.m(i,null)):T&&(T.d(1),T=null);const te={};Y[0]&2&&(te.call=H[35]),S.$set(te),H[35].id||H[35].tool_call_id||H[35].toolCallId,R?R.p(H,Y):(R=Ul(H),R.c(),R.m(b,null)),(!F||Y[0]&1&&O!==(O="prompt-collapsible toolcall-section "+(H[0].callIndex===H[37]?"active":"")+" svelte-1t0ixjy"))&&r(e,"class",O),(!F||Y[0]&2&&A!==(A=H[35].id||H[35].tool_call_id||H[35].toolCallId||"idx_"+H[37]))&&r(e,"data-call-id",A),(!F||Y[0]&1&&q!==(q=H[0].callIndex===H[37]))&&(e.open=q)},i(H){F||(ke(S.$$.fragment,H),F=!0)},o(H){we(S.$$.fragment,H),F=!1},d(H){H&&g(e),j&&j.d(),T&&T.d(),Be(S),R&&R.d()}}}function Kl(t){let e,l,n,s,i,o,a=JSON.stringify(t[1].response.usage,null,2)+"",f;return{c(){e=d("section"),l=d("details"),n=d("summary"),n.innerHTML='<span class="caret svelte-1t0ixjy"></span><h3 class="svelte-1t0ixjy">Usage Statistics</h3>',s=C(),i=d("div"),o=d("pre"),f=N(a),r(n,"class","svelte-1t0ixjy"),r(o,"class","code-block svelte-1t0ixjy"),r(i,"class","collapsible-body svelte-1t0ixjy"),r(l,"class","collapsible svelte-1t0ixjy"),r(l,"data-role","usage"),r(l,"aria-label","Usage statistics group"),r(e,"class","group usage-group svelte-1t0ixjy")},m(u,_){k(u,e,_),c(e,l),c(l,n),c(l,s),c(l,i),c(i,o),c(o,f)},p(u,_){_[0]&2&&a!==(a=JSON.stringify(u[1].response.usage,null,2)+"")&&P(f,a)},d(u){u&&g(e)}}}function Ei(t){let e,l,n,s,i,o;const a=[ri,oi],f=[];function u(_,p){var m;return(m=_[1])!=null&&m.response?0:1}return s=u(t),i=f[s]=a[s](t),{c(){e=d("section"),l=d("header"),l.innerHTML='<h2 class="svelte-1t0ixjy">Response Detail</h2> <div class="section-meta svelte-1t0ixjy"><span class="section-info svelte-1t0ixjy">AI Response, Tool Calls &amp; Usage</span></div>',n=C(),i.c(),r(l,"class","section-header svelte-1t0ixjy"),r(e,"class","main-section response-section svelte-1t0ixjy")},m(_,p){k(_,e,p),c(e,l),c(e,n),f[s].m(e,null),o=!0},p(_,p){let m=s;s=u(_),s===m?f[s].p(_,p):(Ke(),we(f[m],1,1,()=>{f[m]=null}),Ye(),i=f[s],i?i.p(_,p):(i=f[s]=a[s](_),i.c()),ke(i,1),i.m(e,null))},i(_){o||(ke(i),o=!0)},o(_){we(i),o=!1},d(_){_&&g(e),f[s].d()}}}function Ft(t){return typeof t=="string"&&/\*\*\* Begin Patch[\s\S]*\*\*\* End Patch/.test(t)}function Hi(t){if(!Ft(t))return"";const e=t.match(/\*\*\* Begin Patch[\s\S]*?\*\*\* End Patch/);return e?e[0]:""}function Ji(t){if(!t)return[];const e=t.indexOf("*** Begin Patch"),l=t.indexOf("*** End Patch");e!==-1&&l!==-1&&(t=t.slice(e+15,l).trim());const n=t.split(/\r?\n/),s=/^\*\*\* (Update|Add|Delete) File: (.+)$/,i=[];let o=null;for(const a of n){const f=a.match(s);f?(o&&i.push(o),o={action:f[1],filePath:f[2].trim(),body:[]}):o&&o.body.push(a)}return o&&i.push(o),i.map(a=>({...a,body:a.body.join(`
`).replace(/^[\n\r]+|[\n\r]+$/g,"")}))}function $i(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Yl(t){return t?t.split(/\n/).map(e=>{const l=$i(e)||"&nbsp;";let n="ctx";return e.startsWith("+")?n="add":e.startsWith("-")?n="del":e.startsWith("@@")&&(n="hunk"),`<span class="pl ${n}">${l}</span>`}).join(`
`):""}function Bi(t){var e;return(t==null?void 0:t.name)||((e=t==null?void 0:t.function)==null?void 0:e.name)||""}function Di(t){if(typeof t!="string")return[{type:"text",content:t}];const e=/```(\w+)?\n([\s\S]*?)```/g,l=[];let n=0,s;for(;(s=e.exec(t))!==null;){if(s.index>n){const i=t.slice(n,s.index);i.trim().length&&l.push({type:"text",content:i})}l.push({type:"code",lang:(s[1]||"").toLowerCase(),raw:s[2]}),n=s.index+s[0].length}if(n<t.length){const i=t.slice(n);i.trim().length&&l.push({type:"text",content:i})}return l.length?l:[{type:"text",content:t}]}function Lt(t){try{return JSON.parse(t)}catch{return null}}function at(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Gl(t){const e=typeof t=="string"?t:JSON.stringify(t,null,2);return at(e).replace(/^(\s*)("[^"]+"?)(:)?(.*)$/gm,(l,n,s,i,o)=>{let a=n||"";if(/^".*"$/.test(s)&&i?a+=`<span class="j-key">${at(s)}</span>${i}`:a+=`<span class="j-lit">${at(s+(i||""))}</span>`,o){const u=o.trim();let _="j-lit";/^".*"[,]?$/.test(u)?_="j-str":/^(true|false|null)[,]?$/.test(u)?_="j-bool":/^-?\d+(\.\d+)?([eE][+-]?\d+)?[,]?$/.test(u)?_="j-num":(/^[\[{]$/.test(u)||/^[\]}][,]?$/.test(u))&&(_="j-brkt"),a+=` <span class="${_}">${at(o)}</span>`}return a})}function Ql(t){if(!t||typeof t!="object")return[];const e=[];for(const[l,n]of Object.entries(t))if(typeof n=="string"&&/\n/.test(n)){let s=n;const i=(s.match(/\\n/g)||[]).length;i&&i>(s.match(/\n/g)||[]).length&&(s=s.replace(/\\n/g,`
`)),s=s.replace(/^\uFEFF/,""),e.push({key:l,value:s})}return e}function Ui(t){return t?t.scrollHeight-t.clientHeight>2:!1}function zi(t,e,l){return Number.isFinite(t)?Math.min(l,Math.max(e,t)):e}function Vi(){return new Promise(t=>requestAnimationFrame(()=>t()))}function Wi(t,e,{align:l="top",offset:n=8}={}){if(!t||!e)return!1;const s=t.getBoundingClientRect(),i=e.getBoundingClientRect();let o=t.scrollTop+(i.top-s.top)-n;if(l==="center"){const a=t.clientHeight/2-i.height/2;o=t.scrollTop+(i.top-s.top)-a}if(Number.isFinite(o)){const a=Math.max(0,t.scrollHeight-t.clientHeight);return o=zi(o,0,a),t.scrollTop=o,requestAnimationFrame(()=>{t.scrollTop=o}),!0}return!1}function Ki(t,e,l){let n,s,i,o,a,f,u;je(t,ds,U=>l(13,u=U));let{current:_}=e,{req:p}=e;function m(U){var ce;if(!U)return"";const X=U.name||((ce=U.function)==null?void 0:ce.name);return(!X||X.toLowerCase()==="none")&&n?"analyze_files_and_patterns":(!X||X.toLowerCase()==="none")&&s&&s.length&&Ft(s[0])?"patch_file":X||"None"}function v(U,X){const ce=Bi(U);if(!X||typeof X!="string")return null;if(ce==="replace_string_in_file"){const $=ns(X);if($)return Pt($)}if(ce==="multi_replace_string_in_file"){const $=ss(X);if($)return Ot($)}if(ce==="manage_todo_list"){const $=is(X);if($)return qt($)}return null}let h={},y=!1,w={},b={};async function S(U,X){if(X)try{await navigator.clipboard.writeText(X),l(6,w={...w,[U]:!0}),clearTimeout(b[U]),b[U]=setTimeout(()=>{l(6,w={...w,[U]:!1})},1400)}catch(ce){console.warn("Failed to copy metadata",U,ce)}}async function I(){if(!f)return;const U=JSON.stringify(f,null,2);try{await navigator.clipboard.writeText(U)}catch{}}let M={};function O(U){const X=M[U]!==!1;l(7,M={...M,[U]:!X})}let A={};function q(U){const X=A[U]||"rendered";l(8,A={...A,[U]:X==="rendered"?"raw":"rendered"})}let F,j;async function T(){var oe;const U=_==null?void 0:_.callIndex;if(U==null)return;await At();const X=document.getElementById(`resp-fncall-${U}`),ce=document.getElementById(`resp-fnresult-${U}`),ie=document.getElementById(`resp-fnhead-${U}`)||((oe=X==null?void 0:X.querySelector)==null?void 0:oe.call(X,".toolcall-head"))||ce||X;if(!ie)return;const V=()=>j&&Ui(j)?Wi(j,ie,{align:"center"}):!1;V()||ie.scrollIntoView({behavior:"auto",block:"center"}),await Vi(),await At(),V()||ie.scrollIntoView({behavior:"auto",block:"center"})}const R=()=>S("type",f.type),E=()=>S("reason",f.reason),L=()=>S("requestId",f.requestId),H=()=>S("serverRequestId",f.serverRequestId),Y=()=>l(5,y=!y),te=(U,X)=>l(4,h[U+"-"+X]=!h[U+"-"+X],h),B=U=>q(U),le=(U,X)=>O(U.id||U.tool_call_id||U.toolCallId||"idx_"+X),re=(U,X)=>O(U.id||U.tool_call_id||U.toolCallId||"idx_"+X);function be(U){Je[U?"unshift":"push"](()=>{j=U,l(9,j)})}return t.$$set=U=>{"current"in U&&l(0,_=U.current),"req"in U&&l(1,p=U.req)},t.$$.update=()=>{var U,X,ce;if(t.$$.dirty[0]&2&&l(3,n=p!=null&&p.requestMessages?p.requestMessages.some($=>$.role==="system"&&Array.isArray($.content)&&$.content.some(ie=>((ie==null?void 0:ie.text)||ie)==="You are an expert at analyzing files and patterns.")):!1),t.$$.dirty[0]&2&&l(21,s=((U=p==null?void 0:p.response)==null?void 0:U.value)||[]),t.$$.dirty[0]&2097160&&l(12,i=n?s.filter($=>Ft($)).flatMap($=>Ji(Hi($))):[]),t.$$.dirty[0]&2097160&&l(2,o=n?s.map($=>Di($)):[]),t.$$.dirty[0]&12&&l(11,a=n&&o.some($=>$.some(ie=>ie.type==="code"))),t.$$.dirty[0]&2&&l(10,f=p!=null&&p.response?{type:p.response.type,reason:p.response.reason,requestId:p.response.requestId,serverRequestId:p.response.serverRequestId}:null),t.$$.dirty[0]&1048579&&p!=null&&p.response&&((X=p.response.copilotFunctionCalls)!=null&&X.length||(ce=p.response.toolCalls)!=null&&ce.length)){const $=`${p.response.requestId||p.response.serverRequestId||""}:${_==null?void 0:_.callIndex}`;$!==F&&(l(20,F=$),T())}},[_,p,o,n,h,y,w,M,A,j,f,a,i,u,m,v,S,I,O,q,F,s,R,E,L,H,Y,te,B,le,re,be]}class Yi extends Qe{constructor(e){super(),Ge(this,e,Ki,Ei,Ee,{current:0,req:1},null,[-1,-1])}}const{Map:Gi}=zn;function Xl(t,e,l){const n=t.slice();return n[37]=e[l][0],n[38]=e[l][1],n}function Zl(t,e,l){const n=t.slice();return n[41]=e[l],n[43]=l,n}function xl(t,e,l){const n=t.slice();return n[44]=e[l],n[46]=l,n}function en(t,e,l){const n=t.slice();return n[47]=e[l],n[43]=l,n}function tn(t,e,l){const n=t.slice();return n[49]=e[l],n}function ln(t,e,l){const n=t.slice();return n[52]=e[l],n}function nn(t,e,l){const n=t.slice();return n[47]=e[l],n[43]=l,n}function sn(t,e,l){const n=t.slice();return n[49]=e[l],n}function on(t,e,l){const n=t.slice();return n[52]=e[l],n}function Qi(t){var pe,ve,ge,ae;let e,l,n,s,i,o=(((pe=t[0])==null?void 0:pe.name)||"default agent")+"",a,f,u=t[1]&&t[1].trim(),_,p,m,v,h=(((ge=(ve=t[0])==null?void 0:ve.response)==null?void 0:ge.requestId)||"N/A")+"",y,w,b,S,I=(((ae=t[0])==null?void 0:ae.model)||"Unknown")+"",M,O,A,q,F,j,T,R,E,L,H,Y,te,B,le,re,be,U,X,ce,$,ie,V,oe,me,Ie,W=u&&rn(t);function z(J,ee){return J[4]?lo:J[3]?to:eo}let Re=z(t),Ce=Re(t),ue=t[17].length&&an(t),D=t[16].length&&dn(t),Z=t[12].length&&vn(t),G=t[14].length&&bn(t);function Q(J,ee){var ye;return(ye=J[0])!=null&&ye.requestOptions?zo:Uo}let de=Q(t),fe=de(t);return V=new Yi({props:{current:t[2],req:t[0]}}),{c(){e=d("div"),l=d("header"),n=d("div"),s=d("span"),i=N("Agent: "),a=N(o),f=C(),W&&W.c(),_=C(),p=d("div"),m=d("span"),v=N("Request ID: "),y=N(h),w=C(),b=d("span"),S=N("Model: "),M=N(I),O=C(),A=d("div"),q=d("button"),Ce.c(),T=C(),R=d("section"),E=d("header"),E.innerHTML='<h2 class="svelte-173f7ix">Request Detail</h2> <div class="section-meta svelte-173f7ix"><span class="section-info svelte-173f7ix">Messages, Tools &amp; Options</span></div>',L=C(),ue&&ue.c(),H=C(),D&&D.c(),Y=C(),Z&&Z.c(),te=C(),B=d("section"),le=d("details"),re=d("summary"),be=d("span"),U=d("h3"),X=N("Request Options "),G&&G.c(),ce=C(),$=d("div"),fe.c(),ie=C(),Ve(V.$$.fragment),r(s,"class","agent-info svelte-173f7ix"),r(m,"class","rid svelte-173f7ix"),r(b,"class","model-info svelte-173f7ix"),r(p,"class","hdr-subline svelte-173f7ix"),r(n,"class","hdr-left svelte-173f7ix"),r(q,"class","copy-raw-btn svelte-173f7ix"),r(q,"aria-label","Copy raw request and response"),q.disabled=F=!t[0],r(A,"class","actions svelte-173f7ix"),r(l,"class",j="hdr "+(t[18]?"compact":"")+" svelte-173f7ix"),r(E,"class","section-header svelte-173f7ix"),r(be,"class","caret svelte-173f7ix"),r(U,"class","svelte-173f7ix"),r(re,"class","svelte-173f7ix"),r($,"class","collapsible-body svelte-173f7ix"),r(le,"class","collapsible svelte-173f7ix"),r(le,"data-role","options"),r(le,"aria-label","Request options group"),r(B,"class","group options-group svelte-173f7ix"),r(R,"class","main-section request-section svelte-173f7ix"),r(e,"class","panel detail-panel svelte-173f7ix")},m(J,ee){k(J,e,ee),c(e,l),c(l,n),c(n,s),c(s,i),c(s,a),c(n,f),W&&W.m(n,null),c(n,_),c(n,p),c(p,m),c(m,v),c(m,y),c(p,w),c(p,b),c(b,S),c(b,M),c(l,O),c(l,A),c(A,q),Ce.m(q,null),c(e,T),c(e,R),c(R,E),c(R,L),ue&&ue.m(R,null),c(R,H),D&&D.m(R,null),c(R,Y),Z&&Z.m(R,null),c(R,te),c(R,B),c(B,le),c(le,re),c(re,be),c(re,U),c(U,X),G&&G.m(U,null),c(le,ce),c(le,$),fe.m($,null),c(e,ie),$e(V,e,null),oe=!0,me||(Ie=ne(q,"click",t[19]),me=!0)},p(J,ee){var Ae,he,x,Se;(!oe||ee[0]&1)&&o!==(o=(((Ae=J[0])==null?void 0:Ae.name)||"default agent")+"")&&P(a,o),ee[0]&2&&(u=J[1]&&J[1].trim()),u?W?W.p(J,ee):(W=rn(J),W.c(),W.m(n,_)):W&&(W.d(1),W=null),(!oe||ee[0]&1)&&h!==(h=(((x=(he=J[0])==null?void 0:he.response)==null?void 0:x.requestId)||"N/A")+"")&&P(y,h),(!oe||ee[0]&1)&&I!==(I=(((Se=J[0])==null?void 0:Se.model)||"Unknown")+"")&&P(M,I),Re!==(Re=z(J))&&(Ce.d(1),Ce=Re(J),Ce&&(Ce.c(),Ce.m(q,null))),(!oe||ee[0]&1&&F!==(F=!J[0]))&&(q.disabled=F),(!oe||ee[0]&262144&&j!==(j="hdr "+(J[18]?"compact":"")+" svelte-173f7ix"))&&r(l,"class",j),J[17].length?ue?ue.p(J,ee):(ue=an(J),ue.c(),ue.m(R,H)):ue&&(ue.d(1),ue=null),J[16].length?D?D.p(J,ee):(D=dn(J),D.c(),D.m(R,Y)):D&&(D.d(1),D=null),J[12].length?Z?Z.p(J,ee):(Z=vn(J),Z.c(),Z.m(R,te)):Z&&(Z.d(1),Z=null),J[14].length?G?G.p(J,ee):(G=bn(J),G.c(),G.m(U,null)):G&&(G.d(1),G=null),de===(de=Q(J))&&fe?fe.p(J,ee):(fe.d(1),fe=de(J),fe&&(fe.c(),fe.m($,null)));const ye={};ee[0]&4&&(ye.current=J[2]),ee[0]&1&&(ye.req=J[0]),V.$set(ye)},i(J){oe||(ke(V.$$.fragment,J),oe=!0)},o(J){we(V.$$.fragment,J),oe=!1},d(J){J&&g(e),W&&W.d(),Ce.d(),ue&&ue.d(),D&&D.d(),Z&&Z.d(),G&&G.d(),fe.d(),Be(V),me=!1,Ie()}}}function Xi(t){let e;return{c(){e=d("div"),e.textContent="No selection.",r(e,"class","panel")},m(l,n){k(l,e,n)},p:K,i:K,o:K,d(l){l&&g(e)}}}function rn(t){let e,l,n,s,i,o=t[5]?"Collapse":"Expand",a,f,u,_,p;function m(y,w){return y[5]?xi:Zi}let v=m(t),h=v(t);return{c(){e=d("div"),l=d("div"),n=d("span"),n.textContent="Prompt",s=C(),i=d("button"),a=N(o),f=C(),h.c(),r(n,"class","agent-prompt-label svelte-173f7ix"),r(i,"class","raw-toggle-btn prompt-toggle-btn svelte-173f7ix"),r(i,"type","button"),r(l,"class","agent-prompt-head svelte-173f7ix"),r(e,"class","agent-prompt svelte-173f7ix"),r(e,"data-expanded",u=t[5]?"true":"false")},m(y,w){k(y,e,w),c(e,l),c(l,n),c(l,s),c(l,i),c(i,a),c(e,f),h.m(e,null),_||(p=ne(i,"click",t[27]),_=!0)},p(y,w){w[0]&32&&o!==(o=y[5]?"Collapse":"Expand")&&P(a,o),v===(v=m(y))&&h?h.p(y,w):(h.d(1),h=v(y),h&&(h.c(),h.m(e,null))),w[0]&32&&u!==(u=y[5]?"true":"false")&&r(e,"data-expanded",u)},d(y){y&&g(e),h.d(),_=!1,p()}}}function Zi(t){let e,l=t[15].preview+"",n;return{c(){e=d("div"),n=N(l),r(e,"class","code-block agent-prompt-body preview svelte-173f7ix"),r(e,"title",t[1])},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&32768&&l!==(l=s[15].preview+"")&&P(n,l),i[0]&2&&r(e,"title",s[1])},d(s){s&&g(e)}}}function xi(t){let e,l;return{c(){e=d("pre"),l=N(t[1]),r(e,"class","code-block agent-prompt-body full svelte-173f7ix")},m(n,s){k(n,e,s),c(e,l)},p(n,s){s[0]&2&&P(l,n[1])},d(n){n&&g(e)}}}function eo(t){let e;return{c(){e=d("span"),e.textContent="‚ßâ Copy Raw",r(e,"class","svelte-173f7ix")},m(l,n){k(l,e,n)},d(l){l&&g(e)}}}function to(t){let e;return{c(){e=d("span"),e.textContent="‚úì Copied",r(e,"class","svelte-173f7ix")},m(l,n){k(l,e,n)},d(l){l&&g(e)}}}function lo(t){let e;return{c(){e=d("span"),e.textContent="‚ö†Ô∏è Error",r(e,"class","svelte-173f7ix")},m(l,n){k(l,e,n)},d(l){l&&g(e)}}}function an(t){let e,l,n,s,i,o,a=t[17].length>1?"s":"",f,u,_,p=t[17].length+"",m,v,h,y=se(t[17]),w=[];for(let b=0;b<y.length;b+=1)w[b]=un(nn(t,y,b));return{c(){e=d("section"),l=d("details"),n=d("summary"),s=d("span"),i=d("h3"),o=N("System Prompt"),f=N(a),u=C(),_=d("span"),m=N(p),v=C(),h=d("div");for(let b=0;b<w.length;b+=1)w[b].c();r(s,"class","caret svelte-173f7ix"),r(_,"class","count-badge svelte-173f7ix"),r(i,"class","svelte-173f7ix"),r(n,"class","svelte-173f7ix"),r(h,"class","collapsible-body svelte-173f7ix"),r(l,"class","collapsible svelte-173f7ix"),r(l,"data-role","system"),r(l,"aria-label","System prompts group"),r(e,"class","group system-group svelte-173f7ix")},m(b,S){k(b,e,S),c(e,l),c(l,n),c(n,s),c(n,i),c(i,o),c(i,f),c(i,u),c(i,_),c(_,m),c(l,v),c(l,h);for(let I=0;I<w.length;I+=1)w[I]&&w[I].m(h,null)},p(b,S){if(S[0]&131072&&a!==(a=b[17].length>1?"s":"")&&P(f,a),S[0]&131072&&p!==(p=b[17].length+"")&&P(m,p),S[0]&5376512){y=se(b[17]);let I;for(I=0;I<y.length;I+=1){const M=nn(b,y,I);w[I]?w[I].p(M,S):(w[I]=un(M),w[I].c(),w[I].m(h,null))}for(;I<w.length;I+=1)w[I].d(1);w.length=y.length}},d(b){b&&g(e),Ne(w,b)}}}function no(t){let e;return{c(){e=d("em"),e.textContent="Empty",r(e,"class","text-soft")},m(l,n){k(l,e,n)},p:K,d(l){l&&g(e)}}}function so(t){let e,l=se(Array.isArray(t[47].content)?t[47].content:[t[47].content]),n=[];for(let s=0;s<l.length;s+=1)n[s]=fn(sn(t,l,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=_e()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);k(s,e,i)},p(s,i){if(i[0]&131072){l=se(Array.isArray(s[47].content)?s[47].content:[s[47].content]);let o;for(o=0;o<l.length;o+=1){const a=sn(s,l,o);n[o]?n[o].p(a,i):(n[o]=fn(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(s){s&&g(e),Ne(n,s)}}}function io(t){let e,l,n,s=t[11]==="sys-"+t[43]?"Copied":"Copy",i,o,a,f=it(t[47])+"",u,_,p;function m(...v){return t[29](t[43],t[47],...v)}return{c(){e=d("div"),l=d("div"),n=d("button"),i=N(s),o=C(),a=d("pre"),u=N(f),r(n,"class","copy-raw-inline svelte-173f7ix"),r(n,"type","button"),r(l,"class","raw-inline-actions svelte-173f7ix"),r(a,"class","code-block raw-full-inline svelte-173f7ix"),r(e,"class","raw-inline svelte-173f7ix")},m(v,h){k(v,e,h),c(e,l),c(l,n),c(n,i),c(e,o),c(e,a),c(a,u),_||(p=ne(n,"click",m),_=!0)},p(v,h){t=v,h[0]&2048&&s!==(s=t[11]==="sys-"+t[43]?"Copied":"Copy")&&P(i,s),h[0]&131072&&f!==(f=it(t[47])+"")&&P(u,f)},d(v){v&&g(e),_=!1,p()}}}function oo(t){let e,l=(t[49].text?t[49].text:JSON.stringify(t[49],null,2))+"",n;return{c(){e=d("pre"),n=N(l),r(e,"class","code-block svelte-173f7ix")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&131072&&l!==(l=(s[49].text?s[49].text:JSON.stringify(s[49],null,2))+"")&&P(n,l)},d(s){s&&g(e)}}}function ro(t){let e,l=se(mt(typeof t[49]=="string"?t[49]:t[49].text)),n=[];for(let s=0;s<l.length;s+=1)n[s]=cn(on(t,l,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=_e()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);k(s,e,i)},p(s,i){if(i[0]&131072){l=se(mt(typeof s[49]=="string"?s[49]:s[49].text));let o;for(o=0;o<l.length;o+=1){const a=on(s,l,o);n[o]?n[o].p(a,i):(n[o]=cn(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(s){s&&g(e),Ne(n,s)}}}function ao(t){let e,l=t[52].content+"",n;return{c(){e=d("pre"),n=N(l),r(e,"class","code-block svelte-173f7ix")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&131072&&l!==(l=s[52].content+"")&&P(n,l)},d(s){s&&g(e)}}}function co(t){let e,l,n,s,i,o,a,f=t[52].content+"",u,_;return{c(){e=d("div"),l=d("div"),l.innerHTML='Attachments <span class="inline-note svelte-173f7ix">toggle to view</span>',n=C(),s=d("details"),i=d("summary"),i.textContent="Show / Hide Attachments Content",o=C(),a=d("pre"),u=N(f),_=C(),r(l,"class","special-block-header svelte-173f7ix"),r(i,"class","svelte-173f7ix"),r(a,"class","code-block special attachments-pre svelte-173f7ix"),r(s,"class","attachments-toggle svelte-173f7ix"),s.open=!0,r(e,"class","special-block attachments-block svelte-173f7ix"),r(e,"aria-label","Attachments")},m(p,m){k(p,e,m),c(e,l),c(e,n),c(e,s),c(s,i),c(s,o),c(s,a),c(a,u),c(e,_)},p(p,m){m[0]&131072&&f!==(f=p[52].content+"")&&P(u,f)},d(p){p&&g(e)}}}function fo(t){let e,l,n,s,i=t[52].content+"",o,a;return{c(){e=d("div"),l=d("div"),l.textContent="Apply Patch Instructions",n=C(),s=d("pre"),o=N(i),a=C(),r(l,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block applypatch-block svelte-173f7ix"),r(e,"aria-label","Apply Patch Instructions")},m(f,u){k(f,e,u),c(e,l),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&P(o,i)},d(f){f&&g(e)}}}function uo(t){let e,l,n,s,i=t[52].content+"",o,a;return{c(){e=d("div"),l=d("div"),l.textContent="Output Formatting",n=C(),s=d("pre"),o=N(i),a=C(),r(l,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block outputfmt-block svelte-173f7ix"),r(e,"aria-label","Output Formatting")},m(f,u){k(f,e,u),c(e,l),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&P(o,i)},d(f){f&&g(e)}}}function po(t){let e,l,n,s,i=t[52].content+"",o,a;return{c(){e=d("div"),l=d("div"),l.textContent="Notebook Instructions",n=C(),s=d("pre"),o=N(i),a=C(),r(l,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block notebook-block svelte-173f7ix"),r(e,"aria-label","Notebook Instructions")},m(f,u){k(f,e,u),c(e,l),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&P(o,i)},d(f){f&&g(e)}}}function _o(t){let e,l,n,s,i=t[52].content+"",o,a;return{c(){e=d("div"),l=d("div"),l.textContent="Tool Use Instructions",n=C(),s=d("pre"),o=N(i),a=C(),r(l,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block tooluse-block svelte-173f7ix"),r(e,"aria-label","Tool Use Instructions")},m(f,u){k(f,e,u),c(e,l),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&P(o,i)},d(f){f&&g(e)}}}function mo(t){let e,l,n,s,i=t[52].content+"",o,a;return{c(){e=d("div"),l=d("div"),l.textContent="Instructions",n=C(),s=d("pre"),o=N(i),a=C(),r(l,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block instr-block svelte-173f7ix"),r(e,"aria-label","Instructions")},m(f,u){k(f,e,u),c(e,l),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&P(o,i)},d(f){f&&g(e)}}}function vo(t){let e,l,n,s,i=t[52].content+"",o,a;return{c(){e=d("div"),l=d("div"),l.textContent="User Request",n=C(),s=d("pre"),o=N(i),a=C(),r(l,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block userreq-block svelte-173f7ix"),r(e,"aria-label","User Request")},m(f,u){k(f,e,u),c(e,l),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&P(o,i)},d(f){f&&g(e)}}}function ho(t){let e,l,n,s,i=t[52].content+"",o,a;return{c(){e=d("div"),l=d("div"),l.textContent="Reminder Instructions",n=C(),s=d("pre"),o=N(i),a=C(),r(l,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block reminder-block svelte-173f7ix"),r(e,"aria-label","Reminder Instructions")},m(f,u){k(f,e,u),c(e,l),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&P(o,i)},d(f){f&&g(e)}}}function bo(t){let e,l,n,s,i=t[52].content+"",o,a;return{c(){e=d("div"),l=d("div"),l.textContent="Context",n=C(),s=d("pre"),o=N(i),a=C(),r(l,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block ctx-block svelte-173f7ix"),r(e,"aria-label","Context Block")},m(f,u){k(f,e,u),c(e,l),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&P(o,i)},d(f){f&&g(e)}}}function go(t){let e,l,n,s,i=vt(t[52].content)+"",o,a;return{c(){e=d("div"),l=d("div"),l.textContent="Workspace Info",n=C(),s=d("pre"),o=N(i),a=C(),r(l,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block ws-block svelte-173f7ix"),r(e,"aria-label","Workspace Info")},m(f,u){k(f,e,u),c(e,l),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=vt(f[52].content)+"")&&P(o,i)},d(f){f&&g(e)}}}function ko(t){let e,l,n,s,i=t[52].content+"",o,a;return{c(){e=d("div"),l=d("div"),l.textContent="Environment Info",n=C(),s=d("pre"),o=N(i),a=C(),r(l,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block env-block svelte-173f7ix"),r(e,"aria-label","Environment Info")},m(f,u){k(f,e,u),c(e,l),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&P(o,i)},d(f){f&&g(e)}}}function cn(t){let e;function l(i,o){return i[52].kind==="environment"?ko:i[52].kind==="workspace"?go:i[52].kind==="context"?bo:i[52].kind==="reminder"?ho:i[52].kind==="userreq"?vo:i[52].kind==="instructions"?mo:i[52].kind==="tooluse"?_o:i[52].kind==="notebook"?po:i[52].kind==="outputfmt"?uo:i[52].kind==="applypatch"?fo:i[52].kind==="attachments"?co:ao}let n=l(t),s=n(t);return{c(){s.c(),e=_e()},m(i,o){s.m(i,o),k(i,e,o)},p(i,o){n===(n=l(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&g(e),s.d(i)}}}function fn(t){let e,l;function n(o,a){var f;return a[0]&131072&&(e=null),e==null&&(e=!!(typeof o[49]=="string"||(f=o[49])!=null&&f.text&&Hn.test(o[49].text))),e?ro:oo}let s=n(t,[-1,-1]),i=s(t);return{c(){i.c(),l=_e()},m(o,a){i.m(o,a),k(o,l,a)},p(o,a){s===(s=n(o,a))&&i?i.p(o,a):(i.d(1),i=s(o),i&&(i.c(),i.m(l.parentNode,l)))},d(o){o&&g(l),i.d(o)}}}function un(t){let e,l,n,s,i=(t[17].length>1?t[43]+1:"")+"",o,a,f,u,_,p=t[9][t[43]]?"Show Beautified":"Show Original",m,v,h,y,w,b;function S(...A){return t[28](t[43],...A)}function I(A,q){var F;return A[9][A[43]]?io:(F=A[47].content)!=null&&F.length?so:no}let M=I(t),O=M(t);return{c(){e=d("section"),l=d("header"),n=d("h4"),s=N("System Prompt "),o=N(i),a=C(),f=d("span"),f.textContent="system",u=C(),_=d("button"),m=N(p),h=C(),O.c(),y=C(),r(n,"class","svelte-173f7ix"),r(f,"class","role-tag svelte-173f7ix"),r(_,"class","raw-toggle-btn svelte-173f7ix"),r(_,"type","button"),r(_,"data-debug",v=t[9][t[43]]?"open":"closed"),r(l,"class","msg-head svelte-173f7ix"),r(e,"class","msg-section role-system svelte-173f7ix")},m(A,q){k(A,e,q),c(e,l),c(l,n),c(n,s),c(n,o),c(l,a),c(l,f),c(l,u),c(l,_),c(_,m),c(e,h),O.m(e,null),c(e,y),w||(b=ne(_,"click",S),w=!0)},p(A,q){t=A,q[0]&131072&&i!==(i=(t[17].length>1?t[43]+1:"")+"")&&P(o,i),q[0]&512&&p!==(p=t[9][t[43]]?"Show Beautified":"Show Original")&&P(m,p),q[0]&512&&v!==(v=t[9][t[43]]?"open":"closed")&&r(_,"data-debug",v),M===(M=I(t))&&O?O.p(t,q):(O.d(1),O=M(t),O&&(O.c(),O.m(e,y)))},d(A){A&&g(e),O.d(),w=!1,b()}}}function dn(t){let e,l,n,s,i,o,a=t[16].length>1?"s":"",f,u,_,p=t[16].length+"",m,v,h,y=se(t[16]),w=[];for(let b=0;b<y.length;b+=1)w[b]=mn(en(t,y,b));return{c(){e=d("section"),l=d("details"),n=d("summary"),s=d("span"),i=d("h3"),o=N("User Prompt"),f=N(a),u=C(),_=d("span"),m=N(p),v=C(),h=d("div");for(let b=0;b<w.length;b+=1)w[b].c();r(s,"class","caret svelte-173f7ix"),r(_,"class","count-badge svelte-173f7ix"),r(i,"class","svelte-173f7ix"),r(n,"class","svelte-173f7ix"),r(h,"class","collapsible-body user-prompts-wrapper svelte-173f7ix"),r(l,"class","collapsible svelte-173f7ix"),r(l,"data-role","user"),r(l,"aria-label","User prompts group"),r(e,"class","group user-group svelte-173f7ix")},m(b,S){k(b,e,S),c(e,l),c(l,n),c(n,s),c(n,i),c(i,o),c(i,f),c(i,u),c(i,_),c(_,m),c(l,v),c(l,h);for(let I=0;I<w.length;I+=1)w[I]&&w[I].m(h,null)},p(b,S){if(S[0]&65536&&a!==(a=b[16].length>1?"s":"")&&P(f,a),S[0]&65536&&p!==(p=b[16].length+"")&&P(m,p),S[0]&6360064){y=se(b[16]);let I;for(I=0;I<y.length;I+=1){const M=en(b,y,I);w[I]?w[I].p(M,S):(w[I]=mn(M),w[I].c(),w[I].m(h,null))}for(;I<w.length;I+=1)w[I].d(1);w.length=y.length}},d(b){b&&g(e),Ne(w,b)}}}function yo(t){let e;return{c(){e=d("em"),e.textContent="Empty",r(e,"class","text-soft")},m(l,n){k(l,e,n)},p:K,d(l){l&&g(e)}}}function wo(t){let e,l=se(Array.isArray(t[47].content)?t[47].content:[t[47].content]),n=[];for(let s=0;s<l.length;s+=1)n[s]=_n(tn(t,l,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=_e()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);k(s,e,i)},p(s,i){if(i[0]&65536){l=se(Array.isArray(s[47].content)?s[47].content:[s[47].content]);let o;for(o=0;o<l.length;o+=1){const a=tn(s,l,o);n[o]?n[o].p(a,i):(n[o]=_n(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(s){s&&g(e),Ne(n,s)}}}function Io(t){let e,l,n,s=t[11]==="user-"+t[43]?"Copied":"Copy",i,o,a,f=it(t[47])+"",u,_,p;function m(...v){return t[31](t[43],t[47],...v)}return{c(){e=d("div"),l=d("div"),n=d("button"),i=N(s),o=C(),a=d("pre"),u=N(f),r(n,"class","copy-raw-inline svelte-173f7ix"),r(n,"type","button"),r(l,"class","raw-inline-actions svelte-173f7ix"),r(a,"class","code-block raw-full-inline svelte-173f7ix"),r(e,"class","raw-inline svelte-173f7ix")},m(v,h){k(v,e,h),c(e,l),c(l,n),c(n,i),c(e,o),c(e,a),c(a,u),_||(p=ne(n,"click",m),_=!0)},p(v,h){t=v,h[0]&2048&&s!==(s=t[11]==="user-"+t[43]?"Copied":"Copy")&&P(i,s),h[0]&65536&&f!==(f=it(t[47])+"")&&P(u,f)},d(v){v&&g(e),_=!1,p()}}}function Co(t){let e,l=(t[49].text?t[49].text:JSON.stringify(t[49],null,4))+"",n;return{c(){e=d("pre"),n=N(l),r(e,"class","code-block svelte-173f7ix")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&65536&&l!==(l=(s[49].text?s[49].text:JSON.stringify(s[49],null,4))+"")&&P(n,l)},d(s){s&&g(e)}}}function So(t){let e,l=se(mt(typeof t[49]=="string"?t[49]:t[49].text)),n=[];for(let s=0;s<l.length;s+=1)n[s]=pn(ln(t,l,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=_e()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);k(s,e,i)},p(s,i){if(i[0]&65536){l=se(mt(typeof s[49]=="string"?s[49]:s[49].text));let o;for(o=0;o<l.length;o+=1){const a=ln(s,l,o);n[o]?n[o].p(a,i):(n[o]=pn(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(s){s&&g(e),Ne(n,s)}}}function No(t){let e,l=t[52].content+"",n;return{c(){e=d("pre"),n=N(l),r(e,"class","code-block svelte-173f7ix")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&65536&&l!==(l=s[52].content+"")&&P(n,l)},d(s){s&&g(e)}}}function jo(t){let e,l,n,s,i,o,a,f=t[52].content+"",u,_;return{c(){e=d("div"),l=d("div"),l.innerHTML='Attachments <span class="inline-note svelte-173f7ix">toggle to view</span>',n=C(),s=d("details"),i=d("summary"),i.textContent="Show / Hide Attachments Content",o=C(),a=d("pre"),u=N(f),_=C(),r(l,"class","special-block-header svelte-173f7ix"),r(i,"class","svelte-173f7ix"),r(a,"class","code-block special attachments-pre svelte-173f7ix"),r(s,"class","attachments-toggle svelte-173f7ix"),s.open=!0,r(e,"class","special-block attachments-block svelte-173f7ix"),r(e,"aria-label","Attachments")},m(p,m){k(p,e,m),c(e,l),c(e,n),c(e,s),c(s,i),c(s,o),c(s,a),c(a,u),c(e,_)},p(p,m){m[0]&65536&&f!==(f=p[52].content+"")&&P(u,f)},d(p){p&&g(e)}}}function Ro(t){let e,l,n,s,i=t[52].content+"",o,a;return{c(){e=d("div"),l=d("div"),l.textContent="Apply Patch Instructions",n=C(),s=d("pre"),o=N(i),a=C(),r(l,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block applypatch-block svelte-173f7ix"),r(e,"aria-label","Apply Patch Instructions")},m(f,u){k(f,e,u),c(e,l),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&P(o,i)},d(f){f&&g(e)}}}function Ao(t){let e,l,n,s,i=t[52].content+"",o,a;return{c(){e=d("div"),l=d("div"),l.textContent="Output Formatting",n=C(),s=d("pre"),o=N(i),a=C(),r(l,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block outputfmt-block svelte-173f7ix"),r(e,"aria-label","Output Formatting")},m(f,u){k(f,e,u),c(e,l),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&P(o,i)},d(f){f&&g(e)}}}function To(t){let e,l,n,s,i=t[52].content+"",o,a;return{c(){e=d("div"),l=d("div"),l.textContent="Notebook Instructions",n=C(),s=d("pre"),o=N(i),a=C(),r(l,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block notebook-block svelte-173f7ix"),r(e,"aria-label","Notebook Instructions")},m(f,u){k(f,e,u),c(e,l),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&P(o,i)},d(f){f&&g(e)}}}function Oo(t){let e,l,n,s,i=t[52].content+"",o,a;return{c(){e=d("div"),l=d("div"),l.textContent="Tool Use Instructions",n=C(),s=d("pre"),o=N(i),a=C(),r(l,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block tooluse-block svelte-173f7ix"),r(e,"aria-label","Tool Use Instructions")},m(f,u){k(f,e,u),c(e,l),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&P(o,i)},d(f){f&&g(e)}}}function qo(t){let e,l,n,s,i=t[52].content+"",o,a;return{c(){e=d("div"),l=d("div"),l.textContent="Instructions",n=C(),s=d("pre"),o=N(i),a=C(),r(l,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block instr-block svelte-173f7ix"),r(e,"aria-label","Instructions")},m(f,u){k(f,e,u),c(e,l),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&P(o,i)},d(f){f&&g(e)}}}function Po(t){let e,l,n,s,i=t[52].content+"",o,a;return{c(){e=d("div"),l=d("div"),l.textContent="User Request",n=C(),s=d("pre"),o=N(i),a=C(),r(l,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block userreq-block svelte-173f7ix"),r(e,"aria-label","User Request")},m(f,u){k(f,e,u),c(e,l),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&P(o,i)},d(f){f&&g(e)}}}function Fo(t){let e,l,n,s,i=t[52].content+"",o,a;return{c(){e=d("div"),l=d("div"),l.textContent="Reminder Instructions",n=C(),s=d("pre"),o=N(i),a=C(),r(l,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block reminder-block svelte-173f7ix"),r(e,"aria-label","Reminder Instructions")},m(f,u){k(f,e,u),c(e,l),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&P(o,i)},d(f){f&&g(e)}}}function Lo(t){let e,l,n,s,i=t[52].content+"",o,a;return{c(){e=d("div"),l=d("div"),l.textContent="Context",n=C(),s=d("pre"),o=N(i),a=C(),r(l,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block ctx-block svelte-173f7ix"),r(e,"aria-label","Context Block")},m(f,u){k(f,e,u),c(e,l),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&P(o,i)},d(f){f&&g(e)}}}function Mo(t){let e,l,n,s,i=vt(t[52].content)+"",o,a;return{c(){e=d("div"),l=d("div"),l.textContent="Workspace Info",n=C(),s=d("pre"),o=N(i),a=C(),r(l,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block ws-block svelte-173f7ix"),r(e,"aria-label","Workspace Info")},m(f,u){k(f,e,u),c(e,l),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=vt(f[52].content)+"")&&P(o,i)},d(f){f&&g(e)}}}function Eo(t){let e,l,n,s,i=t[52].content+"",o,a;return{c(){e=d("div"),l=d("div"),l.textContent="Environment Info",n=C(),s=d("pre"),o=N(i),a=C(),r(l,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block env-block svelte-173f7ix"),r(e,"aria-label","Environment Info")},m(f,u){k(f,e,u),c(e,l),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&P(o,i)},d(f){f&&g(e)}}}function pn(t){let e;function l(i,o){return i[52].kind==="environment"?Eo:i[52].kind==="workspace"?Mo:i[52].kind==="context"?Lo:i[52].kind==="reminder"?Fo:i[52].kind==="userreq"?Po:i[52].kind==="instructions"?qo:i[52].kind==="tooluse"?Oo:i[52].kind==="notebook"?To:i[52].kind==="outputfmt"?Ao:i[52].kind==="applypatch"?Ro:i[52].kind==="attachments"?jo:No}let n=l(t),s=n(t);return{c(){s.c(),e=_e()},m(i,o){s.m(i,o),k(i,e,o)},p(i,o){n===(n=l(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&g(e),s.d(i)}}}function _n(t){let e,l;function n(o,a){var f;return a[0]&65536&&(e=null),e==null&&(e=!!(typeof o[49]=="string"||(f=o[49])!=null&&f.text&&Hn.test(o[49].text))),e?So:Co}let s=n(t,[-1,-1]),i=s(t);return{c(){i.c(),l=_e()},m(o,a){i.m(o,a),k(o,l,a)},p(o,a){s===(s=n(o,a))&&i?i.p(o,a):(i.d(1),i=s(o),i&&(i.c(),i.m(l.parentNode,l)))},d(o){o&&g(l),i.d(o)}}}function mn(t){let e,l,n,s,i,o,a=(t[16].length>1?t[43]+1:"")+"",f,u,_,p,m,v=t[10][t[43]]?"Hide Original":"Show Original",h,y,w,b,S,I,M;function O(...j){return t[30](t[43],...j)}function A(j,T){var R;return j[10][j[43]]?Io:(R=j[47].content)!=null&&R.length?wo:yo}let q=A(t),F=q(t);return{c(){e=d("details"),l=d("summary"),n=d("span"),s=C(),i=d("h4"),o=N("User Prompt "),f=N(a),u=C(),_=d("span"),_.textContent="user",p=C(),m=d("button"),h=N(v),w=C(),b=d("div"),F.c(),S=C(),r(n,"class","mini-caret svelte-173f7ix"),r(i,"class","svelte-173f7ix"),r(_,"class","role-tag svelte-173f7ix"),r(m,"class","raw-toggle-btn inline svelte-173f7ix"),r(m,"type","button"),r(m,"data-debug",y=t[10][t[43]]?"open":"closed"),r(l,"class","svelte-173f7ix"),r(b,"class","prompt-body svelte-173f7ix"),r(e,"class","prompt-collapsible role-user svelte-173f7ix"),r(e,"data-kind","user-prompt")},m(j,T){k(j,e,T),c(e,l),c(l,n),c(l,s),c(l,i),c(i,o),c(i,f),c(l,u),c(l,_),c(l,p),c(l,m),c(m,h),c(e,w),c(e,b),F.m(b,null),c(e,S),I||(M=ne(m,"click",O),I=!0)},p(j,T){t=j,T[0]&65536&&a!==(a=(t[16].length>1?t[43]+1:"")+"")&&P(f,a),T[0]&1024&&v!==(v=t[10][t[43]]?"Hide Original":"Show Original")&&P(h,v),T[0]&1024&&y!==(y=t[10][t[43]]?"open":"closed")&&r(m,"data-debug",y),q===(q=A(t))&&F?F.p(t,T):(F.d(1),F=q(t),F&&(F.c(),F.m(b,null)))},d(j){j&&g(e),F.d(),I=!1,M()}}}function vn(t){let e,l,n,s,i,o,a,f=t[12].length+"",u,_,p,m,v=[],h=new Gi,y=se(t[12]);const w=b=>b[44].id+"-"+b[46];for(let b=0;b<y.length;b+=1){let S=xl(t,y,b),I=w(S);h.set(I,v[b]=hn(I,S))}return{c(){e=d("section"),l=d("details"),n=d("summary"),s=d("span"),i=d("h3"),o=N("Tool Calls "),a=d("span"),u=N(f),_=C(),p=d("div"),m=d("div");for(let b=0;b<v.length;b+=1)v[b].c();r(s,"class","caret svelte-173f7ix"),r(a,"class","count-badge svelte-173f7ix"),r(i,"class","svelte-173f7ix"),r(n,"class","svelte-173f7ix"),r(m,"class","tool-call-pairs-wrapper svelte-173f7ix"),r(p,"class","collapsible-body tool-calls-body svelte-173f7ix"),r(p,"role","region"),r(p,"aria-label","Tool call pairs"),r(l,"class","collapsible svelte-173f7ix"),r(l,"data-role","tool-calls"),r(l,"aria-label","Tool calls group"),r(e,"class","group tool-calls-group svelte-173f7ix")},m(b,S){k(b,e,S),c(e,l),c(l,n),c(n,s),c(n,i),c(i,o),c(i,a),c(a,u),c(l,_),c(l,p),c(p,m);for(let I=0;I<v.length;I+=1)v[I]&&v[I].m(m,null)},p(b,S){S[0]&4096&&f!==(f=b[12].length+"")&&P(u,f),S[0]&4096&&(y=se(b[12]),v=xn(v,S,w,1,b,y,h,m,Zn,hn,null,xl))},d(b){b&&g(e);for(let S=0;S<v.length;S+=1)v[S].d()}}}function Ho(t){let e;return{c(){e=d("em"),e.textContent="None",r(e,"class","text-soft")},m(l,n){k(l,e,n)},p:K,d(l){l&&g(e)}}}function Jo(t){let e,l=t[44].argumentsRaw+"",n;return{c(){e=d("pre"),n=N(l),r(e,"class","code-block small svelte-173f7ix")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&4096&&l!==(l=s[44].argumentsRaw+"")&&P(n,l)},d(s){s&&g(e)}}}function $o(t){let e,l=JSON.stringify(t[44].argumentsParsed,null,2)+"",n;return{c(){e=d("pre"),n=N(l),r(e,"class","code-block small svelte-173f7ix")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&4096&&l!==(l=JSON.stringify(s[44].argumentsParsed,null,2)+"")&&P(n,l)},d(s){s&&g(e)}}}function Bo(t){let e;return{c(){e=d("em"),e.textContent="No output found",r(e,"class","text-soft")},m(l,n){k(l,e,n)},p:K,d(l){l&&g(e)}}}function Do(t){let e,l=t[44].output+"",n;return{c(){e=d("pre"),n=N(l),r(e,"class","code-block small svelte-173f7ix")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&4096&&l!==(l=s[44].output+"")&&P(n,l)},d(s){s&&g(e)}}}function hn(t,e){let l,n,s,i,o,a=(e[44].name||"Unnamed Tool")+"",f,u=e[44].id?` (${e[44].id})`:"",_,p,m,v,h,y,w,b,S,I,M,O,A,q,F,j,T;function R(B,le){return B[44].argumentsParsed?$o:B[44].argumentsRaw?Jo:Ho}let E=R(e),L=E(e);function H(B,le){return B[44].output?Do:Bo}let Y=H(e),te=Y(e);return{key:t,first:null,c(){l=d("details"),n=d("summary"),s=d("span"),i=C(),o=d("h4"),f=N(a),_=N(u),p=C(),m=d("div"),v=d("div"),h=d("div"),y=d("div"),y.textContent="Arguments",w=C(),L.c(),b=C(),S=d("div"),I=d("div"),I.textContent="Result",M=C(),te.c(),O=C(),r(s,"class","mini-caret svelte-173f7ix"),r(o,"class","svelte-173f7ix"),r(n,"class","svelte-173f7ix"),r(y,"class","sub-label-normal svelte-173f7ix"),r(h,"class","tool-call-col args-col svelte-173f7ix"),r(I,"class","sub-label-normal svelte-173f7ix"),r(S,"class","tool-call-col result-col svelte-173f7ix"),r(v,"class","tool-call-columns svelte-173f7ix"),r(m,"class","prompt-body svelte-173f7ix"),r(l,"class","prompt-collapsible tool-call-item svelte-173f7ix"),r(l,"id",A="toolcall-"+(e[44].id||e[46])),r(l,"data-kind","tool-call-pair"),r(l,"data-round",q=e[44].roundNumber),r(l,"data-attachments-total",F=e[44].attachmentsTotal),r(l,"data-attachments-user",j=e[44].attachmentsFromPrevUser),r(l,"data-attachments-args",T=e[44].attachmentsInArgs),this.first=l},m(B,le){k(B,l,le),c(l,n),c(n,s),c(n,i),c(n,o),c(o,f),c(o,_),c(l,p),c(l,m),c(m,v),c(v,h),c(h,y),c(h,w),L.m(h,null),c(v,b),c(v,S),c(S,I),c(S,M),te.m(S,null),c(l,O)},p(B,le){e=B,le[0]&4096&&a!==(a=(e[44].name||"Unnamed Tool")+"")&&P(f,a),le[0]&4096&&u!==(u=e[44].id?` (${e[44].id})`:"")&&P(_,u),E===(E=R(e))&&L?L.p(e,le):(L.d(1),L=E(e),L&&(L.c(),L.m(h,null))),Y===(Y=H(e))&&te?te.p(e,le):(te.d(1),te=Y(e),te&&(te.c(),te.m(S,null))),le[0]&4096&&A!==(A="toolcall-"+(e[44].id||e[46]))&&r(l,"id",A),le[0]&4096&&q!==(q=e[44].roundNumber)&&r(l,"data-round",q),le[0]&4096&&F!==(F=e[44].attachmentsTotal)&&r(l,"data-attachments-total",F),le[0]&4096&&j!==(j=e[44].attachmentsFromPrevUser)&&r(l,"data-attachments-user",j),le[0]&4096&&T!==(T=e[44].attachmentsInArgs)&&r(l,"data-attachments-args",T)},d(B){B&&g(l),L.d(),te.d()}}}function bn(t){let e,l=t[14].length+"",n;return{c(){e=d("span"),n=N(l),r(e,"class","count-badge svelte-173f7ix")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&16384&&l!==(l=s[14].length+"")&&P(n,l)},d(s){s&&g(e)}}}function Uo(t){let e;return{c(){e=d("em"),e.textContent="None"},m(l,n){k(l,e,n)},p:K,d(l){l&&g(e)}}}function zo(t){let e,l,n,s,i,o,a=t[6]?"Hide Raw JSON":"Show Raw JSON",f,u,_,p,m,v,h,y,w,b,S,I,M,O=t[13].length&&gn(t);function A(L,H){return L[13].length?Wo:Vo}let q=A(t),F=q(t);function j(L,H){var Y;return H[0]&1&&(w=null),w==null&&(w=!!((Y=L[0])!=null&&Y.requestOptions&&Object.keys(L[0].requestOptions).filter(_r).length>0)),w?Zo:Xo}let T=j(t,[-1,-1]),R=T(t),E=t[6]&&Sn(t);return{c(){e=d("div"),l=d("div"),n=d("h4"),s=N("Tools "),O&&O.c(),i=C(),o=d("button"),f=N(a),u=C(),F.c(),_=C(),p=d("div"),m=C(),v=d("div"),h=d("div"),h.innerHTML='<h4 class="options-heading svelte-173f7ix">Other Request Options</h4>',y=C(),R.c(),b=C(),E&&E.c(),S=_e(),r(n,"class","tools-heading svelte-173f7ix"),r(o,"class","mini-btn alt svelte-173f7ix"),r(l,"class","tools-header-row svelte-173f7ix"),r(e,"class","tools-section svelte-173f7ix"),r(p,"class","options-divider svelte-173f7ix"),r(h,"class","section-heading svelte-173f7ix"),r(v,"class","other-options-section svelte-173f7ix")},m(L,H){k(L,e,H),c(e,l),c(l,n),c(n,s),O&&O.m(n,null),c(l,i),c(l,o),c(o,f),c(e,u),F.m(e,null),k(L,_,H),k(L,p,H),k(L,m,H),k(L,v,H),c(v,h),c(v,y),R.m(v,null),k(L,b,H),E&&E.m(L,H),k(L,S,H),I||(M=ne(o,"click",t[32]),I=!0)},p(L,H){L[13].length?O?O.p(L,H):(O=gn(L),O.c(),O.m(n,null)):O&&(O.d(1),O=null),H[0]&64&&a!==(a=L[6]?"Hide Raw JSON":"Show Raw JSON")&&P(f,a),q===(q=A(L))&&F?F.p(L,H):(F.d(1),F=q(L),F&&(F.c(),F.m(e,null))),T===(T=j(L,H))&&R?R.p(L,H):(R.d(1),R=T(L),R&&(R.c(),R.m(v,null))),L[6]?E?E.p(L,H):(E=Sn(L),E.c(),E.m(S.parentNode,S)):E&&(E.d(1),E=null)},d(L){L&&(g(e),g(_),g(p),g(m),g(v),g(b),g(S)),O&&O.d(),F.d(),R.d(),E&&E.d(L),I=!1,M()}}}function gn(t){let e,l=t[13].length+"",n;return{c(){e=d("span"),n=N(l),r(e,"class","count-badge svelte-173f7ix")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&8192&&l!==(l=s[13].length+"")&&P(n,l)},d(s){s&&g(e)}}}function Vo(t){let e;return{c(){e=d("em"),e.textContent="No tools definitions",r(e,"class","text-soft")},m(l,n){k(l,e,n)},p:K,d(l){l&&g(e)}}}function Wo(t){let e,l,n,s=se(t[13]),i=[];for(let u=0;u<s.length;u+=1)i[u]=kn(Zl(t,s,u));function o(u,_){return u[7]!==null&&u[13][u[7]]?Yo:Ko}let a=o(t),f=a(t);return{c(){e=d("div");for(let u=0;u<i.length;u+=1)i[u].c();l=C(),f.c(),n=_e(),r(e,"class","tools-list svelte-173f7ix"),r(e,"role","tablist"),r(e,"aria-label","Available tools")},m(u,_){k(u,e,_);for(let p=0;p<i.length;p+=1)i[p]&&i[p].m(e,null);k(u,l,_),f.m(u,_),k(u,n,_)},p(u,_){if(_[0]&8576){s=se(u[13]);let p;for(p=0;p<s.length;p+=1){const m=Zl(u,s,p);i[p]?i[p].p(m,_):(i[p]=kn(m),i[p].c(),i[p].m(e,null))}for(;p<i.length;p+=1)i[p].d(1);i.length=s.length}a===(a=o(u))&&f?f.p(u,_):(f.d(1),f=a(u),f&&(f.c(),f.m(n.parentNode,n)))},d(u){u&&(g(e),g(l),g(n)),Ne(i,u),f.d(u)}}}function kn(t){let e,l=t[41].name+"",n,s,i,o,a;function f(){return t[33](t[43])}return{c(){e=d("button"),n=N(l),r(e,"class",s="tool-chip "+(t[7]===t[43]?"active":"")+" svelte-173f7ix"),r(e,"role","tab"),r(e,"aria-selected",i=t[7]===t[43])},m(u,_){k(u,e,_),c(e,n),o||(a=ne(e,"click",f),o=!0)},p(u,_){t=u,_[0]&8192&&l!==(l=t[41].name+"")&&P(n,l),_[0]&128&&s!==(s="tool-chip "+(t[7]===t[43]?"active":"")+" svelte-173f7ix")&&r(e,"class",s),_[0]&128&&i!==(i=t[7]===t[43])&&r(e,"aria-selected",i)},d(u){u&&g(e),o=!1,a()}}}function Ko(t){let e;return{c(){e=d("p"),e.textContent="Select a tool to view its details.",r(e,"class","text-soft"),Te(e,"margin","10px 0 0"),Te(e,"font-size",".7rem")},m(l,n){k(l,e,n)},p:K,d(l){l&&g(e)}}}function Yo(t){let e=t[7],l,n=In(t);return{c(){n.c(),l=_e()},m(s,i){n.m(s,i),k(s,l,i)},p(s,i){i[0]&128&&Ee(e,e=s[7])?(n.d(1),n=In(s),n.c(),n.m(l.parentNode,l)):n.p(s,i)},d(s){s&&g(l),n.d(s)}}}function Go(t){let e;return{c(){e=d("p"),e.innerHTML="<em>No description</em>",r(e,"class","tool-desc text-soft svelte-173f7ix")},m(l,n){k(l,e,n)},p:K,d(l){l&&g(e)}}}function Qo(t){let e,l=t[13][t[7]].description+"",n;return{c(){e=d("p"),n=N(l),r(e,"class","tool-desc svelte-173f7ix")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&8320&&l!==(l=s[13][s[7]].description+"")&&P(n,l)},d(s){s&&g(e)}}}function yn(t){let e,l,n,s=JSON.stringify(t[13][t[7]].parameters,null,2)+"",i;return{c(){e=d("div"),e.textContent="Parameters",l=C(),n=d("pre"),i=N(s),r(e,"class","sub-label svelte-173f7ix"),r(n,"class","code-block small svelte-173f7ix")},m(o,a){k(o,e,a),k(o,l,a),k(o,n,a),c(n,i)},p(o,a){a[0]&8320&&s!==(s=JSON.stringify(o[13][o[7]].parameters,null,2)+"")&&P(i,s)},d(o){o&&(g(e),g(l),g(n))}}}function wn(t){let e,l=JSON.stringify(t[13][t[7]].raw,null,2)+"",n;return{c(){e=d("pre"),n=N(l),r(e,"class","code-block small svelte-173f7ix"),Te(e,"margin-top","8px")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&8320&&l!==(l=JSON.stringify(s[13][s[7]].raw,null,2)+"")&&P(n,l)},d(s){s&&g(e)}}}function In(t){let e,l,n,s,i=t[13][t[7]].name+"",o,a,f,u=t[13][t[7]].kind+"",_,p,m,v=t[8]?"Hide Raw Definition":"Show Raw Definition",h,y,w,b,S,I,M;function O(T,R){return T[13][T[7]].description?Qo:Go}let A=O(t),q=A(t),F=t[13][t[7]].parameters&&yn(t),j=t[8]&&wn(t);return{c(){e=d("div"),l=d("header"),n=d("div"),s=d("h5"),o=N(i),a=C(),f=d("span"),_=N(u),p=C(),m=d("button"),h=N(v),y=C(),q.c(),w=C(),F&&F.c(),b=C(),j&&j.c(),r(s,"class","svelte-173f7ix"),r(f,"class","tool-kind-tag svelte-173f7ix"),r(n,"class","tool-title-area svelte-173f7ix"),r(m,"class","mini-btn"),r(l,"class","tool-detail-head svelte-173f7ix"),r(e,"class","tool-detail svelte-173f7ix"),r(e,"role","tabpanel"),r(e,"aria-label",S=t[13][t[7]].name+" tool details")},m(T,R){k(T,e,R),c(e,l),c(l,n),c(n,s),c(s,o),c(n,a),c(n,f),c(f,_),c(l,p),c(l,m),c(m,h),c(e,y),q.m(e,null),c(e,w),F&&F.m(e,null),c(e,b),j&&j.m(e,null),I||(M=ne(m,"click",t[34]),I=!0)},p(T,R){R[0]&8320&&i!==(i=T[13][T[7]].name+"")&&P(o,i),R[0]&8320&&u!==(u=T[13][T[7]].kind+"")&&P(_,u),R[0]&256&&v!==(v=T[8]?"Hide Raw Definition":"Show Raw Definition")&&P(h,v),A===(A=O(T))&&q?q.p(T,R):(q.d(1),q=A(T),q&&(q.c(),q.m(e,w))),T[13][T[7]].parameters?F?F.p(T,R):(F=yn(T),F.c(),F.m(e,b)):F&&(F.d(1),F=null),T[8]?j?j.p(T,R):(j=wn(T),j.c(),j.m(e,null)):j&&(j.d(1),j=null),R[0]&8320&&S!==(S=T[13][T[7]].name+" tool details")&&r(e,"aria-label",S)},d(T){T&&g(e),q.d(),F&&F.d(),j&&j.d(),I=!1,M()}}}function Xo(t){let e;return{c(){e=d("em"),e.textContent="No additional options",r(e,"class","text-soft")},m(l,n){k(l,e,n)},p:K,d(l){l&&g(e)}}}function Zo(t){let e,l=se(Object.entries(t[0].requestOptions).filter(jn)),n=[];for(let s=0;s<l.length;s+=1)n[s]=Cn(Xl(t,l,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();r(e,"class","options-list svelte-173f7ix")},m(s,i){k(s,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,i){if(i[0]&1){l=se(Object.entries(s[0].requestOptions).filter(jn));let o;for(o=0;o<l.length;o+=1){const a=Xl(s,l,o);n[o]?n[o].p(a,i):(n[o]=Cn(a),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(s){s&&g(e),Ne(n,s)}}}function xo(t){let e,l=String(t[38])+"",n;return{c(){e=d("span"),n=N(l),r(e,"class","option-value-text svelte-173f7ix")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&1&&l!==(l=String(s[38])+"")&&P(n,l)},d(s){s&&g(e)}}}function er(t){let e,l;function n(o,a){return a[0]&1&&(e=null),e==null&&(e=!!(o[38].startsWith("http://")||o[38].startsWith("https://"))),e?cr:o[38].length>50?ar:rr}let s=n(t,[-1,-1]),i=s(t);return{c(){i.c(),l=_e()},m(o,a){i.m(o,a),k(o,l,a)},p(o,a){s===(s=n(o,a))&&i?i.p(o,a):(i.d(1),i=s(o),i&&(i.c(),i.m(l.parentNode,l)))},d(o){o&&g(l),i.d(o)}}}function tr(t){let e,l=JSON.stringify(t[38],null,2)+"",n;return{c(){e=d("pre"),n=N(l),r(e,"class","code-block small svelte-173f7ix")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&1&&l!==(l=JSON.stringify(s[38],null,2)+"")&&P(n,l)},d(s){s&&g(e)}}}function lr(t){let e,l;function n(o,a){return a[0]&1&&(e=null),e==null&&(e=!!(o[38].length<3&&o[38].every(mr))),e?ur:fr}let s=n(t,[-1,-1]),i=s(t);return{c(){i.c(),l=_e()},m(o,a){i.m(o,a),k(o,l,a)},p(o,a){s===(s=n(o,a))&&i?i.p(o,a):(i.d(1),i=s(o),i&&(i.c(),i.m(l.parentNode,l)))},d(o){o&&g(l),i.d(o)}}}function nr(t){let e,l=String(t[38])+"",n;return{c(){e=d("span"),n=N(l),r(e,"class","option-value-number svelte-173f7ix")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&1&&l!==(l=String(s[38])+"")&&P(n,l)},d(s){s&&g(e)}}}function sr(t){let e,l=String(t[38])+"",n;return{c(){e=d("span"),n=N(l),r(e,"class","option-value-boolean svelte-173f7ix")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&1&&l!==(l=String(s[38])+"")&&P(n,l)},d(s){s&&g(e)}}}function ir(t){let e;return{c(){e=d("span"),e.textContent="undefined",r(e,"class","option-value-undefined svelte-173f7ix")},m(l,n){k(l,e,n)},p:K,d(l){l&&g(e)}}}function or(t){let e;return{c(){e=d("span"),e.textContent="null",r(e,"class","option-value-null svelte-173f7ix")},m(l,n){k(l,e,n)},p:K,d(l){l&&g(e)}}}function rr(t){let e,l=t[38]+"",n;return{c(){e=d("span"),n=N(l),r(e,"class","option-value-text svelte-173f7ix")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&1&&l!==(l=s[38]+"")&&P(n,l)},d(s){s&&g(e)}}}function ar(t){let e,l=t[38]+"",n;return{c(){e=d("pre"),n=N(l),r(e,"class","code-block small svelte-173f7ix")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&1&&l!==(l=s[38]+"")&&P(n,l)},d(s){s&&g(e)}}}function cr(t){let e,l=t[38]+"",n,s;return{c(){e=d("a"),n=N(l),r(e,"href",s=t[38]),r(e,"target","_blank"),r(e,"rel","noopener noreferrer"),r(e,"class","option-value-url svelte-173f7ix")},m(i,o){k(i,e,o),c(e,n)},p(i,o){o[0]&1&&l!==(l=i[38]+"")&&P(n,l),o[0]&1&&s!==(s=i[38])&&r(e,"href",s)},d(i){i&&g(e)}}}function fr(t){let e,l=JSON.stringify(t[38],null,2)+"",n;return{c(){e=d("pre"),n=N(l),r(e,"class","code-block small svelte-173f7ix")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&1&&l!==(l=JSON.stringify(s[38],null,2)+"")&&P(n,l)},d(s){s&&g(e)}}}function ur(t){let e,l,n=t[38].map(String).join(", ")+"",s,i;return{c(){e=d("span"),l=N("["),s=N(n),i=N("]"),r(e,"class","option-value-array svelte-173f7ix")},m(o,a){k(o,e,a),c(e,l),c(e,s),c(e,i)},p(o,a){a[0]&1&&n!==(n=o[38].map(String).join(", ")+"")&&P(s,n)},d(o){o&&g(e)}}}function Cn(t){let e,l,n=t[37]+"",s,i,o,a,f;function u(m,v){return v[0]&1&&(a=null),m[38]===null?or:m[38]===void 0?ir:typeof m[38]=="boolean"?sr:typeof m[38]=="number"?nr:(a==null&&(a=!!Array.isArray(m[38])),a?lr:typeof m[38]=="object"?tr:typeof m[38]=="string"?er:xo)}let _=u(t,[-1,-1]),p=_(t);return{c(){e=d("div"),l=d("div"),s=N(n),i=C(),o=d("div"),p.c(),f=C(),r(l,"class","option-name svelte-173f7ix"),r(o,"class","option-value svelte-173f7ix"),r(e,"class","option-item svelte-173f7ix")},m(m,v){k(m,e,v),c(e,l),c(l,s),c(e,i),c(e,o),p.m(o,null),c(e,f)},p(m,v){v[0]&1&&n!==(n=m[37]+"")&&P(s,n),_===(_=u(m,v))&&p?p.p(m,v):(p.d(1),p=_(m),p&&(p.c(),p.m(o,null)))},d(m){m&&g(e),p.d()}}}function Sn(t){let e,l=JSON.stringify(t[0].requestOptions,null,2)+"",n;return{c(){e=d("pre"),n=N(l),r(e,"class","code-block svelte-173f7ix"),Te(e,"margin-top","10px")},m(s,i){k(s,e,i),c(e,n)},p(s,i){i[0]&1&&l!==(l=JSON.stringify(s[0].requestOptions,null,2)+"")&&P(n,l)},d(s){s&&g(e)}}}function dr(t){let e,l,n,s;const i=[Xi,Qi],o=[];function a(f,u){return f[2]?1:0}return e=a(t),l=o[e]=i[e](t),{c(){l.c(),n=_e()},m(f,u){o[e].m(f,u),k(f,n,u),s=!0},p(f,u){let _=e;e=a(f),e===_?o[e].p(f,u):(Ke(),we(o[_],1,1,()=>{o[_]=null}),Ye(),l=o[e],l?l.p(f,u):(l=o[e]=i[e](f),l.c()),ke(l,1),l.m(n.parentNode,n))},i(f){s||(ke(l),s=!0)},o(f){we(l),s=!1},d(f){f&&g(n),o[e].d(f)}}}const Nn=180,Hn=/<(environment_info|workspace_info|context|reminderInstructions|userRequest|instructions|toolUseInstructions|notebookInstructions|outputFormatting|applyPatchInstructions|attachments)>/;function pr(t){if(typeof t!="string")return{preview:"",truncated:!1};const l=t.replace(/\r\n/g,`
`).split(`
`);let s=(l.find(o=>o.trim().length>0)??l[0]??"").trim(),i=l.length>1;return s.length>Nn&&(s=s.slice(0,Nn).trimEnd(),i=!0),i&&(s=s.replace(/\s*$/,"")+"‚Ä¶"),{preview:s,truncated:i}}function mt(t){if(typeof t!="string")return[{kind:"other",content:t}];const e=/<(environment_info|workspace_info|context|reminderInstructions|userRequest|instructions|toolUseInstructions|notebookInstructions|outputFormatting|applyPatchInstructions|attachments)>([\s\S]*?)<\/\1>/g,l=[];let n=0,s;for(;(s=e.exec(t))!==null;){const[i,o,a]=s;if(s.index>n){const u=t.slice(n,s.index);u.trim().length&&l.push({kind:"other",content:u})}let f;switch(o){case"environment_info":f="environment";break;case"workspace_info":f="workspace";break;case"context":f="context";break;case"reminderInstructions":f="reminder";break;case"userRequest":f="userreq";break;case"instructions":f="instructions";break;case"toolUseInstructions":f="tooluse";break;case"notebookInstructions":f="notebook";break;case"outputFormatting":f="outputfmt";break;case"applyPatchInstructions":f="applypatch";break;case"attachments":f="attachments";break;default:f="other"}l.push({kind:f,content:a.trim()}),n=s.index+i.length}if(n<t.length){const i=t.slice(n);i.trim().length&&l.push({kind:"other",content:i})}return l.length?l:[{kind:"other",content:t}]}function vt(t){return typeof t!="string"?t:t.replace(/\t/g,"  ")}function it(t){if(!t||!t.content)return"";try{return t.content.map(e=>typeof e=="string"?e:e&&typeof e=="object"?e.text?e.text:JSON.stringify(e,null,2):String(e)).join(`
`)}catch{return""}}const _r=t=>!["tools","tool_choice","functions","functionDefinition","copilotFunctions"].includes(t),mr=t=>typeof t!="object",jn=([t])=>!["tools","tool_choice","functions","functionDefinition","copilotFunctions"].includes(t);function vr(t,e,l){let n,s,i,o,a,f,u,_,p,m,v,h,y;je(t,Mn,$=>l(24,v=$)),je(t,Le,$=>l(25,h=$)),je(t,Ue,$=>l(26,y=$));let w=!1,b=!1,S,I=!1,M;function O(){if(!s)return"";try{return JSON.stringify({request:s,response:s.response},null,2)}catch{return"/* Failed to serialize request */"}}async function A(){var ie;const $=O();l(4,b=!1);try{if((ie=navigator==null?void 0:navigator.clipboard)!=null&&ie.writeText)await navigator.clipboard.writeText($);else{const V=document.createElement("textarea");V.value=$,V.style.position="fixed",V.style.top="-2000px",document.body.appendChild(V),V.focus(),V.select(),document.execCommand("copy"),document.body.removeChild(V)}l(3,w=!0)}catch(V){console.warn("Copy failed",V),l(4,b=!0)}clearTimeout(S),S=setTimeout(()=>{l(3,w=!1),l(4,b=!1)},1800)}let q=!1,F=null,j=!1,T={},R={};function E($){l(9,T={...T,[$]:!T[$]}),console.debug("[toggleSystemRaw]",$,T[$])}function L($){l(10,R={...R,[$]:!R[$]}),console.debug("[toggleUserRaw]",$,R[$])}let H=null;async function Y($,ie,V){const oe=it(V);try{await navigator.clipboard.writeText(oe),l(11,H=$+"-"+ie),setTimeout(()=>{H===$+"-"+ie&&l(11,H=null)},1600)}catch(me){console.warn("Failed to copy raw original",me)}}const te=()=>l(5,I=!I),B=($,ie)=>{ie.stopPropagation(),E($)},le=($,ie,V)=>{V.stopPropagation(),Y("sys",$,ie)},re=($,ie)=>{ie.stopPropagation(),L($)},be=($,ie,V)=>{V.stopPropagation(),Y("user",$,ie)},U=()=>l(6,q=!q),X=$=>{l(7,F=$),l(8,j=!1)},ce=()=>l(8,j=!j);return t.$$.update=()=>{var $,ie;t.$$.dirty[0]&100663296&&l(2,n=y[h.callIndex]),t.$$.dirty[0]&4&&l(0,s=n&&n.request),t.$$.dirty[0]&16777216&&l(18,i=v),t.$$.dirty[0]&1&&l(17,o=(($=s==null?void 0:s.requestMessages)==null?void 0:$.filter(V=>V.role==="system"))||[]),t.$$.dirty[0]&1&&l(16,a=((ie=s==null?void 0:s.requestMessages)==null?void 0:ie.filter(V=>V.role==="user"))||[]),t.$$.dirty[0]&8388609&&s!==M&&(l(5,I=!1),l(23,M=s)),t.$$.dirty[0]&1&&l(1,f=typeof(s==null?void 0:s.prompt)=="string"?s.prompt:""),t.$$.dirty[0]&2&&l(15,u=f&&f.trim()?pr(f):{preview:"",truncated:!1}),t.$$.dirty[0]&1&&l(14,_=(()=>{var me,Ie;const V=s==null?void 0:s.requestOptions;if(!V)return[];const oe=new Set;if(Array.isArray(V.tools))for(const W of V.tools)(me=W==null?void 0:W.function)!=null&&me.name?oe.add(W.function.name):W!=null&&W.name&&oe.add(W.name);if(Array.isArray(V.functions))for(const W of V.functions)W!=null&&W.name&&oe.add(W.name);if(Array.isArray(V.copilotFunctions))for(const W of V.copilotFunctions)W!=null&&W.name&&oe.add(W.name);return(Ie=V.functionDefinition)!=null&&Ie.name&&oe.add(V.functionDefinition.name),Array.from(oe)})()),t.$$.dirty[0]&1&&l(13,p=(()=>{var Ie,W;const V=s==null?void 0:s.requestOptions;if(!V)return[];const oe=new Map;function me(z){!(z!=null&&z.name)||oe.has(z.name)||oe.set(z.name,z)}if(Array.isArray(V.tools))for(const z of V.tools)(Ie=z==null?void 0:z.function)!=null&&Ie.name?me({name:z.function.name,description:z.function.description,parameters:z.function.parameters,kind:z.type||"function",raw:z}):z!=null&&z.name&&me({name:z.name,description:z.description,parameters:z.parameters,kind:z.type||"tool",raw:z});if(Array.isArray(V.functions))for(const z of V.functions)z!=null&&z.name&&me({name:z.name,description:z.description,parameters:z.parameters||z.parametersSchema,kind:"function",raw:z});if(Array.isArray(V.copilotFunctions))for(const z of V.copilotFunctions)z!=null&&z.name&&me({name:z.name,description:z.description,parameters:z.parameters||z.parametersSchema,kind:"copilotFunction",raw:z});if((W=V.functionDefinition)!=null&&W.name){const z=V.functionDefinition;me({name:z.name,description:z.description,parameters:z.parameters,kind:"functionDefinition",raw:z})}return Array.from(oe.values())})()),t.$$.dirty[0]&1&&l(12,m=(()=>{var Ce,ue;if(!(s!=null&&s.requestMessages))return[];const V=s.requestMessages,oe=new Map;for(const D of V)if(D.role==="tool"){const Z=D.tool_call_id||D.id;if(!Z)continue;const G=[];if(Array.isArray(D.content))for(const Q of D.content)typeof Q=="string"?G.push(Q):Q!=null&&Q.text?G.push(Q.text):G.push(JSON.stringify(Q));else typeof D.content=="string"?G.push(D.content):(Ce=D.content)!=null&&Ce.text&&G.push(D.content.text);oe.has(Z)||oe.set(Z,[]),oe.get(Z).push(...G)}function me(D){if(!(D!=null&&D.content))return 0;let Z=0;for(const G of D.content){let Q="";if(typeof G=="string")Q=G;else if(G!=null&&G.text)Q=G.text;else continue;Q&&(Q.includes("&lt;attachments")||Q.includes("&lt;attachment"))&&(Q=Q.replace(/&lt;/g,"<").replace(/&gt;/g,">"));const de=Q.match(/<attachments>|<attachment\b/gi);de&&(Z+=de.length)}return Z}function Ie(D){if(!D||typeof D!="string")return 0;let Z=D;(Z.includes("&lt;attachments")||Z.includes("&lt;attachment"))&&(Z=Z.replace(/&lt;/g,"<").replace(/&gt;/g,">"));const G=Z.match(/<attachments>|<attachment\b/gi);return G?G.length:0}const W=[];let z=0,Re=null;for(let D=0;D<V.length;D++){const Z=V[D];if(Z.role==="assistant"&&Array.isArray(Z.tool_calls)&&Z.tool_calls.length){let G=-1;for(let fe=D-1;fe>=0;fe--)if(V[fe].role==="user"){G=fe;break}const Q=G>=0?V[G]:null,de=Q?me(Q):0;for(const fe of Z.tool_calls){const pe=fe.id||fe.tool_call_id||fe.toolCallId,ve=fe.function||fe.fn||{},ge=ve.name||fe.name,ae=ve.arguments||fe.arguments;let J=null;if(typeof ae=="string")try{J=JSON.parse(ae)}catch{}else ae&&typeof ae=="object"&&(J=ae);const ee=pe&&oe.get(pe)?oe.get(pe):[],ye=typeof ae=="string"?Ie(ae):0,Ae=de+ye,he={id:pe,name:ge,argumentsRaw:ae,argumentsParsed:J,outputParts:ee,output:ee.join(`
`),prevUserIndex:G,attachmentsFromPrevUser:de,attachmentsInArgs:ye,attachmentsTotal:Ae,attachmentsCount:Ae},x=W[W.length-1],Se=G!==-1&&G!==Re;Ae>0&&(Se||!x||x&&x.attachmentsTotal===0)?(z+=1,he.isRoundBoundary=!0,he.roundNumber=z,Re=G):x&&(he.roundNumber=x.roundNumber),W.push(he)}}}if(!W.some(D=>D.isRoundBoundary)){const D=W.find(Z=>(Z.attachmentsTotal||0)>0);if(D){z=1,D.isRoundBoundary=!0,D.roundNumber=1;let Z=!1;for(const G of W)G===D&&(Z=!0),Z&&!G.roundNumber&&(G.roundNumber=1)}}if(!W.length&&Array.isArray((ue=s==null?void 0:s.response)==null?void 0:ue.copilotFunctionCalls)&&s.response.copilotFunctionCalls.length){const D=s.response.copilotFunctionCalls;let Z=-1;for(let pe=V.length-1;pe>=0;pe--)if(V[pe].role==="user"){Z=pe;break}const G=Z>=0?V[Z]:null,Q=G?me(G):0;let de=!1,fe=0;for(let pe=0;pe<D.length;pe++){const ve=D[pe],ge=ve.id||ve.tool_call_id||ve.callId||"resp_"+pe,ae=ve.name||ve.function&&ve.function.name||"Unnamed Tool",J=ve.arguments||ve.function&&ve.function.arguments||"";let ee=null;if(typeof J=="string")try{ee=JSON.parse(J)}catch{}else J&&typeof J=="object"&&(ee=J);const ye=typeof J=="string"?Ie(J):0,Ae=Q+ye,he={id:ge,name:ae,argumentsRaw:J,argumentsParsed:ee,outputParts:[],output:"",prevUserIndex:Z,attachmentsFromPrevUser:Q,attachmentsInArgs:ye,attachmentsTotal:Ae,attachmentsCount:Ae,source:"response"};!de&&Ae>0?(fe=1,he.isRoundBoundary=!0,he.roundNumber=1,de=!0):de&&(he.roundNumber=fe),W.push(he)}if(!W.some(pe=>pe.isRoundBoundary)&&Q>0&&W.length){W[0].isRoundBoundary=!0,W[0].roundNumber=1;for(let pe=1;pe<W.length;pe++)W[pe].roundNumber=1}}return W})())},[s,f,n,w,b,I,q,F,j,T,R,H,m,p,_,u,a,o,i,A,E,L,Y,M,v,h,y,te,B,le,re,be,U,X,ce]}class hr extends Qe{constructor(e){super(),Ge(this,e,vr,dr,Ee,{},null,[-1,-1])}}function Rn(t){let e,l,n;return{c(){e=d("button"),e.textContent="‚úï",r(e,"class","clear")},m(s,i){k(s,e,i),l||(n=ne(e,"click",t[3]),l=!0)},p:K,d(s){s&&g(e),l=!1,n()}}}function br(t){let e,l,n,s,i,o=t[0]&&Rn(t);return{c(){e=d("div"),l=d("input"),n=C(),o&&o.c(),r(l,"placeholder",t[1]),r(l,"class","svelte-xamc1i"),r(e,"class","search-bar svelte-xamc1i")},m(a,f){k(a,e,f),c(e,l),Ut(l,t[0]),c(e,n),o&&o.m(e,null),s||(i=[ne(l,"input",t[5]),ne(l,"input",t[2])],s=!0)},p(a,[f]){f&2&&r(l,"placeholder",a[1]),f&1&&l.value!==a[0]&&Ut(l,a[0]),a[0]?o?o.p(a,f):(o=Rn(a),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i:K,o:K,d(a){a&&g(e),o&&o.d(),s=!1,Pe(i)}}}function gr(t,e,l){let{value:n=""}=e,{placeholder:s=""}=e;const i="function";function o(u){l(0,n=u.target.value)}function a(){l(0,n="")}function f(){n=this.value,l(0,n)}return t.$$set=u=>{"value"in u&&l(0,n=u.value),"placeholder"in u&&l(1,s=u.placeholder)},[n,s,o,a,i,f]}class An extends Qe{constructor(e){super(),Ge(this,e,gr,br,Ee,{value:0,placeholder:1,type:4})}get type(){return this.$$.ctx[4]}}function Tn(t){let e,l,n,s,i,o,a=(t[6]?t[0]+1:0)+"",f,u,_=t[1].length+"",p,m,v,h,y,w,b,S,I,M,O,A;return{c(){e=d("div"),l=d("div"),n=d("div"),s=d("span"),s.textContent="Filtered",i=C(),o=d("span"),f=N(a),u=N(" / "),p=N(_),m=C(),v=d("div"),h=d("button"),y=N("‚óÄ"),b=C(),S=d("button"),I=N("‚ñ∂"),r(s,"class","label"),r(o,"class","count-mini"),r(n,"class","status-item"),r(l,"class","global-status nav-side-status"),r(l,"aria-label","Filtered navigation status"),r(h,"class","nav-side-btn nav-filtered-btn"),h.disabled=w=t[0]<=0,r(h,"title","Previous (Filtered)"),r(S,"class","nav-side-btn nav-filtered-btn"),S.disabled=M=t[0]>=t[1].length-1,r(S,"title","Next (Filtered)"),r(v,"class","nav-buttons-row"),r(e,"class","nav-side nav-right-filtered")},m(q,F){k(q,e,F),c(e,l),c(l,n),c(n,s),c(n,i),c(n,o),c(o,f),c(o,u),c(o,p),c(e,m),c(e,v),c(v,h),c(h,y),c(v,b),c(v,S),c(S,I),O||(A=[ne(h,"click",t[22]),ne(S,"click",t[23])],O=!0)},p(q,F){F&65&&a!==(a=(q[6]?q[0]+1:0)+"")&&P(f,a),F&2&&_!==(_=q[1].length+"")&&P(p,_),F&1&&w!==(w=q[0]<=0)&&(h.disabled=w),F&3&&M!==(M=q[0]>=q[1].length-1)&&(S.disabled=M)},d(q){q&&g(e),O=!1,Pe(A)}}}function kr(t){let e;return{c(){e=d("div"),e.innerHTML='<p class="placeholder-hint">Load a file to see tool calls grouped into rounds.</p>',r(e,"class","overview-empty-placeholder")},m(l,n){k(l,e,n)},i:K,o:K,d(l){l&&g(e)}}}function yr(t){let e,l,n;return l=new Es({props:{variant:"panel"}}),{c(){e=d("div"),Ve(l.$$.fragment),r(e,"class","toolcalls-scroll")},m(s,i){k(s,e,i),$e(l,e,null),n=!0},i(s){n||(ke(l.$$.fragment,s),n=!0)},o(s){we(l.$$.fragment,s),n=!1},d(s){s&&g(e),Be(l)}}}function wr(t){let e,l;return e=new hr({}),{c(){Ve(e.$$.fragment)},m(n,s){$e(e,n,s),l=!0},i(n){l||(ke(e.$$.fragment,n),l=!0)},o(n){we(e.$$.fragment,n),l=!1},d(n){Be(e,n)}}}function Ir(t){let e;return{c(){e=d("div"),e.innerHTML='<h2>No data loaded</h2> <p>Drag &amp; drop a log file to begin.</p> <p class="file-hint">Supported: <code>sim‚Äërequests-*.txt</code>, <code>*‚Äëfetchlog‚Äë*.txt</code>, or any valid JSON log file</p>',r(e,"class","empty-state tall")},m(l,n){k(l,e,n)},i:K,o:K,d(l){l&&g(e)}}}function On(t){let e,l,n;return{c(){e=d("button"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="18 15 12 9 6 15"></polyline></svg>',r(e,"class","back-to-top"),r(e,"aria-label","Back to top"),r(e,"title","Back to top")},m(s,i){k(s,e,i),l||(n=ne(e,"click",Sr),l=!0)},p:K,d(s){s&&g(e),l=!1,n()}}}function Cr(t){let e,l,n,s,i,o,a=t[7]===0?"0 / 0":`${t[8]+1} / ${t[7]}`,f,u,_,p,m,v,h,y,w,b,S,I,M,O,A,q,F,j,T,R,E,L,H,Y,te,B,le,re,be,U,X,ce,$,ie,V,oe,me,Ie,W,z,Re,Ce,ue,D,Z,G,Q=t[1].length>0&&Tn(t);T=new Ns({}),T.$on("loadText",t[24]);function de(x){t[25](x)}let fe={type:"function",placeholder:"Function search"};t[11].fn!==void 0&&(fe.value=t[11].fn),L=new An({props:fe}),Je.push(()=>Wt(L,"value",de));function pe(x){t[26](x)}let ve={type:"response",placeholder:"Response search"};t[11].response!==void 0&&(ve.value=t[11].response),te=new An({props:ve}),Je.push(()=>Wt(te,"value",pe));const ge=[yr,kr],ae=[];function J(x,Se){return x[12].length>0?0:1}re=J(t),be=ae[re]=ge[re](t);const ee=[Ir,wr],ye=[];function Ae(x,Se){return x[12].length===0?0:1}ce=Ae(t),$=ye[ce]=ee[ce](t);let he=t[2]&&On();return{c(){e=d("div"),l=d("div"),n=d("div"),s=d("span"),s.textContent="All",i=C(),o=d("span"),f=N(a),u=C(),_=d("div"),p=d("div"),m=d("button"),v=N("‚óÄ"),y=C(),w=d("button"),b=N("‚ñ∂"),I=C(),Q&&Q.c(),M=C(),O=d("div"),A=d("aside"),q=d("div"),F=d("div"),j=d("div"),Ve(T.$$.fragment),R=C(),E=d("div"),Ve(L.$$.fragment),Y=C(),Ve(te.$$.fragment),le=C(),be.c(),U=C(),X=d("main"),$.c(),ie=C(),V=d("aside"),V.innerHTML="",oe=C(),me=d("footer"),Ie=N("Total calls: "),W=N(t[10]),z=N(". Current: "),Re=N(t[9]),Ce=N("."),ue=C(),he&&he.c(),r(s,"class","label"),r(o,"class","count-mini"),r(n,"class","status-item"),r(l,"class","global-status nav-left-status"),r(l,"aria-label","Global navigation status (All)"),r(m,"class","nav-side-btn nav-all-btn"),m.disabled=h=t[8]<=0,r(m,"title","Previous (All)"),r(w,"class","nav-side-btn nav-all-btn"),w.disabled=S=t[8]>=t[7]-1,r(w,"title","Next (All)"),r(p,"class","nav-buttons-row"),r(_,"class","nav-side nav-left-all nav-left-nav"),Te(_,"opacity",t[5]?1:0),r(j,"class","ingest-block"),r(E,"class","filters-stack"),r(E,"aria-label","Filtering controls"),r(F,"class","ingest-filters-grid"),r(F,"aria-label","Data load and filters"),r(q,"class","left-stack"),r(A,"class","overview-pane"),r(A,"aria-label","Tool calls overview & controls"),r(X,"class","main-content"),r(X,"aria-label","Request detail panel"),r(O,"class","workspace-split"),r(V,"class","sidebar compact"),r(me,"class","footer"),r(e,"class","app-shell")},m(x,Se){k(x,e,Se),c(e,l),c(l,n),c(n,s),c(n,i),c(n,o),c(o,f),t[18](l),c(e,u),c(e,_),c(_,p),c(p,m),c(m,v),c(p,y),c(p,w),c(w,b),t[21](_),c(e,I),Q&&Q.m(e,null),c(e,M),c(e,O),c(O,A),c(A,q),c(q,F),c(F,j),$e(T,j,null),c(F,R),c(F,E),$e(L,E,null),c(E,Y),$e(te,E,null),c(q,le),ae[re].m(q,null),c(O,U),c(O,X),ye[ce].m(X,null),c(e,ie),c(e,V),c(e,oe),c(e,me),c(me,Ie),c(me,W),c(me,z),c(me,Re),c(me,Ce),c(e,ue),he&&he.m(e,null),D=!0,Z||(G=[ne(m,"click",t[19]),ne(w,"click",t[20])],Z=!0)},p(x,[Se]){(!D||Se&384)&&a!==(a=x[7]===0?"0 / 0":`${x[8]+1} / ${x[7]}`)&&P(f,a),(!D||Se&256&&h!==(h=x[8]<=0))&&(m.disabled=h),(!D||Se&384&&S!==(S=x[8]>=x[7]-1))&&(w.disabled=S),(!D||Se&32)&&Te(_,"opacity",x[5]?1:0),x[1].length>0?Q?Q.p(x,Se):(Q=Tn(x),Q.c(),Q.m(e,M)):Q&&(Q.d(1),Q=null);const Jt={};!H&&Se&2048&&(H=!0,Jt.value=x[11].fn,zt(()=>H=!1)),L.$set(Jt);const $t={};!B&&Se&2048&&(B=!0,$t.value=x[11].response,zt(()=>B=!1)),te.$set($t);let bt=re;re=J(x),re!==bt&&(Ke(),we(ae[bt],1,1,()=>{ae[bt]=null}),Ye(),be=ae[re],be||(be=ae[re]=ge[re](x),be.c()),ke(be,1),be.m(q,null));let gt=ce;ce=Ae(x),ce!==gt&&(Ke(),we(ye[gt],1,1,()=>{ye[gt]=null}),Ye(),$=ye[ce],$||($=ye[ce]=ee[ce](x),$.c()),ke($,1),$.m(X,null)),(!D||Se&1024)&&P(W,x[10]),(!D||Se&512)&&P(Re,x[9]),x[2]?he?he.p(x,Se):(he=On(),he.c(),he.m(e,null)):he&&(he.d(1),he=null)},i(x){D||(ke(T.$$.fragment,x),ke(L.$$.fragment,x),ke(te.$$.fragment,x),ke(be),ke($),D=!0)},o(x){we(T.$$.fragment,x),we(L.$$.fragment,x),we(te.$$.fragment,x),we(be),we($),D=!1},d(x){x&&g(e),t[18](null),t[21](null),Q&&Q.d(),Be(T),Be(L),Be(te),ae[re].d(),ye[ce].d(),he&&he.d(),Z=!1,Pe(G)}}}function Sr(){window.scrollTo({top:0,behavior:"smooth"})}function Nr(t,e,l){let n,s,i,o,a,f,u,_,p,m,v,h,y;je(t,De,B=>l(14,_=B)),je(t,Xe,B=>l(15,p=B)),je(t,Le,B=>l(16,m=B)),je(t,Ue,B=>l(17,v=B)),je(t,ft,B=>l(11,h=B)),je(t,rt,B=>l(12,y=B));let w=!1;Nt(()=>{const B=()=>{l(2,w=window.scrollY>300)};return window.addEventListener("scroll",B),()=>{window.removeEventListener("scroll",B)}});function b(B){Is(B),setTimeout(O,30)}let S,I,M=!1;function O(){if(!S)return;const B=window.innerHeight,le=S.offsetHeight||0;let re=(B-le)/2;if(re<20&&(re=20),l(3,S.style.top=`${Math.round(re)}px`,S),I){const be=I.offsetHeight||0;let U=re-be-16;U<20&&(U=20),l(4,I.style.top=`${Math.round(U)}px`,I)}l(5,M=!0)}let A;function q(){cancelAnimationFrame(A),A=requestAnimationFrame(O)}Nt(()=>(O(),window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)));function F(B){Je[B?"unshift":"push"](()=>{I=B,l(4,I)})}const j=()=>ps(),T=()=>_s();function R(B){Je[B?"unshift":"push"](()=>{S=B,l(3,S)})}const E=()=>ms(),L=()=>vs(),H=B=>b(B.detail);function Y(B){t.$$.not_equal(h.fn,B)&&(h.fn=B,ft.set(h))}function te(B){t.$$.not_equal(h.response,B)&&(h.response=B,ft.set(h))}return t.$$.update=()=>{t.$$.dirty&131072&&l(10,n=v.length),t.$$.dirty&65536&&l(9,s=m.callIndex+1),t.$$.dirty&65536&&l(8,i=m.callIndex||0),t.$$.dirty&65536&&l(7,o=m.totalAll||0),t.$$.dirty&32768&&l(1,a=p||[]),t.$$.dirty&16384&&l(0,f=_||-1),t.$$.dirty&3&&l(6,u=a.length>0&&f!==-1)},[f,a,w,S,I,M,u,o,i,s,n,h,y,b,_,p,m,v,F,j,T,R,E,L,H,Y,te]}class jr extends Qe{constructor(e){super(),Ge(this,e,Nr,Cr,Ee,{})}}new jr({target:document.getElementById("app")});
