var Pn=Object.defineProperty;var Fn=(l,e,t)=>e in l?Pn(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var bt=(l,e,t)=>Fn(l,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();function K(){}function Ln(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}function jn(l){return l()}function Jt(){return Object.create(null)}function qe(l){l.forEach(jn)}function Ft(l){return typeof l=="function"}function Me(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function Mn(l){return Object.keys(l).length===0}function Lt(l,...e){if(l==null){for(const n of e)n(void 0);return K}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function En(l){let e;return Lt(l,t=>e=t)(),e}function Ne(l,e,t){l.$$.on_destroy.push(Lt(e,t))}const Hn=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function c(l,e){l.appendChild(e)}function I(l,e,t){l.insertBefore(e,t||null)}function w(l){l.parentNode&&l.parentNode.removeChild(l)}function je(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function d(l){return document.createElement(l)}function j(l){return document.createTextNode(l)}function S(){return j(" ")}function ve(){return j("")}function ne(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function Bt(l){return function(e){return e.preventDefault(),l.call(this,e)}}function r(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function Jn(l){return Array.from(l.childNodes)}function O(l,e){e=""+e,l.data!==e&&(l.data=e)}function Dt(l,e){l.value=e??""}function Te(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,"")}function Le(l,e,t){l.classList.toggle(e,!!t)}function Bn(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}let nt;function Ee(l){nt=l}function mt(){if(!nt)throw new Error("Function called outside component initialization");return nt}function Ct(l){mt().$$.on_mount.push(l)}function Dn(l){mt().$$.on_destroy.push(l)}function Un(){const l=mt();return(e,t,{cancelable:n=!1}={})=>{const s=l.$$.callbacks[e];if(s){const i=Bn(e,t,{cancelable:n});return s.slice().forEach(o=>{o.call(l,i)}),!i.defaultPrevented}return!0}}const et=[],He=[];let tt=[];const St=[],Nn=Promise.resolve();let jt=!1;function Rn(){jt||(jt=!0,Nn.then(Mt))}function Nt(){return Rn(),Nn}function Rt(l){tt.push(l)}function Ut(l){St.push(l)}const gt=new Set;let Xe=0;function Mt(){if(Xe!==0)return;const l=nt;do{try{for(;Xe<et.length;){const e=et[Xe];Xe++,Ee(e),$n(e.$$)}}catch(e){throw et.length=0,Xe=0,e}for(Ee(null),et.length=0,Xe=0;He.length;)He.pop()();for(let e=0;e<tt.length;e+=1){const t=tt[e];gt.has(t)||(gt.add(t),t())}tt.length=0}while(et.length);for(;St.length;)St.pop()();jt=!1,gt.clear(),Ee(l)}function $n(l){if(l.fragment!==null){l.update(),qe(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(Rt)}}function zn(l){const e=[],t=[];tt.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),tt=e}const at=new Set;let $e;function We(){$e={r:0,c:[],p:$e}}function Ke(){$e.r||qe($e.c),$e=$e.p}function ke(l,e){l&&l.i&&(at.delete(l),l.i(e))}function we(l,e,t,n){if(l&&l.o){if(at.has(l))return;at.add(l),$e.c.push(()=>{at.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function $t(l,e){const t=e.token={};function n(s,i,o,a){if(e.token!==t)return;e.resolved=a;let f=e.ctx;o!==void 0&&(f=f.slice(),f[o]=a);const u=s&&(e.current=s)(f);let _=!1;e.block&&(e.blocks?e.blocks.forEach((p,m)=>{m!==i&&p&&(We(),we(p,1,1,()=>{e.blocks[m]===p&&(e.blocks[m]=null)}),Ke())}):e.block.d(1),u.c(),ke(u,1),u.m(e.mount(),e.anchor),_=!0),e.block=u,e.blocks&&(e.blocks[i]=u),_&&Mt()}if(Ln(l)){const s=mt();if(l.then(i=>{Ee(s),n(e.then,1,e.value,i),Ee(null)},i=>{if(Ee(s),n(e.catch,2,e.error,i),Ee(null),!e.hasCatch)throw i}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,l),!0;e.resolved=l}}function Vn(l,e,t){const n=e.slice(),{resolved:s}=l;l.current===l.then&&(n[l.value]=s),l.current===l.catch&&(n[l.error]=s),l.block.p(n,t)}function se(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Wn(l,e){l.d(1),e.delete(l.key)}function Kn(l,e,t,n,s,i,o,a,f,u,_,p){let m=l.length,v=i.length,h=m;const y={};for(;h--;)y[l[h].key]=h;const C=[],b=new Map,g=new Map,k=[];for(h=v;h--;){const R=p(s,i,h),A=t(R);let N=o.get(A);N?k.push(()=>N.p(R,e)):(N=u(A,R),N.c()),b.set(A,C[h]=N),A in y&&g.set(A,Math.abs(h-y[A]))}const F=new Set,P=new Set;function M(R){ke(R,1),R.m(a,_),o.set(R.key,R),_=R.first,v--}for(;m&&v;){const R=C[v-1],A=l[m-1],N=R.key,T=A.key;R===A?(_=R.first,m--,v--):b.has(T)?!o.has(N)||F.has(N)?M(R):P.has(T)?m--:g.get(N)>g.get(T)?(P.add(N),M(R)):(F.add(T),m--):(f(A,o),m--)}for(;m--;){const R=l[m];b.has(R.key)||f(R,o)}for(;v;)M(C[v-1]);return qe(k),C}function zt(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function ze(l){l&&l.c()}function Je(l,e,t){const{fragment:n,after_update:s}=l.$$;n&&n.m(e,t),Rt(()=>{const i=l.$$.on_mount.map(jn).filter(Ft);l.$$.on_destroy?l.$$.on_destroy.push(...i):qe(i),l.$$.on_mount=[]}),s.forEach(Rt)}function Be(l,e){const t=l.$$;t.fragment!==null&&(zn(t.after_update),qe(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Yn(l,e){l.$$.dirty[0]===-1&&(et.push(l),Rn(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function Ye(l,e,t,n,s,i,o=null,a=[-1]){const f=nt;Ee(l);const u=l.$$={fragment:null,ctx:[],props:i,update:K,not_equal:s,bound:Jt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Jt(),dirty:a,skip_bound:!1,root:e.target||f.$$.root};o&&o(u.root);let _=!1;if(u.ctx=t?t(l,e.props||{},(p,m,...v)=>{const h=v.length?v[0]:m;return u.ctx&&s(u.ctx[p],u.ctx[p]=h)&&(!u.skip_bound&&u.bound[p]&&u.bound[p](h),_&&Yn(l,p)),m}):[],u.update(),_=!0,qe(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const p=Jn(e.target);u.fragment&&u.fragment.l(p),p.forEach(w)}else u.fragment&&u.fragment.c();e.intro&&ke(l.$$.fragment),Je(l,e.target,e.anchor),Mt()}Ee(f)}class Ge{constructor(){bt(this,"$$");bt(this,"$$set")}$destroy(){Be(this,1),this.$destroy=K}$on(e,t){if(!Ft(t))return K;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Mn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Gn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Gn);const Ze=[];function Qn(l,e){return{subscribe:lt(l,e).subscribe}}function lt(l,e=K){let t;const n=new Set;function s(a){if(Me(l,a)&&(l=a,t)){const f=!Ze.length;for(const u of n)u[1](),Ze.push(u,l);if(f){for(let u=0;u<Ze.length;u+=2)Ze[u][0](Ze[u+1]);Ze.length=0}}}function i(a){s(a(l))}function o(a,f=K){const u=[a,f];return n.add(u),n.size===1&&(t=e(s,i)||K),a(l),()=>{n.delete(u),n.size===0&&t&&(t(),t=null)}}return{set:s,update:i,subscribe:o}}function it(l,e,t){const n=!Array.isArray(l),s=n?[l]:l;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=e.length<2;return Qn(t,(o,a)=>{let f=!1;const u=[];let _=0,p=K;const m=()=>{if(_)return;p();const h=e(n?u[0]:u,o,a);i?o(h):p=Ft(h)?h:K},v=s.map((h,y)=>Lt(h,C=>{u[y]=C,_&=~(1<<y),f&&m()},()=>{_|=1<<y}));return f=!0,m(),function(){qe(v),p(),f=!1}})}function Oe(l){try{return JSON.parse(l)}catch{return null}}function ft(l){if(typeof l!="string")return"";let e=l.replace(/^\uFEFF/,"");return e.includes("\\r\\n")&&!e.includes(`
`)&&(e=e.replace(/\\r\\n/g,`
`)),e.includes("\\n")&&!e.includes(`
`)&&(e=e.replace(/\\n/g,`
`)),e}function Xn(l){const t=(o=>{if(!o)return null;if(typeof o=="object")return o;if(typeof o!="string")return null;const a=o.trim();if(!a)return null;let f=Oe(a);if(typeof f=="string"){const p=Oe(f.trim());if(p&&typeof p=="object")return p}if(f&&typeof f=="object")return f;const u=a.indexOf("{"),_=a.lastIndexOf("}");if(u!==-1&&_!==-1&&_>u){const p=a.slice(u,_+1);if(f=Oe(p),f&&typeof f=="object")return f}return null})(l);if(!t)return null;const n=t.filePath||t.path||t.file||t.filename,s=t.oldString??t.old??t.before,i=t.newString??t.new??t.after;return typeof s!="string"&&typeof i!="string"?null:{filePath:n,oldString:ft(s),newString:ft(i)}}function Zn(l){const t=(i=>{if(!i)return null;if(typeof i=="object")return i;if(typeof i!="string")return null;const o=i.trim();if(!o)return null;let a=Oe(o);if(typeof a=="string"){const _=Oe(a.trim());if(_&&typeof _=="object")return _}if(a&&typeof a=="object")return a;const f=o.indexOf("{"),u=o.lastIndexOf("}");if(f!==-1&&u!==-1&&u>f){const _=o.slice(f,u+1);if(a=Oe(_),a&&typeof a=="object")return a}return null})(l);if(!t)return null;const n=Array.isArray(t.replacements)?t.replacements:null;if(!n||n.length===0)return null;const s=n.map(i=>{if(!i||typeof i!="object")return null;const o=i.filePath||i.path||i.file||i.filename,a=i.oldString??i.old??i.before,f=i.newString??i.new??i.after;if(typeof a!="string"&&typeof f!="string")return null;const u=typeof i.explanation=="string"?i.explanation:"";return{filePath:o,oldString:ft(a),newString:ft(f),explanation:u}}).filter(Boolean);return s.length?{explanation:typeof t.explanation=="string"?t.explanation:"",replacements:s}:null}function At(l){const e=l==null?void 0:l.replacements;if(!Array.isArray(e)||e.length===0)return"<pre>Invalid diff</pre>";const t=l!=null&&l.explanation?`<div class="diff-header">${Pe(l.explanation)}</div>`:"",n=e.map((s,i)=>{const o=s!=null&&s.filePath?Pe(s.filePath):`Replacement ${i+1}`,a=s!=null&&s.explanation?`<div class="diff-note">${Pe(s.explanation)}</div>`:"";return`
<div class="diff-container">
  <div class="diff-header">${o}</div>
  ${a}
  <div class="diff-section diff-old">
    <h4>‚àí Removed</h4>
    <div class="diff-content">${Pe((s==null?void 0:s.oldString)||"")}</div>
  </div>
  <div class="diff-section diff-new">
    <h4>+ Added</h4>
    <div class="diff-content">${Pe((s==null?void 0:s.newString)||"")}</div>
  </div>
</div>`}).join(`
`);return t?`
<div class="diff-container">${t}</div>
${n}`:n}function xn(l){const t=(s=>{if(!s)return null;if(typeof s=="object")return s;if(typeof s!="string")return null;const i=s.trim();if(!i)return null;let o=Oe(i);if(typeof o=="string"){const u=Oe(o.trim());if(u&&typeof u=="object")return u}if(o&&typeof o=="object")return o;const a=i.indexOf("{"),f=i.lastIndexOf("}");if(a!==-1&&f!==-1&&f>a){const u=i.slice(a,f+1);if(o=Oe(u),o&&typeof o=="object")return o}return null})(l);if(!t)return null;const n=Array.isArray(t.todoList)?t.todoList:null;return n?{operation:t.operation,todoList:n.map(s=>!s||typeof s!="object"?null:{id:s.id,title:s.title||"",description:s.description||"",status:s.status||""}).filter(Boolean)}:null}function Tt(l){const e=l==null?void 0:l.todoList;if(!Array.isArray(e))return null;const t=l!=null&&l.operation?`Todo List (${String(l.operation)})`:"Todo List",n=e.map(s=>{const i=(s.status||"").toLowerCase(),o=i||"unknown",a=i==="completed"?"x":i==="in-progress"?"-":" ",f=Pe(s.title||""),u=(s.description||"").trim(),_=u?`<div class="todo-desc">${Pe(u)}</div>`:"",p=s.id!==void 0&&s.id!==null?`<span class="todo-id">${Pe(String(s.id))}.</span> `:"";return`
        <div class="todo-item ${o}">
          <div class="todo-line">
            <span class="todo-box" aria-hidden="true">[${a}]</span>
            <span class="todo-title">${p}${f}</span>
          </div>
          ${_}
        </div>`}).join(`
`);return`
    <div class="todo-container">
      <div class="diff-container">
        <div class="diff-header">${Pe(t)}</div>
      </div>
      <div class="todo-body">${n}</div>
    </div>`}function Ve(l){return Array.isArray(l)?l:[]}function es(l){if(l==="None")return"#6c757d";const e=["#007bff","#28a745","#dc3545","#ffc107","#17a2b8","#6f42c1","#fd7e14","#20c997","#e83e8c","#343a40","#495057","#6610f2","#e74c3c","#3498db","#2ecc71","#f39c12","#9b59b6","#1abc9c","#34495e","#95a5a6","#f1c40f","#e67e22","#8e44ad","#16a085","#2c3e50","#c0392b","#d35400","#7f8c8d","#27ae60","#2980b9"];let t=0;for(let n=0;n<l.length;n++)t=(t<<5)-t+l.charCodeAt(n),t|=0;return e[Math.abs(t)%e.length]}function Ot(l){const{oldString:e,newString:t,filePath:n}=l||{};return!e&&!t?"<pre>Invalid diff</pre>":`
<div class="diff-container">
  <div class="diff-header">${n||"File Changes"}</div>
  <div class="diff-section diff-old">
    <h4>‚àí Removed</h4>
    <div class="diff-content">${Pe(e||"")}</div>
  </div>
  <div class="diff-section diff-new">
    <h4>+ Added</h4>
    <div class="diff-content">${Pe(t||"")}</div>
  </div>
</div>`}function Pe(l=""){return l.replace(/[&<>"']/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[e])}const ts=["apply_patch","create_directory","create_file","create_new_jupyter_notebook","edit_notebook_file","file_search","test_search","grep_search","get_changed_files","copilot_getNotebookSummary","get_search_view_results","get_vscode_api","github_repo","list_code_usages","list_dir","open_simple_browser","read_file","run_notebook_cell","semantic_search","test_failure","create_and_run_task","get_terminal_output","manage_todo_list","run_in_terminal","terminal_last_command","terminal_selection","insert_edit_into_file"],ls=["replace_string_in_file","apply_patch","edit_file","create_file","create_directory","run_in_terminal"],Vt=["#f97316","#ea580c","#fb923c","#d97706","#f59e0b","#c2410c","#f8b400","#ffb454"],Wt=["#1d4ed8","#2563eb","#3b82f6","#0ea5e9","#38bdf8","#1e40af","#1e3a8a","#60a5fa","#0284c7"],Kt=["#047857","#059669","#10b981","#34d399","#16a34a","#0d9488","#14b8a6","#22c55e","#2dd4bf"];function ns(l){let e=0;for(let t=0;t<l.length;t++)e=Math.imul(31,e)+l.charCodeAt(t)|0;return Math.abs(e)}let kt=null;function An(){if(kt)return kt;const l={};return ls.forEach((e,t)=>{l[e]=Vt[t%Vt.length]}),ts.filter(e=>!l[e]).forEach((e,t)=>{l[e]=Wt[t%Wt.length]}),l.grep_search&&l.read_file&&l.grep_search===l.read_file&&(l.read_file="#0f7497"),kt=l,l}function yt(l){if(!l)return"#6b7280";if(l==="None")return"#000000";if(l==="analyze_files_and_patterns")return"#2563eb";if(l==="patch_file")return"#7c3aed";const e=String(l).trim(),t=e.toLowerCase(),n=An();return n[e]?n[e]:n[t]?n[t]:Kt[ns(t)%Kt.length]}An();const xe="#dc2626",Yt="#9333ea",wt="#7c3aed",ot=lt([]),Ue=lt([]),Fe=lt({callIndex:0,totalAll:0}),De=lt(-1),ct=lt({fn:"",response:""}),Qe=it([Ue,ct],([l,e])=>{const t=e.fn.trim().toLowerCase(),n=e.response.trim().toLowerCase();if(!t&&!n)return[];const s=[];return l.forEach((i,o)=>{var f,u,_,p,m;let a=!0;if(t&&(a=a&&i.name.toLowerCase().includes(t)),n){let v="";(u=(f=i.request)==null?void 0:f.response)!=null&&u.value&&(v+=i.request.response.value.join(" ")),(p=(_=i.request)==null?void 0:_.response)!=null&&p.copilotFunctionCalls&&i.request.response.copilotFunctionCalls.forEach(h=>{v+=" "+(h.arguments||"")}),(m=i.request)!=null&&m.requestMessages&&i.request.requestMessages.forEach(h=>{Array.isArray(h.content)&&h.content.forEach(y=>{y.text&&(v+=" "+y.text)})}),a=a&&v.toLowerCase().includes(n)}a&&s.push(o)}),s}),ss=it([Ue,Qe],([l,e])=>e.length?e:l.map((t,n)=>n)),is=it([Ue,Qe],([l,e])=>{const t=e.length?e:l.map((s,i)=>i),n=new Map;return t.forEach(s=>{const i=l[s],o=i.requestIndex;n.has(o)||n.set(o,{requestIndex:o,calls:[],request:i.request}),n.get(o).calls.push({...i,originalIndex:s})}),Array.from(n.values()).sort((s,i)=>s.requestIndex-i.requestIndex)}),Tn=it([ot,Ue],([l,e])=>{if(!l.length)return!1;const t=new Map;return l.forEach((n,s)=>{t.set(s,0)}),e.forEach(n=>{if(n.hasFunction){const s=t.get(n.requestIndex)||0;t.set(n.requestIndex,s+1)}}),Array.from(t.values()).every(n=>n===0||n===1)}),os=it([ot],([l])=>{var t,n;const e={};if(!Array.isArray(l))return e;for(const s of l){const i=s==null?void 0:s.requestMessages;if(Array.isArray(i))for(const o of i){if((o==null?void 0:o.role)!=="tool")continue;const a=o.tool_call_id||o.id||o.toolCallId;if(!a||(t=e[a])!=null&&t.text)continue;const f=[],u=o.content;if(Array.isArray(u))for(const _ of u)typeof _=="string"?f.push(_):_!=null&&_.text?f.push(_.text):f.push(JSON.stringify(_));else typeof u=="string"?f.push(u):u!=null&&u.text&&f.push(u.text);e[a]={parts:f,text:f.join(`
`),requestId:(n=s==null?void 0:s.response)==null?void 0:n.requestId}}}return e});Qe.subscribe(l=>{let e;if(Fe.subscribe(n=>e=n)(),l.length===0){De.set(-1);return}const t=l.indexOf(e.callIndex);De.set(t)});Fe.subscribe(l=>{let e;if(Qe.subscribe(n=>e=n)(),!e||e.length===0){De.set(-1);return}const t=e.indexOf(l.callIndex);De.set(t)});function Gt(l){Fe.update(e=>({...e,callIndex:l})),setTimeout(()=>{try{const t=En(Ue)[l];if(t&&typeof t.callIndex=="number"&&t.callIndex>=0){const n="resp-fnhead-"+t.callIndex,s="resp-fncall-"+t.callIndex,i=document.getElementById(n)||document.getElementById(s);if(i){i.scrollIntoView({behavior:"auto",block:"center"});return}let o=0;const a=()=>{o++;const f=document.getElementById(n)||document.getElementById(s);if(f){f.scrollIntoView({behavior:"auto",block:"center"});return}if(o<5)setTimeout(a,80);else{const u=document.querySelector(".main-content");u&&u.scrollIntoView({behavior:"smooth",block:"start"})}};a()}else{const n=document.querySelector(".main-content");n&&n.scrollIntoView({behavior:"smooth",block:"start"})}}catch{const t=document.querySelector(".main-content");t&&t.scrollIntoView({behavior:"smooth",block:"start"})}},60)}function rs(){Fe.update(l=>l.callIndex>0?{...l,callIndex:l.callIndex-1}:l)}function as(){Fe.update(l=>l.callIndex<l.totalAll-1?{...l,callIndex:l.callIndex+1}:l)}function cs(){let l,e;if(Qe.subscribe(t=>l=t)(),De.subscribe(t=>e=t)(),!(!l||l.length===0||e===-1)&&e>0){const t=l[e-1];Fe.update(n=>({...n,callIndex:t}))}}function fs(){let l,e;if(Qe.subscribe(t=>l=t)(),De.subscribe(t=>e=t)(),!(!l||l.length===0||e===-1)&&e<l.length-1){const t=l[e+1];Fe.update(n=>({...n,callIndex:t}))}}function On(l){var e,t,n;return l!=null&&l.name&&Array.isArray(l==null?void 0:l.requestMessages)?"new-agent":(e=l.response)!=null&&e.copilotFunctionCalls&&Array.isArray(l.response.copilotFunctionCalls)?"sim-requests":(t=l.response)!=null&&t.toolCalls&&Array.isArray(l.response.toolCalls)?"fetchlog":(n=l.response)!=null&&n.copilotFunctionCalls?"sim-requests":l.requestId&&l.messages?"fetchlog":l.requestMessages?"sim-requests":"unknown"}function us(l){return!Array.isArray(l)||l.length===0?!1:l.every(e=>typeof(e==null?void 0:e.name)=="string"&&e.name.length>0)}function ds(l){const e=Ve(l==null?void 0:l.requestMessages);let t=null;for(let o=e.length-1;o>=0;o--){const a=e[o];if((a==null?void 0:a.role)!=="assistant")continue;if(Ve(a==null?void 0:a.tool_calls).length){t=a;break}}if(!t)return[];const n=[],s=new Set,i=Ve(t==null?void 0:t.tool_calls);for(const o of i){const a=(o==null?void 0:o.id)||(o==null?void 0:o.tool_call_id)||(o==null?void 0:o.toolCallId);if(a&&s.has(a))continue;const f=(o==null?void 0:o.function)||(o==null?void 0:o.fn)||{},u=(f==null?void 0:f.name)||(o==null?void 0:o.name)||"Unknown",_=(f==null?void 0:f.arguments)??(o==null?void 0:o.arguments),p=typeof _=="string"?_:JSON.stringify(_||{});a&&s.add(a),n.push({name:u,arguments:p,id:a})}return n}function Qt(l){var t;return Ve((t=l.response)==null?void 0:t.copilotFunctionCalls).map(n=>({name:n.name||"Unknown",arguments:n.arguments||"{}",id:n.id}))}function ps(l){var t;return Ve((t=l.response)==null?void 0:t.toolCalls).map(n=>{var a,f;const s=((a=n==null?void 0:n.function)==null?void 0:a.name)||"Unknown",i=(f=n==null?void 0:n.function)==null?void 0:f.arguments,o=typeof i=="string"?i:JSON.stringify(i||{});return{name:s,arguments:o,id:n==null?void 0:n.id}})}function _s(l,e=[],t=0){var a;if(!l.messages||!Array.isArray(l.messages))return l;const n=[];for(const f of l.messages)if((f==null?void 0:f.role)==="assistant"){if(typeof f.content=="string"&&f.content.trim())n.push(f.content);else if(Array.isArray(f.content))for(const u of f.content)typeof u=="string"&&u.trim()?n.push(u):u!=null&&u.text&&u.text.trim()&&n.push(u.text)}const s=(()=>{var f;if(l.tools&&l.tools.length>0)return l.tools;for(const u of e)if(u.tools&&u.tools.length>0)return u.tools;return((f=l.requestOptions)==null?void 0:f.tools)||[]})();return{...l,response:{...l.response,value:n.length>0?n:((a=l.response)==null?void 0:a.value)||void 0,requestId:"fetchlog-unified-conversation"},requestMessages:l.messages,requestOptions:{...l.requestOptions,tools:s}}}function ms(l){const e=new Set,t=[];for(const n of l){const s=Ve(n==null?void 0:n.requestMessages);let i=!1;for(const o of s){if((o==null?void 0:o.role)!=="assistant")continue;const a=Ve(o==null?void 0:o.tool_calls);if(!a.length)continue;const f=[],u=new Set;for(const p of a){const m=(p==null?void 0:p.id)||(p==null?void 0:p.tool_call_id)||(p==null?void 0:p.toolCallId);if(m&&u.has(m))continue;const v=(p==null?void 0:p.function)||(p==null?void 0:p.fn)||{},h=(v==null?void 0:v.name)||(p==null?void 0:p.name)||"Unknown",y=(v==null?void 0:v.arguments)??(p==null?void 0:p.arguments),C=typeof y=="string"?y:JSON.stringify(y||{});m&&u.add(m),f.push({name:h,arguments:C,id:m})}const _=[];for(const p of f){const m=p==null?void 0:p.id;if(!m){_.push(p);continue}e.has(m)||(e.add(m),_.push(p))}_.length&&(i=!0,t.push({...n,response:{...n.response||{},copilotFunctionCalls:_}}))}i||t.push({...n,response:{...n.response||{},copilotFunctionCalls:[]}})}return t}function vs(l){var t;switch(On(l)){case"sim-requests":return Qt(l);case"fetchlog":return ps(l);case"new-agent":return Array.isArray((t=l==null?void 0:l.response)==null?void 0:t.copilotFunctionCalls)?Qt(l):ds(l);default:return console.warn("Unknown format for request:",l),[]}}function hs(l){let e;try{e=JSON.parse(l)}catch{if(!l.match(/\[\s*\{/s)){console.error("No JSON array found");return}}if(!Array.isArray(e)){const i=l.match(/\[\s*\{[\s\S]*\}\s*\]/);if(i)try{e=JSON.parse(i[0])}catch{console.error("Failed to parse extracted JSON");return}}if(!Array.isArray(e))return;const t=us(e)?"new-agent":e.length>0?On(e[0]):"unknown";console.log(`[Format Detection] Detected format: ${t}`);const n=t==="fetchlog"?e.map((i,o)=>_s(i,e,o)):t==="new-agent"?ms(e):e;ot.set(n);const s=[];n.forEach((i,o)=>{var C,b,g,k,F,P,M,R,A;const a=N=>N?typeof N=="string"?N:Array.isArray(N)?N.map(T=>typeof T=="string"?T:(T==null?void 0:T.text)||"").join(""):typeof N=="object"&&typeof N.text=="string"?N.text:"":"",u=(N=>{const T=(N==null?void 0:N.requestMessages)||(N==null?void 0:N.messages);if(!Array.isArray(T))return"";for(const q of T){if((q==null?void 0:q.role)!=="user")continue;const J=a(q.content);if(J&&J.trim())return J.trim()}return""})(i),p=typeof u=="string"&&u.startsWith("Summarize the following actions in 6-7 words using past tense"),m=(()=>{const N="You are an expert at analyzing files and patterns.",T=i.requestMessages||i.messages;if(!T)return!1;for(const q of T)if((q==null?void 0:q.role)==="system"){if(typeof q.content=="string"){if(q.content.includes(N))return!0}else if(Array.isArray(q.content)){for(const J of q.content)if(((typeof J=="string"?J:J==null?void 0:J.text)||"").includes(N))return!0}}return!1})(),v=Array.isArray((C=i==null?void 0:i.response)==null?void 0:C.value)?i.response.value.join(`
`):((b=i==null?void 0:i.response)==null?void 0:b.value)||"",h=typeof v=="string"&&/\*\*\* Begin Patch[\s\S]*\*\*\* End Patch/.test(v),y=vs(i);if(y.length)y.forEach((N,T)=>{var te,re;const J=t!=="new-agent"||T===y.length-1?i:{...i,response:{...i.response||{},value:void 0}};let H=N.name||((te=N.function)==null?void 0:te.name)||"Unknown Function",B=!1;m&&H&&H.toLowerCase()==="none"?(H="analyze_files_and_patterns",B=!0):h&&H&&H.toLowerCase()==="none"&&(H="patch_file",B=!0);const ee=H;let le=yt(ee)||es(ee);const $=((re=i==null?void 0:i.response)==null?void 0:re.type)==="failed";B&&!$&&(le=wt),$&&(le=xe),s.push({requestIndex:o,callIndex:T,name:ee,arguments:N.arguments,id:N.id,request:J,hasFunction:!0,color:le,inferred:B})});else{const N=Array.isArray((g=i==null?void 0:i.response)==null?void 0:g.value)?i.response.value.join(`
`):((k=i==null?void 0:i.response)==null?void 0:k.value)||"";if(typeof N=="string"&&N.trim().startsWith("<analysis>")){let q=Yt;((F=i==null?void 0:i.response)==null?void 0:F.type)==="failed"&&(q=xe),s.push({requestIndex:o,callIndex:-1,name:"conversation_summary",arguments:null,request:i,hasFunction:!0,conversationSummary:!0,color:q})}else if(p){let q=Yt;((P=i==null?void 0:i.response)==null?void 0:P.type)==="failed"&&(q=xe),s.push({requestIndex:o,callIndex:-1,name:"summarize",arguments:null,request:i,hasFunction:!0,conversationSummary:!0,synthetic:!0,color:q})}else if(m){let q=yt("analyze_files_and_patterns");((M=i==null?void 0:i.response)==null?void 0:M.type)==="failed"?q=xe:q=wt,s.push({requestIndex:o,callIndex:-1,name:"analyze_files_and_patterns",arguments:null,request:i,hasFunction:!0,synthetic:!0,inferred:!0,color:q})}else if(h){let q=yt("patch_file");((R=i==null?void 0:i.response)==null?void 0:R.type)==="failed"?q=xe:q=wt,s.push({requestIndex:o,callIndex:-1,name:"patch_file",arguments:null,request:i,hasFunction:!0,synthetic:!0,inferred:!0,color:q})}else{let q="#000000";((A=i==null?void 0:i.response)==null?void 0:A.type)==="failed"&&(q=xe),s.push({requestIndex:o,callIndex:-1,name:"None",arguments:null,request:i,hasFunction:!1,color:q})}}}),Ue.set(s),Fe.set({callIndex:0,totalAll:s.length}),De.set((s.length,-1))}function Xt(l){let e;return{c(){e=d("div"),e.textContent="Drop file anywhere to load",r(e,"class","global-overlay svelte-1yh9h3i")},m(t,n){I(t,e,n)},d(t){t&&w(e)}}}function bs(l){let e,t,n,s,i,o=l[0]||l[1]?"Release to Load":"Drop / Click",a,f,u,_,p,m,v,h,y,C=l[1]&&!l[0]&&Xt();return{c(){e=d("div"),t=d("div"),t.textContent="üìÅ",n=S(),s=d("div"),i=d("div"),a=j(o),f=S(),u=d("div"),u.innerHTML=`<span class="hint-label svelte-1yh9h3i">Supports:</span> <span class="hint-formats svelte-1yh9h3i"><span class="nowrap svelte-1yh9h3i">sim‚Äërequests</span>,
        <span class="nowrap svelte-1yh9h3i">fetchlog</span>,
        or <span class="nowrap svelte-1yh9h3i">vscode chat</span> files</span>`,_=S(),p=d("input"),m=S(),C&&C.c(),r(t,"class","icon svelte-1yh9h3i"),r(t,"aria-hidden","true"),r(i,"class","dd-text-main svelte-1yh9h3i"),r(u,"class","dd-text-hint svelte-1yh9h3i"),r(s,"class","dd-text svelte-1yh9h3i"),r(p,"type","file"),r(p,"accept",".txt,.json"),Te(p,"display","none"),r(e,"class",v="drag-drop compact "+(l[0]||l[1]?"over":"")+" svelte-1yh9h3i"),r(e,"role","button"),r(e,"tabindex","0")},m(b,g){I(b,e,g),c(e,t),c(e,n),c(e,s),c(s,i),c(i,a),c(s,f),c(s,u),c(e,_),c(e,p),l[5](p),c(e,m),C&&C.m(e,null),h||(y=[ne(p,"change",l[3]),ne(e,"dragover",Bt(l[6])),ne(e,"dragleave",Bt(l[7])),ne(e,"drop",l[4]),ne(e,"click",l[8]),ne(e,"keydown",l[9])],h=!0)},p(b,[g]){g&3&&o!==(o=b[0]||b[1]?"Release to Load":"Drop / Click")&&O(a,o),b[1]&&!b[0]?C||(C=Xt(),C.c(),C.m(e,null)):C&&(C.d(1),C=null),g&3&&v!==(v="drag-drop compact "+(b[0]||b[1]?"over":"")+" svelte-1yh9h3i")&&r(e,"class",v)},i:K,o:K,d(b){b&&w(e),l[5](null),C&&C.d(),h=!1,qe(y)}}}function gs(l,e,t){const n=Un();let s=!1,i=!1,o,a=[];function f(k){var P;const F=(P=k.target.files)==null?void 0:P[0];F&&_(F)}function u(k){var P;k.preventDefault(),t(0,s=!1);const F=(P=k.dataTransfer.files)==null?void 0:P[0];F&&_(F)}function _(k){const F=new FileReader;F.onload=()=>{n("loadText",F.result)},F.readAsText(k)}function p(k){k.dataTransfer&&Array.from(k.dataTransfer.types).includes("Files")&&(k.preventDefault(),k.dataTransfer.dropEffect="copy",t(1,i=!0))}function m(k){k.relatedTarget==null&&(t(1,i=!1),t(0,s=!1))}function v(k){var F,P;(P=(F=k.dataTransfer)==null?void 0:F.files)!=null&&P.length&&(k.preventDefault(),_(k.dataTransfer.files[0])),t(1,i=!1),t(0,s=!1)}Ct(()=>{window.addEventListener("dragover",p),window.addEventListener("dragleave",m),window.addEventListener("drop",v),a=[()=>window.removeEventListener("dragover",p),()=>window.removeEventListener("dragleave",m),()=>window.removeEventListener("drop",v)]}),Dn(()=>a.forEach(k=>k()));function h(k){He[k?"unshift":"push"](()=>{o=k,t(2,o)})}return[s,i,o,f,u,h,()=>t(0,s=!0),()=>t(0,s=!1),()=>o.click(),k=>(k.key==="Enter"||k.key===" ")&&o.click()]}class ks extends Ge{constructor(e){super(),Ye(this,e,gs,bs,Me,{})}}function Zt(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function xt(l,e,t){const n=l.slice();return n[23]=e[t],n}function el(l,e,t){const n=l.slice();return n[20]=e[t],n}function tl(l,e,t){const n=l.slice();return n[23]=e[t],n}function ys(l){let e,t,n=se(l[1]),s=[];for(let i=0;i<n.length;i+=1)s[i]=al(Zt(l,n,i));return{c(){e=d("div");for(let i=0;i<s.length;i+=1)s[i].c();r(e,"class",t="mixed-calls "+(l[0]==="top"?"top-flow":"panel-flow")+" svelte-1u08vn"),r(e,"role","listbox"),r(e,"aria-label","Tool calls (multi-call requests framed, single-call inline)")},m(i,o){I(i,e,o);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null)},p(i,o){if(o&23){n=se(i[1]);let a;for(a=0;a<n.length;a+=1){const f=Zt(i,n,a);s[a]?s[a].p(f,o):(s[a]=al(f),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}o&1&&t!==(t="mixed-calls "+(i[0]==="top"?"top-flow":"panel-flow")+" svelte-1u08vn")&&r(e,"class",t)},d(i){i&&w(e),je(s,i)}}}function ws(l){let e,t,n=se(l[4]),s=[];for(let i=0;i<n.length;i+=1)s[i]=_l(el(l,n,i));return{c(){e=d("div");for(let i=0;i<s.length;i+=1)s[i].c();r(e,"class",t="flat-calls-container "+(l[0]==="top"?"top-flow":"panel-flow")+" svelte-1u08vn"),r(e,"role","listbox"),r(e,"aria-label","Tool calls")},m(i,o){I(i,e,o);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null)},p(i,o){if(o&21){n=se(i[4]);let a;for(a=0;a<n.length;a+=1){const f=el(i,n,a);s[a]?s[a].p(f,o):(s[a]=_l(f),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}o&1&&t!==(t="flat-calls-container "+(i[0]==="top"?"top-flow":"panel-flow")+" svelte-1u08vn")&&r(e,"class",t)},d(i){i&&w(e),je(s,i)}}}function Is(l){let e;return{c(){e=d("div"),e.textContent="No matches.",r(e,"class","empty svelte-1u08vn")},m(t,n){I(t,e,n)},p:K,d(t){t&&w(e)}}}function ll(l){let e,t,n,s,i,o=l[4][l[28]].roundNumber+"",a,f,u=dt(l[4][l[28]].requestId)+"",_,p,m,v,h,y,C,b;return{c(){e=d("div"),t=d("span"),n=S(),s=d("span"),i=j("Round "),a=j(o),f=d("span"),_=j(u),m=S(),v=d("span"),r(t,"class","rfs-line svelte-1u08vn"),r(t,"aria-hidden","true"),r(f,"class","rfs-id svelte-1u08vn"),r(f,"title",p=l[4][l[28]].requestId),r(s,"class","rfs-label svelte-1u08vn"),r(v,"class","rfs-line svelte-1u08vn"),r(v,"aria-hidden","true"),r(e,"class","round-full-separator svelte-1u08vn"),r(e,"data-round",h=l[4][l[28]].roundNumber),r(e,"data-request-id",y=l[4][l[28]].requestId),r(e,"title",C=`Round ${l[4][l[28]].roundNumber} ‚Ä¢ ${l[4][l[28]].requestId}`),r(e,"aria-label",b=`Round ${l[4][l[28]].roundNumber} boundary (request id ${l[4][l[28]].requestId})`)},m(g,k){I(g,e,k),c(e,t),c(e,n),c(e,s),c(s,i),c(s,a),c(s,f),c(f,_),c(e,m),c(e,v)},p(g,k){k&16&&o!==(o=g[4][g[28]].roundNumber+"")&&O(a,o),k&16&&u!==(u=dt(g[4][g[28]].requestId)+"")&&O(_,u),k&16&&p!==(p=g[4][g[28]].requestId)&&r(f,"title",p),k&16&&h!==(h=g[4][g[28]].roundNumber)&&r(e,"data-round",h),k&16&&y!==(y=g[4][g[28]].requestId)&&r(e,"data-request-id",y),k&16&&C!==(C=`Round ${g[4][g[28]].roundNumber} ‚Ä¢ ${g[4][g[28]].requestId}`)&&r(e,"title",C),k&16&&b!==(b=`Round ${g[4][g[28]].roundNumber} boundary (request id ${g[4][g[28]].requestId})`)&&r(e,"aria-label",b)},d(g){g&&w(e)}}}function nl(l){let e;return{c(){e=d("span"),e.textContent="‚àë",r(e,"class","infer-badge svelte-1u08vn"),r(e,"title","Inferred tool name")},m(t,n){I(t,e,n)},d(t){t&&w(e)}}}function sl(l){let e;return{c(){e=d("span"),e.textContent="üìã",r(e,"class","summary-emoji svelte-1u08vn"),r(e,"title","Conversation summary"),r(e,"aria-hidden","true")},m(t,n){I(t,e,n)},d(t){t&&w(e)}}}function il(l){let e;return{c(){e=d("span"),e.textContent="‚ö†Ô∏è",r(e,"class","fail-emoji svelte-1u08vn"),r(e,"title","Failed response"),r(e,"aria-hidden","true")},m(t,n){I(t,e,n)},d(t){t&&w(e)}}}function ol(l){var R,A;let e,t,n=l[23].originalIndex+1+"",s,i,o,a=ut(l[23])+"",f,u,_,p,m,v,h,y,C,b,g,k=l[23].inferred&&nl(),F=l[23].conversationSummary&&sl(),P=((A=(R=l[23].request)==null?void 0:R.response)==null?void 0:A.type)==="failed"&&il();function M(){return l[17](l[23])}return{c(){var N,T;e=d("button"),t=d("span"),s=j(n),i=S(),o=d("span"),f=j(a),k&&k.c(),u=S(),F&&F.c(),_=S(),P&&P.c(),p=S(),r(t,"class","num svelte-1u08vn"),r(o,"class","name svelte-1u08vn"),r(e,"role","option"),r(e,"aria-selected",m=l[2].callIndex===l[23].originalIndex),Te(e,"--chip-color",l[23].color),r(e,"data-round",v=l[4][l[28]].roundNumber),r(e,"data-req-info",h=`Request ${l[26].requestIndex+1} ‚Ä¢ ${l[26].calls.length} call${l[26].calls.length===1?"":"s"}`),r(e,"data-call-index",y=l[23].originalIndex),r(e,"aria-label",C="Tool call "+(l[23].name||"None")+(l[26].calls.length===1?" (single-call request)":"")+(((T=(N=l[23].request)==null?void 0:N.response)==null?void 0:T.type)==="failed"?" (failed response)":"")),r(e,"class","svelte-1u08vn"),Le(e,"selected",l[2].callIndex===l[23].originalIndex),Le(e,"topchip",l[0]==="top")},m(N,T){I(N,e,T),c(e,t),c(t,s),c(e,i),c(e,o),c(o,f),k&&k.m(e,null),c(e,u),F&&F.m(e,null),c(e,_),P&&P.m(e,null),c(e,p),b||(g=ne(e,"click",M),b=!0)},p(N,T){var q,J,H,B;l=N,T&2&&n!==(n=l[23].originalIndex+1+"")&&O(s,n),T&2&&a!==(a=ut(l[23])+"")&&O(f,a),l[23].inferred?k||(k=nl(),k.c(),k.m(e,u)):k&&(k.d(1),k=null),l[23].conversationSummary?F||(F=sl(),F.c(),F.m(e,_)):F&&(F.d(1),F=null),((J=(q=l[23].request)==null?void 0:q.response)==null?void 0:J.type)==="failed"?P||(P=il(),P.c(),P.m(e,p)):P&&(P.d(1),P=null),T&6&&m!==(m=l[2].callIndex===l[23].originalIndex)&&r(e,"aria-selected",m),T&2&&Te(e,"--chip-color",l[23].color),T&16&&v!==(v=l[4][l[28]].roundNumber)&&r(e,"data-round",v),T&2&&h!==(h=`Request ${l[26].requestIndex+1} ‚Ä¢ ${l[26].calls.length} call${l[26].calls.length===1?"":"s"}`)&&r(e,"data-req-info",h),T&2&&y!==(y=l[23].originalIndex)&&r(e,"data-call-index",y),T&2&&C!==(C="Tool call "+(l[23].name||"None")+(l[26].calls.length===1?" (single-call request)":"")+(((B=(H=l[23].request)==null?void 0:H.response)==null?void 0:B.type)==="failed"?" (failed response)":""))&&r(e,"aria-label",C),T&6&&Le(e,"selected",l[2].callIndex===l[23].originalIndex),T&1&&Le(e,"topchip",l[0]==="top")},d(N){N&&w(e),k&&k.d(),F&&F.d(),P&&P.d(),b=!1,g()}}}function rl(l){let e,t,n,s,i,o,a,f,u=l[4][l[28]].isRoundStart&&ll(l),_=se(l[26].calls),p=[];for(let m=0;m<_.length;m+=1)p[m]=ol(xt(l,_,m));return{c(){u&&u.c(),e=S(),t=d("div"),n=d("div");for(let m=0;m<p.length;m+=1)p[m].c();i=S(),r(n,"class","group-calls-container svelte-1u08vn"),r(n,"aria-label",s=`Request ${l[26].requestIndex+1} with ${l[26].calls.length} call${l[26].calls.length===1?"":"s"}`),r(t,"class","request-group svelte-1u08vn"),r(t,"data-request-index",o=l[26].requestIndex),r(t,"data-request-id",a=l[4][l[28]].requestId),r(t,"data-round",f=l[4][l[28]].roundNumber),Le(t,"single-call",l[26].calls.length===1)},m(m,v){u&&u.m(m,v),I(m,e,v),I(m,t,v),c(t,n);for(let h=0;h<p.length;h+=1)p[h]&&p[h].m(n,null);c(t,i)},p(m,v){if(m[4][m[28]].isRoundStart?u?u.p(m,v):(u=ll(m),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),v&23){_=se(m[26].calls);let h;for(h=0;h<_.length;h+=1){const y=xt(m,_,h);p[h]?p[h].p(y,v):(p[h]=ol(y),p[h].c(),p[h].m(n,null))}for(;h<p.length;h+=1)p[h].d(1);p.length=_.length}v&2&&s!==(s=`Request ${m[26].requestIndex+1} with ${m[26].calls.length} call${m[26].calls.length===1?"":"s"}`)&&r(n,"aria-label",s),v&2&&o!==(o=m[26].requestIndex)&&r(t,"data-request-index",o),v&16&&a!==(a=m[4][m[28]].requestId)&&r(t,"data-request-id",a),v&16&&f!==(f=m[4][m[28]].roundNumber)&&r(t,"data-round",f),v&2&&Le(t,"single-call",m[26].calls.length===1)},d(m){m&&(w(e),w(t)),u&&u.d(m),je(p,m)}}}function al(l){let e="grp-"+l[26].requestIndex,t,n=rl(l);return{c(){n.c(),t=ve()},m(s,i){n.m(s,i),I(s,t,i)},p(s,i){i&2&&Me(e,e="grp-"+s[26].requestIndex)?(n.d(1),n=rl(s),n.c(),n.m(t.parentNode,t)):n.p(s,i)},d(s){s&&w(t),n.d(s)}}}function cl(l){let e,t,n,s,i,o=l[20].roundNumber+"",a,f,u=dt(l[20].requestId)+"",_,p,m,v,h,y,C,b;return{c(){e=d("div"),t=d("span"),n=S(),s=d("span"),i=j("Round "),a=j(o),f=d("span"),_=j(u),m=S(),v=d("span"),r(t,"class","rfs-line svelte-1u08vn"),r(t,"aria-hidden","true"),r(f,"class","rfs-id svelte-1u08vn"),r(f,"title",p=l[20].requestId),r(s,"class","rfs-label svelte-1u08vn"),r(v,"class","rfs-line svelte-1u08vn"),r(v,"aria-hidden","true"),r(e,"class","round-full-separator svelte-1u08vn"),r(e,"data-round",h=l[20].roundNumber),r(e,"data-request-id",y=l[20].requestId),r(e,"title",C=`Round ${l[20].roundNumber} ‚Ä¢ ${l[20].requestId}`),r(e,"aria-label",b=`Round ${l[20].roundNumber} boundary (request id ${l[20].requestId})`)},m(g,k){I(g,e,k),c(e,t),c(e,n),c(e,s),c(s,i),c(s,a),c(s,f),c(f,_),c(e,m),c(e,v)},p(g,k){k&16&&o!==(o=g[20].roundNumber+"")&&O(a,o),k&16&&u!==(u=dt(g[20].requestId)+"")&&O(_,u),k&16&&p!==(p=g[20].requestId)&&r(f,"title",p),k&16&&h!==(h=g[20].roundNumber)&&r(e,"data-round",h),k&16&&y!==(y=g[20].requestId)&&r(e,"data-request-id",y),k&16&&C!==(C=`Round ${g[20].roundNumber} ‚Ä¢ ${g[20].requestId}`)&&r(e,"title",C),k&16&&b!==(b=`Round ${g[20].roundNumber} boundary (request id ${g[20].requestId})`)&&r(e,"aria-label",b)},d(g){g&&w(e)}}}function fl(l){let e;return{c(){e=d("span"),e.textContent="‚àë",r(e,"class","infer-badge svelte-1u08vn"),r(e,"title","Inferred tool name")},m(t,n){I(t,e,n)},d(t){t&&w(e)}}}function ul(l){let e;return{c(){e=d("span"),e.textContent="üìã",r(e,"class","summary-emoji svelte-1u08vn"),r(e,"title","Conversation summary"),r(e,"aria-hidden","true")},m(t,n){I(t,e,n)},d(t){t&&w(e)}}}function dl(l){let e;return{c(){e=d("span"),e.textContent="‚ö†Ô∏è",r(e,"class","fail-emoji svelte-1u08vn"),r(e,"title","Failed response"),r(e,"aria-hidden","true")},m(t,n){I(t,e,n)},d(t){t&&w(e)}}}function pl(l){var P,M;let e,t,n=l[23].originalIndex+1+"",s,i,o,a=ut(l[23])+"",f,u,_,p,m,v,h,y,C,b=l[23].inferred&&fl(),g=l[23].conversationSummary&&ul(),k=((M=(P=l[23].request)==null?void 0:P.response)==null?void 0:M.type)==="failed"&&dl();function F(){return l[16](l[23])}return{c(){var R,A;e=d("button"),t=d("span"),s=j(n),i=S(),o=d("span"),f=j(a),b&&b.c(),u=S(),g&&g.c(),_=S(),k&&k.c(),p=S(),r(t,"class","num svelte-1u08vn"),r(o,"class","name svelte-1u08vn"),r(e,"role","option"),r(e,"aria-selected",m=l[2].callIndex===l[23].originalIndex),Te(e,"--chip-color",l[23].color),r(e,"data-call-index",v=l[23].originalIndex),r(e,"aria-label",h="Tool call "+(l[23].name||"None")+(((A=(R=l[23].request)==null?void 0:R.response)==null?void 0:A.type)==="failed"?" (failed response)":"")),r(e,"class","svelte-1u08vn"),Le(e,"selected",l[2].callIndex===l[23].originalIndex),Le(e,"topchip",l[0]==="top")},m(R,A){I(R,e,A),c(e,t),c(t,s),c(e,i),c(e,o),c(o,f),b&&b.m(e,null),c(e,u),g&&g.m(e,null),c(e,_),k&&k.m(e,null),c(e,p),y||(C=ne(e,"click",F),y=!0)},p(R,A){var N,T,q,J;l=R,A&16&&n!==(n=l[23].originalIndex+1+"")&&O(s,n),A&16&&a!==(a=ut(l[23])+"")&&O(f,a),l[23].inferred?b||(b=fl(),b.c(),b.m(e,u)):b&&(b.d(1),b=null),l[23].conversationSummary?g||(g=ul(),g.c(),g.m(e,_)):g&&(g.d(1),g=null),((T=(N=l[23].request)==null?void 0:N.response)==null?void 0:T.type)==="failed"?k||(k=dl(),k.c(),k.m(e,p)):k&&(k.d(1),k=null),A&20&&m!==(m=l[2].callIndex===l[23].originalIndex)&&r(e,"aria-selected",m),A&16&&Te(e,"--chip-color",l[23].color),A&16&&v!==(v=l[23].originalIndex)&&r(e,"data-call-index",v),A&16&&h!==(h="Tool call "+(l[23].name||"None")+(((J=(q=l[23].request)==null?void 0:q.response)==null?void 0:J.type)==="failed"?" (failed response)":""))&&r(e,"aria-label",h),A&20&&Le(e,"selected",l[2].callIndex===l[23].originalIndex),A&1&&Le(e,"topchip",l[0]==="top")},d(R){R&&w(e),b&&b.d(),g&&g.d(),k&&k.d(),y=!1,C()}}}function _l(l){let e,t,n=l[20].isRoundStart&&cl(l),s=se(l[20].calls),i=[];for(let o=0;o<s.length;o+=1)i[o]=pl(tl(l,s,o));return{c(){n&&n.c(),e=S();for(let o=0;o<i.length;o+=1)i[o].c();t=ve()},m(o,a){n&&n.m(o,a),I(o,e,a);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(o,a);I(o,t,a)},p(o,a){if(o[20].isRoundStart?n?n.p(o,a):(n=cl(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),a&21){s=se(o[20].calls);let f;for(f=0;f<s.length;f+=1){const u=tl(o,s,f);i[f]?i[f].p(u,a):(i[f]=pl(u),i[f].c(),i[f].m(t.parentNode,t))}for(;f<i.length;f+=1)i[f].d(1);i.length=s.length}},d(o){o&&(w(e),w(t)),n&&n.d(o),je(i,o)}}}function Cs(l){let e,t,n,s,i,o,a=l[6].length+"",f,u,_,p,m;function v(C,b){return C[1].length?C[5]?ws:ys:Is}let h=v(l),y=h(l);return{c(){e=d("section"),t=d("header"),n=d("div"),n.innerHTML='<h2 class="svelte-1u08vn">Next tool calls</h2>',s=S(),i=d("div"),o=d("span"),f=j(a),u=S(),_=d("div"),p=d("div"),y.c(),r(n,"class","header-title svelte-1u08vn"),r(o,"class","count-badge svelte-1u08vn"),r(i,"class","section-meta svelte-1u08vn"),r(t,"class","section-header calls-header svelte-1u08vn"),r(p,"id","tool-calls-content"),r(p,"class","calls-content svelte-1u08vn"),r(_,"class","calls-scroll svelte-1u08vn"),r(_,"role","region"),r(_,"aria-label","Tool calls scroll area"),r(e,"class",m="calls-panel "+(l[0]==="top"?"top-mode":"dense")+" "+(l[5]?"flat-mode":"grouped-mode")+" svelte-1u08vn"),r(e,"data-variant",l[0])},m(C,b){I(C,e,b),c(e,t),c(t,n),c(t,s),c(t,i),c(i,o),c(o,f),c(e,u),c(e,_),c(_,p),y.m(p,null),l[18](_)},p(C,[b]){b&64&&a!==(a=C[6].length+"")&&O(f,a),h===(h=v(C))&&y?y.p(C,b):(y.d(1),y=h(C),y&&(y.c(),y.m(p,null))),b&33&&m!==(m="calls-panel "+(C[0]==="top"?"top-mode":"dense")+" "+(C[5]?"flat-mode":"grouped-mode")+" svelte-1u08vn")&&r(e,"class",m),b&1&&r(e,"data-variant",C[0])},i:K,o:K,d(C){C&&w(e),y.d(),l[18](null)}}}function Ss(l){const e="You are an expert at analyzing files and patterns.";if(!(l!=null&&l.requestMessages))return!1;for(const t of l.requestMessages)if(!((t==null?void 0:t.role)!=="system"||!Array.isArray(t.content))){for(const n of t.content)if(((typeof n=="string"?n:n==null?void 0:n.text)||"").trim()===e)return!0}return!1}function ut(l){return l?(l.name==="None"||l.name&&l.name.toLowerCase()==="none")&&Ss(l.request)?"analyze_files_and_patterns":l.name:""}function dt(l,e=18){if(!l)return"";if(l.length<=e)return l;const t=5;return l.slice(0,e-(t+1))+"‚Ä¶"+l.slice(-t)}function js(l,e,t){let n,s,i,o,a,f,u,_,p,m,v,h,y;Ne(l,Fe,R=>t(2,p=R)),Ne(l,ot,R=>t(12,m=R)),Ne(l,Tn,R=>t(13,v=R)),Ne(l,is,R=>t(14,h=R)),Ne(l,ss,R=>t(15,y=R));let{variant:C="panel"}=e,b,g=-1;async function k(R=!0){if(!b)return;const A=p==null?void 0:p.callIndex;if(A==null||A<0)return;await Nt();const N=b.querySelector(`button[data-call-index='${A}']`);if(!N)return;const T=N.offsetTop,q=T+N.offsetHeight,J=b.scrollTop,H=J+b.clientHeight;if(!(T>=J&&q<=H))if(R){const B=T-b.clientHeight/2+N.offsetHeight/2;b.scrollTo({top:Math.max(B,0),behavior:"smooth"})}else N.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"})}const F=R=>Gt(R.originalIndex),P=R=>Gt(R.originalIndex);function M(R){He[R?"unshift":"push"](()=>{b=R,t(3,b)})}return l.$$set=R=>{"variant"in R&&t(0,C=R.variant)},l.$$.update=()=>{l.$$.dirty&32768&&t(6,n=y),l.$$.dirty&16384&&t(1,s=h),l.$$.dirty&8192&&t(5,i=v),l.$$.dirty&4096&&t(10,o=m),l.$$.dirty&1024&&t(11,a=(()=>{const R=new Map;return o.forEach((A,N)=>{var q;const T=((q=A==null?void 0:A.response)==null?void 0:q.requestId)||`__noid_${N}`;R.has(T)?R.get(T).last=N:R.set(T,{first:N,last:N,id:T})}),Array.from(R.values()).sort((A,N)=>A.first-N.first||A.last-N.last)})()),l.$$.dirty&2048&&t(9,f=(()=>{const R=[];for(let A=0;A<a.length;A++){const N=a[A];let T=!1;for(let q=0;q<a.length;q++){if(A===q)continue;const J=a[q];if(J.first<=N.first&&N.last<=J.last&&(J.first<N.first||N.last<J.last)){T=!0;break}}T||R.push({...N})}return R.sort((A,N)=>A.first-N.first),R.forEach((A,N)=>{A.round=N+1}),R})()),l.$$.dirty&1536&&t(8,u=(()=>{const R=new Array(o.length).fill(null);for(const A of f)for(let N=A.first;N<=A.last;N++)R[N]={round:A.round,isRoundStart:N===A.first,topSpanId:A.id};return R})()),l.$$.dirty&258&&t(4,_=s.map(R=>{var T,q;const A=((q=(T=R.request)==null?void 0:T.response)==null?void 0:q.requestId)||`__noid_${R.requestIndex}`,N=u[R.requestIndex]||{round:0,isRoundStart:!1,topSpanId:A};return{requestIndex:R.requestIndex,request:R.request,requestId:A,calls:R.calls,isRoundStart:N.isRoundStart,roundNumber:N.round,topSpanId:N.topSpanId}})),l.$$.dirty&132&&p.callIndex!==g&&(t(7,g=p.callIndex),k())},[C,s,p,b,_,i,n,g,u,f,o,a,m,v,h,y,F,P,M]}class Ns extends Ge{constructor(e){super(),Ye(this,e,js,Cs,Me,{variant:0})}}function ml(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function Rs(l){let e,t;return{c(){e=d("pre"),t=j(l[8])},m(n,s){I(n,e,s),c(e,t)},p(n,s){s&256&&O(t,n[8])},d(n){n&&w(e)}}}function As(l){let e,t,n=l[0]==="todo"?"Raw JSON":"Todo View",s,i,o,a,f,u;function _(v,h){var y;return h&9&&(o=null),o==null&&(o=!!(v[0]==="todo"&&Array.isArray((y=v[3])==null?void 0:y.todoList))),o?Fs:Ps}let p=_(l,-1),m=p(l);return{c(){e=d("div"),t=d("button"),s=j(n),i=S(),m.c(),a=ve(),r(t,"class","svelte-15q0qw3"),r(e,"class","actions svelte-15q0qw3")},m(v,h){I(v,e,h),c(e,t),c(t,s),I(v,i,h),m.m(v,h),I(v,a,h),f||(u=ne(t,"click",l[10]),f=!0)},p(v,h){h&1&&n!==(n=v[0]==="todo"?"Raw JSON":"Todo View")&&O(s,n),p===(p=_(v,h))&&m?m.p(v,h):(m.d(1),m=p(v),m&&(m.c(),m.m(a.parentNode,a)))},d(v){v&&(w(e),w(i),w(a)),m.d(v),f=!1,u()}}}function Ts(l){let e,t,n=l[0]==="patch"?"Raw JSON":"Patch View",s,i,o,a,f;function u(m,v){return m[0]==="patch"&&m[1].length?Ms:Ls}let _=u(l),p=_(l);return{c(){e=d("div"),t=d("button"),s=j(n),i=S(),p.c(),o=ve(),r(t,"class","svelte-15q0qw3"),r(e,"class","actions svelte-15q0qw3")},m(m,v){I(m,e,v),c(e,t),c(t,s),I(m,i,v),p.m(m,v),I(m,o,v),a||(f=ne(t,"click",l[12]),a=!0)},p(m,v){v&1&&n!==(n=m[0]==="patch"?"Raw JSON":"Patch View")&&O(s,n),_===(_=u(m))&&p?p.p(m,v):(p.d(1),p=_(m),p&&(p.c(),p.m(o.parentNode,o)))},d(m){m&&(w(e),w(i),w(o)),p.d(m),a=!1,f()}}}function Os(l){let e,t,n=l[0]==="formatted"?"Raw JSON":"Formatted",s,i,o,a,f;function u(m,v){var h;return m[0]==="formatted"&&((h=m[3])==null?void 0:h.content)!==void 0?Ds:Bs}let _=u(l),p=_(l);return{c(){e=d("div"),t=d("button"),s=j(n),i=S(),p.c(),o=ve(),r(t,"class","svelte-15q0qw3"),r(e,"class","actions svelte-15q0qw3")},m(m,v){I(m,e,v),c(e,t),c(t,s),I(m,i,v),p.m(m,v),I(m,o,v),a||(f=ne(t,"click",l[11]),a=!0)},p(m,v){v&1&&n!==(n=m[0]==="formatted"?"Raw JSON":"Formatted")&&O(s,n),_===(_=u(m))&&p?p.p(m,v):(p.d(1),p=_(m),p&&(p.c(),p.m(o.parentNode,o)))},d(m){m&&(w(e),w(i),w(o)),p.d(m),a=!1,f()}}}function qs(l){let e,t,n=l[0]==="diff"?"Raw JSON":"View Diff",s,i,o,a,f,u;function _(v,h){var y,C;return h&9&&(o=null),o==null&&(o=!!(v[0]==="diff"&&((y=v[3])!=null&&y.oldString||Array.isArray((C=v[3])==null?void 0:C.replacements)&&v[3].replacements.length))),o?$s:Us}let p=_(l,-1),m=p(l);return{c(){e=d("div"),t=d("button"),s=j(n),i=S(),m.c(),a=ve(),r(t,"class","svelte-15q0qw3"),r(e,"class","actions svelte-15q0qw3")},m(v,h){I(v,e,h),c(e,t),c(t,s),I(v,i,h),m.m(v,h),I(v,a,h),f||(u=ne(t,"click",l[9]),f=!0)},p(v,h){h&1&&n!==(n=v[0]==="diff"?"Raw JSON":"View Diff")&&O(s,n),p===(p=_(v,h))&&m?m.p(v,h):(m.d(1),m=p(v),m&&(m.c(),m.m(a.parentNode,a)))},d(v){v&&(w(e),w(i),w(a)),m.d(v),f=!1,u()}}}function Ps(l){let e,t;return{c(){e=d("pre"),t=j(l[8])},m(n,s){I(n,e,s),c(e,t)},p(n,s){s&256&&O(t,n[8])},d(n){n&&w(e)}}}function Fs(l){let e,t=Tt(l[3])+"";return{c(){e=d("div"),r(e,"class","todo-wrapper"),r(e,"aria-label","Todo list view")},m(n,s){I(n,e,s),e.innerHTML=t},p(n,s){s&8&&t!==(t=Tt(n[3])+"")&&(e.innerHTML=t)},d(n){n&&w(e)}}}function Ls(l){let e,t;return{c(){e=d("pre"),t=j(l[8])},m(n,s){I(n,e,s),c(e,t)},p(n,s){s&256&&O(t,n[8])},d(n){n&&w(e)}}}function Ms(l){let e,t=se(l[1]),n=[];for(let s=0;s<t.length;s+=1)n[s]=vl(ml(l,t,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();r(e,"class","patch-view svelte-15q0qw3"),r(e,"aria-label","Apply patch visualization")},m(s,i){I(s,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,i){if(i&2){t=se(s[1]);let o;for(o=0;o<t.length;o+=1){const a=ml(s,t,o);n[o]?n[o].p(a,i):(n[o]=vl(a),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&w(e),je(n,s)}}}function Es(l){let e;return{c(){e=d("div"),e.textContent="(No content changes captured)",r(e,"class","patch-empty svelte-15q0qw3")},m(t,n){I(t,e,n)},p:K,d(t){t&&w(e)}}}function Hs(l){let e,t=hl(l[17].body)+"",n;return{c(){e=d("pre"),r(e,"class","patch-code svelte-15q0qw3"),r(e,"aria-label",n=l[17].action+" file diff")},m(s,i){I(s,e,i),e.innerHTML=t},p(s,i){i&2&&t!==(t=hl(s[17].body)+"")&&(e.innerHTML=t),i&2&&n!==(n=s[17].action+" file diff")&&r(e,"aria-label",n)},d(s){s&&w(e)}}}function Js(l){let e;return{c(){e=d("div"),e.textContent="File deleted",r(e,"class","patch-deleted-note svelte-15q0qw3")},m(t,n){I(t,e,n)},p:K,d(t){t&&w(e)}}}function vl(l){let e,t,n,s,i=l[17].action+"",o,a,f,u=l[17].filePath+"",_,p,m,v,h;function y(g,k){return g[17].action==="Delete"?Js:g[17].body?Hs:Es}let C=y(l),b=C(l);return{c(){e=d("div"),t=d("div"),n=d("span"),s=d("span"),o=j(i),a=j(":"),f=S(),_=j(u),m=S(),b.c(),v=S(),r(s,"class","patch-action-text svelte-15q0qw3"),r(n,"class","patch-path svelte-15q0qw3"),r(n,"title",p=l[17].filePath),r(t,"class","patch-head svelte-15q0qw3"),r(e,"class","patch-file svelte-15q0qw3"),r(e,"data-action",h=l[17].action),r(e,"data-idx",l[19])},m(g,k){I(g,e,k),c(e,t),c(t,n),c(n,s),c(s,o),c(s,a),c(n,f),c(n,_),c(e,m),b.m(e,null),c(e,v)},p(g,k){k&2&&i!==(i=g[17].action+"")&&O(o,i),k&2&&u!==(u=g[17].filePath+"")&&O(_,u),k&2&&p!==(p=g[17].filePath)&&r(n,"title",p),C===(C=y(g))&&b?b.p(g,k):(b.d(1),b=C(g),b&&(b.c(),b.m(e,v))),k&2&&h!==(h=g[17].action)&&r(e,"data-action",h)},d(g){g&&w(e),b.d()}}}function Bs(l){let e,t;return{c(){e=d("pre"),t=j(l[8])},m(n,s){I(n,e,s),c(e,t)},p(n,s){s&256&&O(t,n[8])},d(n){n&&w(e)}}}function Ds(l){let e,t,n,s=l[3].filePath+"",i,o,a,f=l[3].content+"",u;return{c(){e=d("div"),t=d("div"),n=d("span"),i=j(s),o=S(),a=d("pre"),u=j(f),r(n,"class","path svelte-15q0qw3"),r(t,"class","file-head svelte-15q0qw3"),r(e,"class","file-view svelte-15q0qw3")},m(_,p){I(_,e,p),c(e,t),c(t,n),c(n,i),c(e,o),c(e,a),c(a,u)},p(_,p){p&8&&s!==(s=_[3].filePath+"")&&O(i,s),p&8&&f!==(f=_[3].content+"")&&O(u,f)},d(_){_&&w(e)}}}function Us(l){let e,t;return{c(){e=d("pre"),t=j(l[8])},m(n,s){I(n,e,s),c(e,t)},p(n,s){s&256&&O(t,n[8])},d(n){n&&w(e)}}}function $s(l){let e,t=(l[6]?At(l[3]):Ot(l[3]))+"";return{c(){e=d("div"),r(e,"class","diff-wrapper"),r(e,"aria-label","Replace diff view")},m(n,s){I(n,e,s),e.innerHTML=t},p(n,s){s&72&&t!==(t=(n[6]?At(n[3]):Ot(n[3]))+"")&&(e.innerHTML=t)},d(n){n&&w(e)}}}function zs(l){let e;function t(i,o){return i[7]||i[6]?qs:i[4]?Os:i[2]?Ts:i[5]?As:Rs}let n=t(l),s=n(l);return{c(){e=d("div"),s.c(),r(e,"class","fn-args")},m(i,o){I(i,e,o),s.m(e,null)},p(i,[o]){n===(n=t(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e,null)))},i:K,o:K,d(i){i&&w(e),s.d()}}}function Vs(l){if(!l)return[];const e=l.indexOf("*** Begin Patch"),t=l.indexOf("*** End Patch");e!==-1&&t!==-1&&(l=l.slice(e+15,t).trim());const n=l.split(/\r?\n/),s=/^\*\*\* (Update|Add|Delete) File: (.+)$/,i=[];let o=null;for(const a of n){const f=a.match(s);f?(o&&i.push(o),o={action:f[1],filePath:f[2].trim(),body:[]}):o&&o.body.push(a)}return o&&i.push(o),i.map(a=>({...a,body:a.body.join(`
`).replace(/^[\n\r]+|[\n\r]+$/g,"")}))}function Ws(l){return l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function hl(l){return l?l.split(/\n/).map(e=>{const t=Ws(e)||"&nbsp;";let n="ctx";return e.startsWith("+")?n="add":e.startsWith("-")?n="del":e.startsWith("@@")&&(n="hunk"),`<span class="pl ${n}">${t}</span>`}).join(`
`):""}function Ks(l,e,t){let n,s,i,o,a,f,u,_,p,m,v,{call:h}=e,y="auto";function C(){t(0,y=y==="diff"?"raw":"diff")}function b(){t(0,y=y==="todo"?"raw":"todo")}function g(){t(0,y=y==="formatted"?"raw":"formatted")}function k(){t(0,y=y==="patch"?"raw":"patch")}return l.$$set=F=>{"call"in F&&t(13,h=F.call)},l.$$.update=()=>{var F,P;l.$$.dirty&8192&&t(14,n=(h==null?void 0:h.arguments)??((F=h==null?void 0:h.function)==null?void 0:F.arguments)),l.$$.dirty&8192&&t(16,s=(h==null?void 0:h.name)??((P=h==null?void 0:h.function)==null?void 0:P.name)),l.$$.dirty&16384&&t(3,i=typeof n=="string"?Oe(n):n),l.$$.dirty&65536&&t(7,o=s==="replace_string_in_file"),l.$$.dirty&65536&&t(6,a=s==="multi_replace_string_in_file"),l.$$.dirty&65536&&t(5,f=s==="manage_todo_list"),l.$$.dirty&65536&&t(4,u=s==="create_file"),l.$$.dirty&65536&&t(2,_=s==="apply_patch"),l.$$.dirty&16396&&t(15,p=(()=>{if(!_)return"";if(i&&typeof i=="object")return i.patch||i.input||i.diff||"";if(typeof n=="string"){const M=Oe(n);if(M&&typeof M=="object")return M.patch||M.input||M.diff||"";if(/\*\*\* Begin Patch/.test(n))return n}return""})()),l.$$.dirty&32772&&t(1,m=_?Vs(p):[]),l.$$.dirty&16392&&t(8,v=(()=>{try{if(i&&typeof i=="object")return JSON.stringify(i,null,2);if(typeof n=="string"){const M=Oe(n);return M&&typeof M=="object"?JSON.stringify(M,null,2):n}return n!==void 0?JSON.stringify(n,null,2):""}catch{return typeof n=="string"?n:""}})()),l.$$.dirty&255&&y==="auto"&&(o&&(i!=null&&i.oldString)||a&&Array.isArray(i==null?void 0:i.replacements)&&i.replacements.length?t(0,y="diff"):f&&Array.isArray(i==null?void 0:i.todoList)?t(0,y="todo"):u&&(i==null?void 0:i.content)!==void 0?t(0,y="formatted"):_&&m.length&&t(0,y="patch"))},[y,m,_,i,u,f,a,o,v,C,b,g,k,h,n,p,s]}class Ys extends Ge{constructor(e){super(),Ye(this,e,Ks,zs,Me,{call:13})}}function bl(l,e,t){const n=l.slice();return n[35]=e[t],n[37]=t,n}function Gs(l){const e=l.slice(),t=e[13][e[35].id||e[35].tool_call_id||e[35].toolCallId||"idx_"+e[37]].text;e[38]=t;const n=e[15](e[35],e[38]);e[39]=n;const s=e[35].id||e[35].tool_call_id||e[35].toolCallId||"idx_"+e[37];return e[40]=s,e}function It(l){const e=l.slice(),t=e[1].response.copilotFunctionCalls||e[1].response.toolCalls||[];return e[34]=t,e}function gl(l,e,t){const n=l.slice();return n[44]=e[t],n[46]=t,n}function kl(l,e,t){const n=l.slice();return n[47]=e[t],n[49]=t,n}function yl(l,e,t){const n=l.slice();return n[51]=e[t],n}function wl(l,e,t){const n=l.slice();return n[41]=e[t],n[43]=t,n}function Qs(l){let e;return{c(){e=d("div"),e.innerHTML='<em class="text-soft">No response data available</em>',r(e,"class","empty-response svelte-1t0ixjy")},m(t,n){I(t,e,n)},p:K,i:K,o:K,d(t){t&&w(e)}}}function Xs(l){var _,p,m;let e,t,n,s,i,o=l[10]&&Il(l),a=((_=l[1].response.value)==null?void 0:_.length)&&Al(l),f=(((p=l[1].response.copilotFunctionCalls)==null?void 0:p.length)||((m=l[1].response.toolCalls)==null?void 0:m.length))&&Fl(It(l)),u=l[1].response.usage&&Dl(l);return{c(){o&&o.c(),e=S(),a&&a.c(),t=S(),f&&f.c(),n=S(),u&&u.c(),s=ve()},m(v,h){o&&o.m(v,h),I(v,e,h),a&&a.m(v,h),I(v,t,h),f&&f.m(v,h),I(v,n,h),u&&u.m(v,h),I(v,s,h),i=!0},p(v,h){var y,C,b;v[10]?o?o.p(v,h):(o=Il(v),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),(y=v[1].response.value)!=null&&y.length?a?a.p(v,h):(a=Al(v),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null),(C=v[1].response.copilotFunctionCalls)!=null&&C.length||(b=v[1].response.toolCalls)!=null&&b.length?f?(f.p(It(v),h),h[0]&2&&ke(f,1)):(f=Fl(It(v)),f.c(),ke(f,1),f.m(n.parentNode,n)):f&&(We(),we(f,1,1,()=>{f=null}),Ke()),v[1].response.usage?u?u.p(v,h):(u=Dl(v),u.c(),u.m(s.parentNode,s)):u&&(u.d(1),u=null)},i(v){i||(ke(f),i=!0)},o(v){we(f),i=!1},d(v){v&&(w(e),w(t),w(n),w(s)),o&&o.d(v),a&&a.d(v),f&&f.d(v),u&&u.d(v)}}}function Il(l){let e,t,n,s,i,o,a,f,u,_,p,m,v,h,y,C,b,g,k,F,P,M,R,A,N,T,q,J,H,B,ee,le,$,te,re,be,U=l[5]?"Hide Raw Response JSON":"Show Raw Response JSON",Q,ce,E,ie,V,oe;function _e(L,x){return L[10].type?xs:Zs}let Ie=_e(l),W=Ie(l),z=l[10].type&&Cl(l);function Re(L,x){return L[10].reason?ti:ei}let Ce=Re(l),ue=Ce(l),D=l[10].reason&&Sl(l);function X(L,x){return L[10].requestId?ni:li}let Y=X(l),G=Y(l),de=l[10].requestId&&jl(l);function fe(L,x){return L[10].serverRequestId?ii:si}let pe=fe(l),me=pe(l),ge=l[10].serverRequestId&&Nl(l),ae=l[5]&&Rl(l);return{c(){e=d("section"),t=d("details"),n=d("summary"),n.innerHTML='<span class="caret svelte-1t0ixjy"></span><h3 class="svelte-1t0ixjy">Response Metadata</h3>',s=S(),i=d("div"),o=d("div"),a=d("div"),f=d("div"),f.textContent="Type",u=S(),_=d("div"),W.c(),p=S(),m=d("div"),z&&z.c(),v=S(),h=d("div"),y=d("div"),y.textContent="Reason",C=S(),b=d("div"),ue.c(),g=S(),k=d("div"),D&&D.c(),F=S(),P=d("div"),M=d("div"),M.textContent="Request ID",R=S(),A=d("div"),G.c(),N=S(),T=d("div"),de&&de.c(),q=S(),J=d("div"),H=d("div"),H.textContent="Server Request ID",B=S(),ee=d("div"),me.c(),le=S(),$=d("div"),ge&&ge.c(),te=S(),re=d("div"),be=d("button"),Q=j(U),ce=S(),E=d("button"),E.textContent="Copy All",ie=S(),ae&&ae.c(),r(n,"class","svelte-1t0ixjy"),r(f,"class","meta-cell key svelte-1t0ixjy"),r(f,"role","cell"),r(_,"class","meta-cell val svelte-1t0ixjy"),r(_,"role","cell"),r(m,"class","meta-cell action svelte-1t0ixjy"),r(m,"role","cell"),r(a,"class","meta-row svelte-1t0ixjy"),r(a,"role","row"),r(y,"class","meta-cell key svelte-1t0ixjy"),r(y,"role","cell"),r(b,"class","meta-cell val svelte-1t0ixjy"),r(b,"role","cell"),r(k,"class","meta-cell action svelte-1t0ixjy"),r(k,"role","cell"),r(h,"class","meta-row svelte-1t0ixjy"),r(h,"role","row"),r(M,"class","meta-cell key svelte-1t0ixjy"),r(M,"role","cell"),r(A,"class","meta-cell val svelte-1t0ixjy"),r(A,"role","cell"),r(T,"class","meta-cell action svelte-1t0ixjy"),r(T,"role","cell"),r(P,"class","meta-row svelte-1t0ixjy"),r(P,"role","row"),r(H,"class","meta-cell key svelte-1t0ixjy"),r(H,"role","cell"),r(ee,"class","meta-cell val svelte-1t0ixjy"),r(ee,"role","cell"),r($,"class","meta-cell action svelte-1t0ixjy"),r($,"role","cell"),r(J,"class","meta-row svelte-1t0ixjy"),r(J,"role","row"),r(o,"class","response-meta-table svelte-1t0ixjy"),r(o,"role","table"),r(o,"aria-label","Response metadata key value pairs"),r(be,"class","mini-btn"),r(E,"class","mini-btn alt svelte-1t0ixjy"),r(E,"title","Copy all metadata JSON"),r(re,"class","meta-actions-row svelte-1t0ixjy"),r(i,"class","collapsible-body svelte-1t0ixjy"),r(t,"class","collapsible svelte-1t0ixjy"),r(t,"data-role","response-meta"),t.open=!0,r(t,"aria-label","Response metadata group"),r(e,"class","group response-meta-group svelte-1t0ixjy")},m(L,x){I(L,e,x),c(e,t),c(t,n),c(t,s),c(t,i),c(i,o),c(o,a),c(a,f),c(a,u),c(a,_),W.m(_,null),c(a,p),c(a,m),z&&z.m(m,null),c(o,v),c(o,h),c(h,y),c(h,C),c(h,b),ue.m(b,null),c(h,g),c(h,k),D&&D.m(k,null),c(o,F),c(o,P),c(P,M),c(P,R),c(P,A),G.m(A,null),c(P,N),c(P,T),de&&de.m(T,null),c(o,q),c(o,J),c(J,H),c(J,B),c(J,ee),me.m(ee,null),c(J,le),c(J,$),ge&&ge.m($,null),c(i,te),c(i,re),c(re,be),c(be,Q),c(re,ce),c(re,E),c(i,ie),ae&&ae.m(i,null),V||(oe=[ne(be,"click",l[26]),ne(E,"click",l[17])],V=!0)},p(L,x){Ie===(Ie=_e(L))&&W?W.p(L,x):(W.d(1),W=Ie(L),W&&(W.c(),W.m(_,null))),L[10].type?z?z.p(L,x):(z=Cl(L),z.c(),z.m(m,null)):z&&(z.d(1),z=null),Ce===(Ce=Re(L))&&ue?ue.p(L,x):(ue.d(1),ue=Ce(L),ue&&(ue.c(),ue.m(b,null))),L[10].reason?D?D.p(L,x):(D=Sl(L),D.c(),D.m(k,null)):D&&(D.d(1),D=null),Y===(Y=X(L))&&G?G.p(L,x):(G.d(1),G=Y(L),G&&(G.c(),G.m(A,null))),L[10].requestId?de?de.p(L,x):(de=jl(L),de.c(),de.m(T,null)):de&&(de.d(1),de=null),pe===(pe=fe(L))&&me?me.p(L,x):(me.d(1),me=pe(L),me&&(me.c(),me.m(ee,null))),L[10].serverRequestId?ge?ge.p(L,x):(ge=Nl(L),ge.c(),ge.m($,null)):ge&&(ge.d(1),ge=null),x[0]&32&&U!==(U=L[5]?"Hide Raw Response JSON":"Show Raw Response JSON")&&O(Q,U),L[5]?ae?ae.p(L,x):(ae=Rl(L),ae.c(),ae.m(i,null)):ae&&(ae.d(1),ae=null)},d(L){L&&w(e),W.d(),z&&z.d(),ue.d(),D&&D.d(),G.d(),de&&de.d(),me.d(),ge&&ge.d(),ae&&ae.d(),V=!1,qe(oe)}}}function Zs(l){let e;return{c(){e=d("span"),e.textContent="‚Äî",r(e,"class","meta-missing svelte-1t0ixjy")},m(t,n){I(t,e,n)},p:K,d(t){t&&w(e)}}}function xs(l){let e,t=l[10].type+"",n,s;return{c(){e=d("span"),n=j(t),r(e,"class",s="meta-badge "+l[10].type+" svelte-1t0ixjy")},m(i,o){I(i,e,o),c(e,n)},p(i,o){o[0]&1024&&t!==(t=i[10].type+"")&&O(n,t),o[0]&1024&&s!==(s="meta-badge "+i[10].type+" svelte-1t0ixjy")&&r(e,"class",s)},d(i){i&&w(e)}}}function Cl(l){let e,t=l[6].type?"‚úì":"‚ßâ",n,s,i;return{c(){e=d("button"),n=j(t),r(e,"class","copy-btn svelte-1t0ixjy"),r(e,"title","Copy Type")},m(o,a){I(o,e,a),c(e,n),s||(i=ne(e,"click",l[22]),s=!0)},p(o,a){a[0]&64&&t!==(t=o[6].type?"‚úì":"‚ßâ")&&O(n,t)},d(o){o&&w(e),s=!1,i()}}}function ei(l){let e;return{c(){e=d("span"),e.textContent="‚Äî",r(e,"class","meta-missing svelte-1t0ixjy")},m(t,n){I(t,e,n)},p:K,d(t){t&&w(e)}}}function ti(l){let e,t=l[10].reason+"",n,s;return{c(){e=d("span"),n=j(t),r(e,"class",s="reason-badge reason-"+l[10].reason+" svelte-1t0ixjy")},m(i,o){I(i,e,o),c(e,n)},p(i,o){o[0]&1024&&t!==(t=i[10].reason+"")&&O(n,t),o[0]&1024&&s!==(s="reason-badge reason-"+i[10].reason+" svelte-1t0ixjy")&&r(e,"class",s)},d(i){i&&w(e)}}}function Sl(l){let e,t=l[6].reason?"‚úì":"‚ßâ",n,s,i;return{c(){e=d("button"),n=j(t),r(e,"class","copy-btn svelte-1t0ixjy"),r(e,"title","Copy Reason")},m(o,a){I(o,e,a),c(e,n),s||(i=ne(e,"click",l[23]),s=!0)},p(o,a){a[0]&64&&t!==(t=o[6].reason?"‚úì":"‚ßâ")&&O(n,t)},d(o){o&&w(e),s=!1,i()}}}function li(l){let e;return{c(){e=d("span"),e.textContent="‚Äî",r(e,"class","meta-missing svelte-1t0ixjy")},m(t,n){I(t,e,n)},p:K,d(t){t&&w(e)}}}function ni(l){let e,t=l[10].requestId+"",n,s;return{c(){e=d("code"),n=j(t),r(e,"class","id-frag full svelte-1t0ixjy"),r(e,"title",s=l[10].requestId)},m(i,o){I(i,e,o),c(e,n)},p(i,o){o[0]&1024&&t!==(t=i[10].requestId+"")&&O(n,t),o[0]&1024&&s!==(s=i[10].requestId)&&r(e,"title",s)},d(i){i&&w(e)}}}function jl(l){let e,t=l[6].requestId?"‚úì":"‚ßâ",n,s,i;return{c(){e=d("button"),n=j(t),r(e,"class","copy-btn svelte-1t0ixjy"),r(e,"title","Copy Request ID")},m(o,a){I(o,e,a),c(e,n),s||(i=ne(e,"click",l[24]),s=!0)},p(o,a){a[0]&64&&t!==(t=o[6].requestId?"‚úì":"‚ßâ")&&O(n,t)},d(o){o&&w(e),s=!1,i()}}}function si(l){let e;return{c(){e=d("span"),e.textContent="‚Äî",r(e,"class","meta-missing svelte-1t0ixjy")},m(t,n){I(t,e,n)},p:K,d(t){t&&w(e)}}}function ii(l){let e,t=l[10].serverRequestId+"",n,s;return{c(){e=d("code"),n=j(t),r(e,"class","id-frag full svelte-1t0ixjy"),r(e,"title",s=l[10].serverRequestId)},m(i,o){I(i,e,o),c(e,n)},p(i,o){o[0]&1024&&t!==(t=i[10].serverRequestId+"")&&O(n,t),o[0]&1024&&s!==(s=i[10].serverRequestId)&&r(e,"title",s)},d(i){i&&w(e)}}}function Nl(l){let e,t=l[6].serverRequestId?"‚úì":"‚ßâ",n,s,i;return{c(){e=d("button"),n=j(t),r(e,"class","copy-btn svelte-1t0ixjy"),r(e,"title","Copy Server Request ID")},m(o,a){I(o,e,a),c(e,n),s||(i=ne(e,"click",l[25]),s=!0)},p(o,a){a[0]&64&&t!==(t=o[6].serverRequestId?"‚úì":"‚ßâ")&&O(n,t)},d(o){o&&w(e),s=!1,i()}}}function Rl(l){let e,t=JSON.stringify(l[1].response,null,2)+"",n;return{c(){e=d("pre"),n=j(t),r(e,"class","code-block small svelte-1t0ixjy"),Te(e,"margin-top","6px")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&2&&t!==(t=JSON.stringify(s[1].response,null,2)+"")&&O(n,t)},d(s){s&&w(e)}}}function Al(l){let e,t,n,s,i;function o(u,_){return u[3]&&u[12].length?ai:u[3]&&u[11]?ri:oi}let a=o(l),f=a(l);return{c(){e=d("section"),t=d("details"),n=d("summary"),n.innerHTML='<span class="caret svelte-1t0ixjy"></span><h3 class="svelte-1t0ixjy">Response Text</h3>',s=S(),i=d("div"),f.c(),r(n,"class","svelte-1t0ixjy"),r(i,"class","collapsible-body svelte-1t0ixjy"),r(t,"class","collapsible svelte-1t0ixjy"),t.open=!0,r(t,"data-role","response-text"),r(t,"aria-label","Response text group"),r(e,"class","group response-text-group svelte-1t0ixjy")},m(u,_){I(u,e,_),c(e,t),c(t,n),c(t,s),c(t,i),f.m(i,null)},p(u,_){a===(a=o(u))&&f?f.p(u,_):(f.d(1),f=a(u),f&&(f.c(),f.m(i,null)))},d(u){u&&w(e),f.d()}}}function oi(l){let e,t=l[1].response.value.join(`
`)+"",n;return{c(){e=d("pre"),n=j(t),r(e,"class","code-block svelte-1t0ixjy")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&2&&t!==(t=s[1].response.value.join(`
`)+"")&&O(n,t)},d(s){s&&w(e)}}}function ri(l){let e,t=se(l[2]),n=[];for(let s=0;s<t.length;s+=1)n[s]=ql(gl(l,t,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();r(e,"class","analyze-files-response svelte-1t0ixjy"),r(e,"aria-label","Analyze files and patterns fenced code rendering")},m(s,i){I(s,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,i){if(i[0]&20){t=se(s[2]);let o;for(o=0;o<t.length;o+=1){const a=gl(s,t,o);n[o]?n[o].p(a,i):(n[o]=ql(a),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&w(e),je(n,s)}}}function ai(l){let e,t,n,s,i,o,a=l[1].response.value.join(`
`)+"",f,u=se(l[12]),_=[];for(let p=0;p<u.length;p+=1)_[p]=Pl(wl(l,u,p));return{c(){e=d("div");for(let p=0;p<_.length;p+=1)_[p].c();t=S(),n=d("details"),s=d("summary"),s.textContent="Show Raw Combined Text",i=S(),o=d("pre"),f=j(a),r(s,"class","svelte-1t0ixjy"),r(o,"class","code-block small svelte-1t0ixjy"),Te(o,"margin-top","6px"),r(n,"class","raw-response-text svelte-1t0ixjy"),n.open=!0,r(e,"class","analyze-files-response svelte-1t0ixjy"),r(e,"aria-label","Analyze files and patterns formatted output")},m(p,m){I(p,e,m);for(let v=0;v<_.length;v+=1)_[v]&&_[v].m(e,null);c(e,t),c(e,n),c(n,s),c(n,i),c(n,o),c(o,f)},p(p,m){if(m[0]&4096){u=se(p[12]);let v;for(v=0;v<u.length;v+=1){const h=wl(p,u,v);_[v]?_[v].p(h,m):(_[v]=Pl(h),_[v].c(),_[v].m(e,t))}for(;v<_.length;v+=1)_[v].d(1);_.length=u.length}m[0]&2&&a!==(a=p[1].response.value.join(`
`)+"")&&O(f,a)},d(p){p&&w(e),je(_,p)}}}function ci(l){let e,t=l[47].content+"",n;return{c(){e=d("pre"),n=j(t),r(e,"class","code-block small plain-text svelte-1t0ixjy")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&4&&t!==(t=s[47].content+"")&&O(n,t)},d(s){s&&w(e)}}}function fi(l){let e,t,n,s=(l[47].lang||"code")+"",i,o,a,f=l[47].raw+"",u,_;return{c(){e=d("div"),t=d("div"),n=d("span"),i=j(s),o=S(),a=d("pre"),u=j(f),_=S(),r(n,"class","code-label svelte-1t0ixjy"),r(t,"class","code-head svelte-1t0ixjy"),r(a,"class","code-block small svelte-1t0ixjy"),r(e,"class","code-fallback svelte-1t0ixjy")},m(p,m){I(p,e,m),c(e,t),c(t,n),c(n,i),c(e,o),c(e,a),c(a,u),c(e,_)},p(p,m){m[0]&4&&s!==(s=(p[47].lang||"code")+"")&&O(i,s),m[0]&4&&f!==(f=p[47].raw+"")&&O(u,f)},d(p){p&&w(e)}}}function ui(l){let e,t;function n(o,a){return a[0]&4&&(e=null),e==null&&(e=!!Pt(o[47].raw)),e?pi:di}let s=n(l,[-1,-1]),i=s(l);return{c(){i.c(),t=ve()},m(o,a){i.m(o,a),I(o,t,a)},p(o,a){s===(s=n(o,a))&&i?i.p(o,a):(i.d(1),i=s(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){o&&w(t),i.d(o)}}}function di(l){let e,t,n,s=(l[47].lang||"code")+"",i,o,a,f=l[47].raw+"",u,_;return{c(){e=d("div"),t=d("div"),n=d("span"),i=j(s),o=S(),a=d("pre"),u=j(f),_=S(),r(n,"class","code-label svelte-1t0ixjy"),r(t,"class","code-head svelte-1t0ixjy"),r(a,"class","code-block small svelte-1t0ixjy"),r(e,"class","code-fallback svelte-1t0ixjy")},m(p,m){I(p,e,m),c(e,t),c(t,n),c(n,i),c(e,o),c(e,a),c(a,u),c(e,_)},p(p,m){m[0]&4&&s!==(s=(p[47].lang||"code")+"")&&O(i,s),m[0]&4&&f!==(f=p[47].raw+"")&&O(u,f)},d(p){p&&w(e)}}}function pi(l){let e,t,n,s,i={ctx:l,current:null,token:null,hasCatch:!1,pending:bi,then:mi,catch:_i,value:50};return $t(s=Promise.resolve(Pt(l[47].raw)),i),{c(){e=d("script"),e.innerHTML="",t=S(),n=ve(),i.block.c(),r(e,"context","module")},m(o,a){I(o,e,a),I(o,t,a),I(o,n,a),i.block.m(o,i.anchor=a),i.mount=()=>n.parentNode,i.anchor=n},p(o,a){l=o,i.ctx=l,a[0]&4&&s!==(s=Promise.resolve(Pt(l[47].raw)))&&$t(s,i)||Vn(i,l,a)},d(o){o&&(w(e),w(t),w(n)),i.block.d(o),i.token=null,i=null}}}function _i(l){return{c:K,m:K,p:K,d:K}}function mi(l){let e,t,n,s,i,o=l[4][l[46]+"-"+l[49]]?"Pretty":"Raw",a,f,u,_,p,m;function v(){return l[27](l[46],l[49])}function h(b,g){return b[4][b[46]+"-"+b[49]]?hi:vi}let y=h(l),C=y(l);return{c(){e=d("div"),t=d("div"),n=d("span"),n.textContent="JSON Block",s=S(),i=d("button"),a=j(o),f=S(),C.c(),_=S(),r(n,"class","json-label svelte-1t0ixjy"),r(i,"type","button"),r(i,"class","mini-btn json-raw-toggle"),r(t,"class","json-head svelte-1t0ixjy"),r(e,"class","json-block svelte-1t0ixjy"),r(e,"data-lang",u=l[47].lang)},m(b,g){I(b,e,g),c(e,t),c(t,n),c(t,s),c(t,i),c(i,a),c(e,f),C.m(e,null),I(b,_,g),p||(m=ne(i,"click",v),p=!0)},p(b,g){l=b,g[0]&16&&o!==(o=l[4][l[46]+"-"+l[49]]?"Pretty":"Raw")&&O(a,o),y===(y=h(l))&&C?C.p(l,g):(C.d(1),C=y(l),C&&(C.c(),C.m(e,null))),g[0]&4&&u!==(u=l[47].lang)&&r(e,"data-lang",u)},d(b){b&&(w(e),w(_)),C.d(),p=!1,m()}}}function vi(l){let e,t=$l(l[50])+"",n,s,i=se(zl(l[50])),o=[];for(let a=0;a<i.length;a+=1)o[a]=Tl(yl(l,i,a));return{c(){e=d("pre"),n=S();for(let a=0;a<o.length;a+=1)o[a].c();s=ve(),r(e,"class","code-block small json-pre svelte-1t0ixjy"),r(e,"aria-label","Pretty JSON")},m(a,f){I(a,e,f),e.innerHTML=t,I(a,n,f);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(a,f);I(a,s,f)},p(a,f){if(f[0]&4&&t!==(t=$l(a[50])+"")&&(e.innerHTML=t),f[0]&4){i=se(zl(a[50]));let u;for(u=0;u<i.length;u+=1){const _=yl(a,i,u);o[u]?o[u].p(_,f):(o[u]=Tl(_),o[u].c(),o[u].m(s.parentNode,s))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}},d(a){a&&(w(e),w(n),w(s)),je(o,a)}}}function hi(l){let e,t=l[47].raw+"",n;return{c(){e=d("pre"),n=j(t),r(e,"class","code-block small svelte-1t0ixjy")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&4&&t!==(t=s[47].raw+"")&&O(n,t)},d(s){s&&w(e)}}}function Tl(l){let e,t,n,s=l[51].key+"",i,o,a,f,u=l[51].value.split(`
`).length+"",_,p,m,v,h=l[51].value+"",y,C,b;return{c(){e=d("details"),t=d("summary"),n=d("span"),i=j(s),o=S(),a=d("span"),f=j("("),_=j(u),p=j(" lines)"),m=S(),v=d("pre"),y=j(h),b=S(),r(n,"class","snippet-key svelte-1t0ixjy"),r(a,"class","snippet-extra svelte-1t0ixjy"),r(t,"class","svelte-1t0ixjy"),r(v,"class","code-block tiny svelte-1t0ixjy"),r(v,"data-snippet-key",C=l[51].key),r(e,"class","snippet-details svelte-1t0ixjy"),e.open=!0},m(g,k){I(g,e,k),c(e,t),c(t,n),c(n,i),c(t,o),c(t,a),c(a,f),c(a,_),c(a,p),c(e,m),c(e,v),c(v,y),c(e,b)},p(g,k){k[0]&4&&s!==(s=g[51].key+"")&&O(i,s),k[0]&4&&u!==(u=g[51].value.split(`
`).length+"")&&O(_,u),k[0]&4&&h!==(h=g[51].value+"")&&O(y,h),k[0]&4&&C!==(C=g[51].key)&&r(v,"data-snippet-key",C)},d(g){g&&w(e)}}}function bi(l){return{c:K,m:K,p:K,d:K}}function Ol(l){let e;function t(i,o){if(i[47].type==="code"&&(i[47].lang==="json"||i[47].lang==="javascript"||i[47].lang==="js"))return ui;if(i[47].type==="code")return fi;if(i[47].type==="text")return ci}let n=t(l),s=n&&n(l);return{c(){s&&s.c(),e=ve()},m(i,o){s&&s.m(i,o),I(i,e,o)},p(i,o){n===(n=t(i))&&s?s.p(i,o):(s&&s.d(1),s=n&&n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&w(e),s&&s.d(i)}}}function ql(l){let e,t=se(l[44]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Ol(kl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ve()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);I(s,e,i)},p(s,i){if(i[0]&20){t=se(s[44]);let o;for(o=0;o<t.length;o+=1){const a=kl(s,t,o);n[o]?n[o].p(a,i):(n[o]=Ol(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&w(e),je(n,s)}}}function gi(l){let e;return{c(){e=d("div"),e.textContent="(No content changes captured)",r(e,"class","patch-empty svelte-1t0ixjy")},m(t,n){I(t,e,n)},p:K,d(t){t&&w(e)}}}function ki(l){let e,t=Ul(l[41].body)+"",n;return{c(){e=d("pre"),r(e,"class","patch-code svelte-1t0ixjy"),r(e,"aria-label",n=l[41].action+" file diff")},m(s,i){I(s,e,i),e.innerHTML=t},p(s,i){i[0]&4096&&t!==(t=Ul(s[41].body)+"")&&(e.innerHTML=t),i[0]&4096&&n!==(n=s[41].action+" file diff")&&r(e,"aria-label",n)},d(s){s&&w(e)}}}function yi(l){let e;return{c(){e=d("div"),e.textContent="File deleted",r(e,"class","patch-deleted-note svelte-1t0ixjy")},m(t,n){I(t,e,n)},p:K,d(t){t&&w(e)}}}function Pl(l){let e,t,n,s=l[41].action+"",i,o,a,f,u=l[41].filePath+"",_,p,m,v;function h(b,g){return b[41].action==="Delete"?yi:b[41].body?ki:gi}let y=h(l),C=y(l);return{c(){e=d("div"),t=d("div"),n=d("span"),i=j(s),a=S(),f=d("span"),_=j(u),m=S(),C.c(),r(n,"class",o="patch-action tag-"+l[41].action.toLowerCase()+" svelte-1t0ixjy"),r(f,"class","patch-path svelte-1t0ixjy"),r(f,"title",p=l[41].filePath),r(t,"class","patch-head svelte-1t0ixjy"),r(e,"class","patch-file svelte-1t0ixjy"),r(e,"data-action",v=l[41].action),r(e,"data-idx",l[43])},m(b,g){I(b,e,g),c(e,t),c(t,n),c(n,i),c(t,a),c(t,f),c(f,_),c(e,m),C.m(e,null)},p(b,g){g[0]&4096&&s!==(s=b[41].action+"")&&O(i,s),g[0]&4096&&o!==(o="patch-action tag-"+b[41].action.toLowerCase()+" svelte-1t0ixjy")&&r(n,"class",o),g[0]&4096&&u!==(u=b[41].filePath+"")&&O(_,u),g[0]&4096&&p!==(p=b[41].filePath)&&r(f,"title",p),y===(y=h(b))&&C?C.p(b,g):(C.d(1),C=y(b),C&&(C.c(),C.m(e,null))),g[0]&4096&&v!==(v=b[41].action)&&r(e,"data-action",v)},d(b){b&&w(e),C.d()}}}function Fl(l){let e,t,n,s,i,o,a,f=l[34].length+"",u,_,p,m,v,h=se(l[34]),y=[];for(let b=0;b<h.length;b+=1)y[b]=Bl(bl(l,h,b));const C=b=>we(y[b],1,1,()=>{y[b]=null});return{c(){e=d("section"),t=d("details"),n=d("summary"),s=d("span"),i=d("h3"),o=j("Tool Calls "),a=d("span"),u=j(f),_=S(),p=d("div"),m=d("div");for(let b=0;b<y.length;b+=1)y[b].c();r(s,"class","caret svelte-1t0ixjy"),r(a,"class","count-badge svelte-1t0ixjy"),r(i,"class","svelte-1t0ixjy"),r(n,"class","svelte-1t0ixjy"),r(m,"class","scroll-area calls-scroll svelte-1t0ixjy"),r(m,"role","region"),r(m,"aria-label","Tool calls within response (each in its own section)"),r(p,"class","collapsible-body svelte-1t0ixjy"),r(t,"class","collapsible svelte-1t0ixjy"),t.open=!0,r(t,"data-role","response-calls"),r(t,"aria-label","Response tool calls group"),r(e,"class","group response-calls-group svelte-1t0ixjy")},m(b,g){I(b,e,g),c(e,t),c(t,n),c(n,s),c(n,i),c(i,o),c(i,a),c(a,u),c(t,_),c(t,p),c(p,m);for(let k=0;k<y.length;k+=1)y[k]&&y[k].m(m,null);l[31](m),v=!0},p(b,g){if((!v||g[0]&2)&&f!==(f=b[34].length+"")&&O(u,f),g[0]&844171){h=se(b[34]);let k;for(k=0;k<h.length;k+=1){const F=bl(b,h,k);y[k]?(y[k].p(F,g),ke(y[k],1)):(y[k]=Bl(F),y[k].c(),ke(y[k],1),y[k].m(m,null))}for(We(),k=h.length;k<y.length;k+=1)C(k);Ke()}},i(b){if(!v){for(let g=0;g<h.length;g+=1)ke(y[g]);v=!0}},o(b){y=y.filter(Boolean);for(let g=0;g<y.length;g+=1)we(y[g]);v=!1},d(b){b&&w(e),je(y,b),l[31](null)}}}function Ll(l){let e;return{c(){e=d("span"),e.textContent="INFERRED",r(e,"class","infer-badge svelte-1t0ixjy"),r(e,"title","Inferred tool name")},m(t,n){I(t,e,n)},d(t){t&&w(e)}}}function Ml(l){let e;return{c(){e=d("span"),e.textContent="Active",r(e,"class","selected-badge svelte-1t0ixjy")},m(t,n){I(t,e,n)},d(t){t&&w(e)}}}function El(l){let e;function t(o,a){var f;return(f=o[13][o[35].id||o[35].tool_call_id||o[35].toolCallId||"idx_"+o[37]])!=null&&f.text?Hl:wi}function n(o,a){return a===Hl?Gs(o):o}let s=t(l),i=s(n(l,s));return{c(){i.c(),e=ve()},m(o,a){i.m(o,a),I(o,e,a)},p(o,a){s===(s=t(o))&&i?i.p(n(o,s),a):(i.d(1),i=s(n(o,s)),i&&(i.c(),i.m(e.parentNode,e)))},d(o){o&&w(e),i.d(o)}}}function wi(l){let e;return{c(){e=d("div"),e.innerHTML='<em class="text-soft">No result output located for this call id</em>',r(e,"class","tool-result-block empty svelte-1t0ixjy"),r(e,"id","resp-fnresult-"+l[37]),r(e,"aria-label","Tool call result output missing")},m(t,n){I(t,e,n)},p:K,d(t){t&&w(e)}}}function Hl(l){let e;function t(i,o){return i[7][i[35].id||i[35].tool_call_id||i[35].toolCallId||"idx_"+i[37]]!==!1?Ci:Ii}let n=t(l),s=n(l);return{c(){s.c(),e=ve()},m(i,o){s.m(i,o),I(i,e,o)},p(i,o){n===(n=t(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&w(e),s.d(i)}}}function Ii(l){let e,t,n,s,i,o,a;function f(){return l[30](l[35],l[37])}return{c(){e=d("div"),t=d("div"),n=d("div"),n.textContent="Result (hidden)",s=S(),i=d("button"),i.textContent="Show",r(n,"class","tool-result-head svelte-1t0ixjy"),r(i,"class","result-toggle svelte-1t0ixjy"),r(i,"type","button"),r(t,"class","tool-result-head-row svelte-1t0ixjy"),r(e,"class","tool-result-block collapsed svelte-1t0ixjy"),r(e,"id","resp-fnresult-"+l[37]),r(e,"aria-label","Tool call result output hidden")},m(u,_){I(u,e,_),c(e,t),c(t,n),c(t,s),c(t,i),o||(a=ne(i,"click",f),o=!0)},p(u,_){l=u},d(u){u&&w(e),o=!1,a()}}}function Ci(l){let e,t,n,s,i,o,a,f,u,_=l[39]&&Jl(l);function p(){return l[29](l[35],l[37])}function m(y,C){return y[39]&&(y[8][y[40]]||"rendered")==="rendered"?ji:Si}let v=m(l),h=v(l);return{c(){e=d("div"),t=d("div"),n=d("div"),n.textContent="Result",s=S(),_&&_.c(),i=S(),o=d("button"),o.textContent="Hide",a=S(),h.c(),r(n,"class","tool-result-head svelte-1t0ixjy"),r(o,"class","result-toggle svelte-1t0ixjy"),r(o,"type","button"),r(t,"class","tool-result-head-row svelte-1t0ixjy"),r(e,"class","tool-result-block open svelte-1t0ixjy"),r(e,"id","resp-fnresult-"+l[37]),r(e,"aria-label","Tool call result output")},m(y,C){I(y,e,C),c(e,t),c(t,n),c(t,s),_&&_.m(t,null),c(t,i),c(t,o),c(e,a),h.m(e,null),f||(u=ne(o,"click",p),f=!0)},p(y,C){l=y,l[39]?_?_.p(l,C):(_=Jl(l),_.c(),_.m(t,i)):_&&(_.d(1),_=null),v===(v=m(l))&&h?h.p(l,C):(h.d(1),h=v(l),h&&(h.c(),h.m(e,null)))},d(y){y&&w(e),_&&_.d(),h.d(),f=!1,u()}}}function Jl(l){let e,t=(l[8][l[40]]||"rendered")==="rendered"?"Raw":"Rendered",n,s,i;function o(){return l[28](l[40])}return{c(){e=d("button"),n=j(t),r(e,"class","result-toggle svelte-1t0ixjy"),r(e,"type","button")},m(a,f){I(a,e,f),c(e,n),s||(i=ne(e,"click",o),s=!0)},p(a,f){l=a,f[0]&258&&t!==(t=(l[8][l[40]]||"rendered")==="rendered"?"Raw":"Rendered")&&O(n,t)},d(a){a&&w(e),s=!1,i()}}}function Si(l){let e,t=l[38]+"",n;return{c(){e=d("pre"),n=j(t),r(e,"class","code-block small svelte-1t0ixjy")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&8194&&t!==(t=s[38]+"")&&O(n,t)},d(s){s&&w(e)}}}function ji(l){let e,t=l[39]+"";return{c(){e=d("div"),r(e,"class","diff-wrapper"),r(e,"aria-label","Tool result rendered view")},m(n,s){I(n,e,s),e.innerHTML=t},p(n,s){s[0]&8194&&t!==(t=n[39]+"")&&(e.innerHTML=t)},d(n){n&&w(e)}}}function Bl(l){var J,H;let e,t,n,s,i,o,a,f=l[37]+1+"",u,_,p=l[14](l[35])+"",m,v,h=l[3]&&((H=(J=l[35].name)==null?void 0:J.toLowerCase)==null?void 0:H.call(J))==="none"||l[14](l[35])==="patch_file",y,C,b,g,k,F,P,M,R,A,N=h&&Ll(),T=l[0].callIndex===l[37]&&Ml();g=new Ys({props:{call:l[35]}});let q=(l[35].id||l[35].tool_call_id||l[35].toolCallId||!0)&&El(l);return{c(){e=d("details"),t=d("summary"),n=d("span"),s=S(),i=d("div"),o=d("h5"),a=j("Call "),u=j(f),_=j(": "),m=j(p),v=S(),N&&N.c(),y=S(),T&&T.c(),C=S(),b=d("div"),ze(g.$$.fragment),k=S(),q&&q.c(),F=S(),r(n,"class","mini-caret svelte-1t0ixjy"),r(o,"class","no-transform svelte-1t0ixjy"),r(i,"class","tool-title-area svelte-1t0ixjy"),r(t,"class","toolcall-head svelte-1t0ixjy"),r(t,"id","resp-fnhead-"+l[37]),r(b,"class","prompt-body svelte-1t0ixjy"),r(e,"class",P="prompt-collapsible toolcall-section "+(l[0].callIndex===l[37]?"active":"")+" svelte-1t0ixjy"),r(e,"id","resp-fncall-"+l[37]),r(e,"data-call-id",M=l[35].id||l[35].tool_call_id||l[35].toolCallId||"idx_"+l[37]),e.open=R=l[0].callIndex===l[37]},m(B,ee){I(B,e,ee),c(e,t),c(t,n),c(t,s),c(t,i),c(i,o),c(o,a),c(o,u),c(o,_),c(o,m),c(o,v),N&&N.m(o,null),c(i,y),T&&T.m(i,null),c(e,C),c(e,b),Je(g,b,null),c(b,k),q&&q.m(b,null),c(e,F),A=!0},p(B,ee){var $,te;(!A||ee[0]&2)&&p!==(p=B[14](B[35])+"")&&O(m,p),ee[0]&10&&(h=B[3]&&((te=($=B[35].name)==null?void 0:$.toLowerCase)==null?void 0:te.call($))==="none"||B[14](B[35])==="patch_file"),h?N||(N=Ll(),N.c(),N.m(o,null)):N&&(N.d(1),N=null),B[0].callIndex===B[37]?T||(T=Ml(),T.c(),T.m(i,null)):T&&(T.d(1),T=null);const le={};ee[0]&2&&(le.call=B[35]),g.$set(le),B[35].id||B[35].tool_call_id||B[35].toolCallId,q?q.p(B,ee):(q=El(B),q.c(),q.m(b,null)),(!A||ee[0]&1&&P!==(P="prompt-collapsible toolcall-section "+(B[0].callIndex===B[37]?"active":"")+" svelte-1t0ixjy"))&&r(e,"class",P),(!A||ee[0]&2&&M!==(M=B[35].id||B[35].tool_call_id||B[35].toolCallId||"idx_"+B[37]))&&r(e,"data-call-id",M),(!A||ee[0]&1&&R!==(R=B[0].callIndex===B[37]))&&(e.open=R)},i(B){A||(ke(g.$$.fragment,B),A=!0)},o(B){we(g.$$.fragment,B),A=!1},d(B){B&&w(e),N&&N.d(),T&&T.d(),Be(g),q&&q.d()}}}function Dl(l){let e,t,n,s,i,o,a=JSON.stringify(l[1].response.usage,null,2)+"",f;return{c(){e=d("section"),t=d("details"),n=d("summary"),n.innerHTML='<span class="caret svelte-1t0ixjy"></span><h3 class="svelte-1t0ixjy">Usage Statistics</h3>',s=S(),i=d("div"),o=d("pre"),f=j(a),r(n,"class","svelte-1t0ixjy"),r(o,"class","code-block svelte-1t0ixjy"),r(i,"class","collapsible-body svelte-1t0ixjy"),r(t,"class","collapsible svelte-1t0ixjy"),r(t,"data-role","usage"),r(t,"aria-label","Usage statistics group"),r(e,"class","group usage-group svelte-1t0ixjy")},m(u,_){I(u,e,_),c(e,t),c(t,n),c(t,s),c(t,i),c(i,o),c(o,f)},p(u,_){_[0]&2&&a!==(a=JSON.stringify(u[1].response.usage,null,2)+"")&&O(f,a)},d(u){u&&w(e)}}}function Ni(l){let e,t,n,s,i,o;const a=[Xs,Qs],f=[];function u(_,p){var m;return(m=_[1])!=null&&m.response?0:1}return s=u(l),i=f[s]=a[s](l),{c(){e=d("section"),t=d("header"),t.innerHTML='<h2 class="svelte-1t0ixjy">Response Detail</h2> <div class="section-meta svelte-1t0ixjy"><span class="section-info svelte-1t0ixjy">AI Response, Tool Calls &amp; Usage</span></div>',n=S(),i.c(),r(t,"class","section-header svelte-1t0ixjy"),r(e,"class","main-section response-section svelte-1t0ixjy")},m(_,p){I(_,e,p),c(e,t),c(e,n),f[s].m(e,null),o=!0},p(_,p){let m=s;s=u(_),s===m?f[s].p(_,p):(We(),we(f[m],1,1,()=>{f[m]=null}),Ke(),i=f[s],i?i.p(_,p):(i=f[s]=a[s](_),i.c()),ke(i,1),i.m(e,null))},i(_){o||(ke(i),o=!0)},o(_){we(i),o=!1},d(_){_&&w(e),f[s].d()}}}function qt(l){return typeof l=="string"&&/\*\*\* Begin Patch[\s\S]*\*\*\* End Patch/.test(l)}function Ri(l){if(!qt(l))return"";const e=l.match(/\*\*\* Begin Patch[\s\S]*?\*\*\* End Patch/);return e?e[0]:""}function Ai(l){if(!l)return[];const e=l.indexOf("*** Begin Patch"),t=l.indexOf("*** End Patch");e!==-1&&t!==-1&&(l=l.slice(e+15,t).trim());const n=l.split(/\r?\n/),s=/^\*\*\* (Update|Add|Delete) File: (.+)$/,i=[];let o=null;for(const a of n){const f=a.match(s);f?(o&&i.push(o),o={action:f[1],filePath:f[2].trim(),body:[]}):o&&o.body.push(a)}return o&&i.push(o),i.map(a=>({...a,body:a.body.join(`
`).replace(/^[\n\r]+|[\n\r]+$/g,"")}))}function Ti(l){return l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ul(l){return l?l.split(/\n/).map(e=>{const t=Ti(e)||"&nbsp;";let n="ctx";return e.startsWith("+")?n="add":e.startsWith("-")?n="del":e.startsWith("@@")&&(n="hunk"),`<span class="pl ${n}">${t}</span>`}).join(`
`):""}function Oi(l){var e;return(l==null?void 0:l.name)||((e=l==null?void 0:l.function)==null?void 0:e.name)||""}function qi(l){if(typeof l!="string")return[{type:"text",content:l}];const e=/```(\w+)?\n([\s\S]*?)```/g,t=[];let n=0,s;for(;(s=e.exec(l))!==null;){if(s.index>n){const i=l.slice(n,s.index);i.trim().length&&t.push({type:"text",content:i})}t.push({type:"code",lang:(s[1]||"").toLowerCase(),raw:s[2]}),n=s.index+s[0].length}if(n<l.length){const i=l.slice(n);i.trim().length&&t.push({type:"text",content:i})}return t.length?t:[{type:"text",content:l}]}function Pt(l){try{return JSON.parse(l)}catch{return null}}function rt(l){return l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function $l(l){const e=typeof l=="string"?l:JSON.stringify(l,null,2);return rt(e).replace(/^(\s*)("[^"]+"?)(:)?(.*)$/gm,(t,n,s,i,o)=>{let a=n||"";if(/^".*"$/.test(s)&&i?a+=`<span class="j-key">${rt(s)}</span>${i}`:a+=`<span class="j-lit">${rt(s+(i||""))}</span>`,o){const u=o.trim();let _="j-lit";/^".*"[,]?$/.test(u)?_="j-str":/^(true|false|null)[,]?$/.test(u)?_="j-bool":/^-?\d+(\.\d+)?([eE][+-]?\d+)?[,]?$/.test(u)?_="j-num":(/^[\[{]$/.test(u)||/^[\]}][,]?$/.test(u))&&(_="j-brkt"),a+=` <span class="${_}">${rt(o)}</span>`}return a})}function zl(l){if(!l||typeof l!="object")return[];const e=[];for(const[t,n]of Object.entries(l))if(typeof n=="string"&&/\n/.test(n)){let s=n;const i=(s.match(/\\n/g)||[]).length;i&&i>(s.match(/\n/g)||[]).length&&(s=s.replace(/\\n/g,`
`)),s=s.replace(/^\uFEFF/,""),e.push({key:t,value:s})}return e}function Pi(l){return l?l.scrollHeight-l.clientHeight>2:!1}function Fi(l,e,t){return Number.isFinite(l)?Math.min(t,Math.max(e,l)):e}function Li(){return new Promise(l=>requestAnimationFrame(()=>l()))}function Mi(l,e,{align:t="top",offset:n=8}={}){if(!l||!e)return!1;const s=l.getBoundingClientRect(),i=e.getBoundingClientRect();let o=l.scrollTop+(i.top-s.top)-n;if(t==="center"){const a=l.clientHeight/2-i.height/2;o=l.scrollTop+(i.top-s.top)-a}if(Number.isFinite(o)){const a=Math.max(0,l.scrollHeight-l.clientHeight);return o=Fi(o,0,a),l.scrollTop=o,requestAnimationFrame(()=>{l.scrollTop=o}),!0}return!1}function Ei(l,e,t){let n,s,i,o,a,f,u;Ne(l,os,U=>t(13,u=U));let{current:_}=e,{req:p}=e;function m(U){var ce;if(!U)return"";const Q=U.name||((ce=U.function)==null?void 0:ce.name);return(!Q||Q.toLowerCase()==="none")&&n?"analyze_files_and_patterns":(!Q||Q.toLowerCase()==="none")&&s&&s.length&&qt(s[0])?"patch_file":Q||"None"}function v(U,Q){const ce=Oi(U);if(!Q||typeof Q!="string")return null;if(ce==="replace_string_in_file"){const E=Xn(Q);if(E)return Ot(E)}if(ce==="multi_replace_string_in_file"){const E=Zn(Q);if(E)return At(E)}if(ce==="manage_todo_list"){const E=xn(Q);if(E)return Tt(E)}return null}let h={},y=!1,C={},b={};async function g(U,Q){if(Q)try{await navigator.clipboard.writeText(Q),t(6,C={...C,[U]:!0}),clearTimeout(b[U]),b[U]=setTimeout(()=>{t(6,C={...C,[U]:!1})},1400)}catch(ce){console.warn("Failed to copy metadata",U,ce)}}async function k(){if(!f)return;const U=JSON.stringify(f,null,2);try{await navigator.clipboard.writeText(U)}catch{}}let F={};function P(U){const Q=F[U]!==!1;t(7,F={...F,[U]:!Q})}let M={};function R(U){const Q=M[U]||"rendered";t(8,M={...M,[U]:Q==="rendered"?"raw":"rendered"})}let A,N;async function T(){var oe;const U=_==null?void 0:_.callIndex;if(U==null)return;await Nt();const Q=document.getElementById(`resp-fncall-${U}`),ce=document.getElementById(`resp-fnresult-${U}`),ie=document.getElementById(`resp-fnhead-${U}`)||((oe=Q==null?void 0:Q.querySelector)==null?void 0:oe.call(Q,".toolcall-head"))||ce||Q;if(!ie)return;const V=()=>N&&Pi(N)?Mi(N,ie,{align:"center"}):!1;V()||ie.scrollIntoView({behavior:"auto",block:"center"}),await Li(),await Nt(),V()||ie.scrollIntoView({behavior:"auto",block:"center"})}const q=()=>g("type",f.type),J=()=>g("reason",f.reason),H=()=>g("requestId",f.requestId),B=()=>g("serverRequestId",f.serverRequestId),ee=()=>t(5,y=!y),le=(U,Q)=>t(4,h[U+"-"+Q]=!h[U+"-"+Q],h),$=U=>R(U),te=(U,Q)=>P(U.id||U.tool_call_id||U.toolCallId||"idx_"+Q),re=(U,Q)=>P(U.id||U.tool_call_id||U.toolCallId||"idx_"+Q);function be(U){He[U?"unshift":"push"](()=>{N=U,t(9,N)})}return l.$$set=U=>{"current"in U&&t(0,_=U.current),"req"in U&&t(1,p=U.req)},l.$$.update=()=>{var U,Q,ce;if(l.$$.dirty[0]&2&&t(3,n=p!=null&&p.requestMessages?p.requestMessages.some(E=>E.role==="system"&&Array.isArray(E.content)&&E.content.some(ie=>((ie==null?void 0:ie.text)||ie)==="You are an expert at analyzing files and patterns.")):!1),l.$$.dirty[0]&2&&t(21,s=((U=p==null?void 0:p.response)==null?void 0:U.value)||[]),l.$$.dirty[0]&2097160&&t(12,i=n?s.filter(E=>qt(E)).flatMap(E=>Ai(Ri(E))):[]),l.$$.dirty[0]&2097160&&t(2,o=n?s.map(E=>qi(E)):[]),l.$$.dirty[0]&12&&t(11,a=n&&o.some(E=>E.some(ie=>ie.type==="code"))),l.$$.dirty[0]&2&&t(10,f=p!=null&&p.response?{type:p.response.type,reason:p.response.reason,requestId:p.response.requestId,serverRequestId:p.response.serverRequestId}:null),l.$$.dirty[0]&1048579&&p!=null&&p.response&&((Q=p.response.copilotFunctionCalls)!=null&&Q.length||(ce=p.response.toolCalls)!=null&&ce.length)){const E=`${p.response.requestId||p.response.serverRequestId||""}:${_==null?void 0:_.callIndex}`;E!==A&&(t(20,A=E),T())}},[_,p,o,n,h,y,C,F,M,N,f,a,i,u,m,v,g,k,P,R,A,s,q,J,H,B,ee,le,$,te,re,be]}class Hi extends Ge{constructor(e){super(),Ye(this,e,Ei,Ni,Me,{current:0,req:1},null,[-1,-1])}}const{Map:Ji}=Hn;function Vl(l,e,t){const n=l.slice();return n[37]=e[t][0],n[38]=e[t][1],n}function Wl(l,e,t){const n=l.slice();return n[41]=e[t],n[43]=t,n}function Kl(l,e,t){const n=l.slice();return n[44]=e[t],n[46]=t,n}function Yl(l,e,t){const n=l.slice();return n[47]=e[t],n[43]=t,n}function Gl(l,e,t){const n=l.slice();return n[49]=e[t],n}function Ql(l,e,t){const n=l.slice();return n[52]=e[t],n}function Xl(l,e,t){const n=l.slice();return n[47]=e[t],n[43]=t,n}function Zl(l,e,t){const n=l.slice();return n[49]=e[t],n}function xl(l,e,t){const n=l.slice();return n[52]=e[t],n}function Bi(l){var pe,me,ge,ae;let e,t,n,s,i,o=(((pe=l[0])==null?void 0:pe.name)||"default agent")+"",a,f,u=l[1]&&l[1].trim(),_,p,m,v,h=(((ge=(me=l[0])==null?void 0:me.response)==null?void 0:ge.requestId)||"N/A")+"",y,C,b,g,k=(((ae=l[0])==null?void 0:ae.model)||"Unknown")+"",F,P,M,R,A,N,T,q,J,H,B,ee,le,$,te,re,be,U,Q,ce,E,ie,V,oe,_e,Ie,W=u&&en(l);function z(L,x){return L[4]?Wi:L[3]?Vi:zi}let Re=z(l),Ce=Re(l),ue=l[17].length&&tn(l),D=l[16].length&&on(l),X=l[12].length&&fn(l),Y=l[14].length&&dn(l);function G(L,x){var ye;return(ye=L[0])!=null&&ye.requestOptions?Fo:Po}let de=G(l),fe=de(l);return V=new Hi({props:{current:l[2],req:l[0]}}),{c(){e=d("div"),t=d("header"),n=d("div"),s=d("span"),i=j("Agent: "),a=j(o),f=S(),W&&W.c(),_=S(),p=d("div"),m=d("span"),v=j("Request ID: "),y=j(h),C=S(),b=d("span"),g=j("Model: "),F=j(k),P=S(),M=d("div"),R=d("button"),Ce.c(),T=S(),q=d("section"),J=d("header"),J.innerHTML='<h2 class="svelte-173f7ix">Request Detail</h2> <div class="section-meta svelte-173f7ix"><span class="section-info svelte-173f7ix">Messages, Tools &amp; Options</span></div>',H=S(),ue&&ue.c(),B=S(),D&&D.c(),ee=S(),X&&X.c(),le=S(),$=d("section"),te=d("details"),re=d("summary"),be=d("span"),U=d("h3"),Q=j("Request Options "),Y&&Y.c(),ce=S(),E=d("div"),fe.c(),ie=S(),ze(V.$$.fragment),r(s,"class","agent-info svelte-173f7ix"),r(m,"class","rid svelte-173f7ix"),r(b,"class","model-info svelte-173f7ix"),r(p,"class","hdr-subline svelte-173f7ix"),r(n,"class","hdr-left svelte-173f7ix"),r(R,"class","copy-raw-btn svelte-173f7ix"),r(R,"aria-label","Copy raw request and response"),R.disabled=A=!l[0],r(M,"class","actions svelte-173f7ix"),r(t,"class",N="hdr "+(l[18]?"compact":"")+" svelte-173f7ix"),r(J,"class","section-header svelte-173f7ix"),r(be,"class","caret svelte-173f7ix"),r(U,"class","svelte-173f7ix"),r(re,"class","svelte-173f7ix"),r(E,"class","collapsible-body svelte-173f7ix"),r(te,"class","collapsible svelte-173f7ix"),r(te,"data-role","options"),r(te,"aria-label","Request options group"),r($,"class","group options-group svelte-173f7ix"),r(q,"class","main-section request-section svelte-173f7ix"),r(e,"class","panel detail-panel svelte-173f7ix")},m(L,x){I(L,e,x),c(e,t),c(t,n),c(n,s),c(s,i),c(s,a),c(n,f),W&&W.m(n,null),c(n,_),c(n,p),c(p,m),c(m,v),c(m,y),c(p,C),c(p,b),c(b,g),c(b,F),c(t,P),c(t,M),c(M,R),Ce.m(R,null),c(e,T),c(e,q),c(q,J),c(q,H),ue&&ue.m(q,null),c(q,B),D&&D.m(q,null),c(q,ee),X&&X.m(q,null),c(q,le),c(q,$),c($,te),c(te,re),c(re,be),c(re,U),c(U,Q),Y&&Y.m(U,null),c(te,ce),c(te,E),fe.m(E,null),c(e,ie),Je(V,e,null),oe=!0,_e||(Ie=ne(R,"click",l[19]),_e=!0)},p(L,x){var Ae,he,Z,Se;(!oe||x[0]&1)&&o!==(o=(((Ae=L[0])==null?void 0:Ae.name)||"default agent")+"")&&O(a,o),x[0]&2&&(u=L[1]&&L[1].trim()),u?W?W.p(L,x):(W=en(L),W.c(),W.m(n,_)):W&&(W.d(1),W=null),(!oe||x[0]&1)&&h!==(h=(((Z=(he=L[0])==null?void 0:he.response)==null?void 0:Z.requestId)||"N/A")+"")&&O(y,h),(!oe||x[0]&1)&&k!==(k=(((Se=L[0])==null?void 0:Se.model)||"Unknown")+"")&&O(F,k),Re!==(Re=z(L))&&(Ce.d(1),Ce=Re(L),Ce&&(Ce.c(),Ce.m(R,null))),(!oe||x[0]&1&&A!==(A=!L[0]))&&(R.disabled=A),(!oe||x[0]&262144&&N!==(N="hdr "+(L[18]?"compact":"")+" svelte-173f7ix"))&&r(t,"class",N),L[17].length?ue?ue.p(L,x):(ue=tn(L),ue.c(),ue.m(q,B)):ue&&(ue.d(1),ue=null),L[16].length?D?D.p(L,x):(D=on(L),D.c(),D.m(q,ee)):D&&(D.d(1),D=null),L[12].length?X?X.p(L,x):(X=fn(L),X.c(),X.m(q,le)):X&&(X.d(1),X=null),L[14].length?Y?Y.p(L,x):(Y=dn(L),Y.c(),Y.m(U,null)):Y&&(Y.d(1),Y=null),de===(de=G(L))&&fe?fe.p(L,x):(fe.d(1),fe=de(L),fe&&(fe.c(),fe.m(E,null)));const ye={};x[0]&4&&(ye.current=L[2]),x[0]&1&&(ye.req=L[0]),V.$set(ye)},i(L){oe||(ke(V.$$.fragment,L),oe=!0)},o(L){we(V.$$.fragment,L),oe=!1},d(L){L&&w(e),W&&W.d(),Ce.d(),ue&&ue.d(),D&&D.d(),X&&X.d(),Y&&Y.d(),fe.d(),Be(V),_e=!1,Ie()}}}function Di(l){let e;return{c(){e=d("div"),e.textContent="No selection.",r(e,"class","panel")},m(t,n){I(t,e,n)},p:K,i:K,o:K,d(t){t&&w(e)}}}function en(l){let e,t,n,s,i,o=l[5]?"Collapse":"Expand",a,f,u,_,p;function m(y,C){return y[5]?$i:Ui}let v=m(l),h=v(l);return{c(){e=d("div"),t=d("div"),n=d("span"),n.textContent="Prompt",s=S(),i=d("button"),a=j(o),f=S(),h.c(),r(n,"class","agent-prompt-label svelte-173f7ix"),r(i,"class","raw-toggle-btn prompt-toggle-btn svelte-173f7ix"),r(i,"type","button"),r(t,"class","agent-prompt-head svelte-173f7ix"),r(e,"class","agent-prompt svelte-173f7ix"),r(e,"data-expanded",u=l[5]?"true":"false")},m(y,C){I(y,e,C),c(e,t),c(t,n),c(t,s),c(t,i),c(i,a),c(e,f),h.m(e,null),_||(p=ne(i,"click",l[27]),_=!0)},p(y,C){C[0]&32&&o!==(o=y[5]?"Collapse":"Expand")&&O(a,o),v===(v=m(y))&&h?h.p(y,C):(h.d(1),h=v(y),h&&(h.c(),h.m(e,null))),C[0]&32&&u!==(u=y[5]?"true":"false")&&r(e,"data-expanded",u)},d(y){y&&w(e),h.d(),_=!1,p()}}}function Ui(l){let e,t=l[15].preview+"",n;return{c(){e=d("div"),n=j(t),r(e,"class","code-block agent-prompt-body preview svelte-173f7ix"),r(e,"title",l[1])},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&32768&&t!==(t=s[15].preview+"")&&O(n,t),i[0]&2&&r(e,"title",s[1])},d(s){s&&w(e)}}}function $i(l){let e,t;return{c(){e=d("pre"),t=j(l[1]),r(e,"class","code-block agent-prompt-body full svelte-173f7ix")},m(n,s){I(n,e,s),c(e,t)},p(n,s){s[0]&2&&O(t,n[1])},d(n){n&&w(e)}}}function zi(l){let e;return{c(){e=d("span"),e.textContent="‚ßâ Copy Raw",r(e,"class","svelte-173f7ix")},m(t,n){I(t,e,n)},d(t){t&&w(e)}}}function Vi(l){let e;return{c(){e=d("span"),e.textContent="‚úì Copied",r(e,"class","svelte-173f7ix")},m(t,n){I(t,e,n)},d(t){t&&w(e)}}}function Wi(l){let e;return{c(){e=d("span"),e.textContent="‚ö†Ô∏è Error",r(e,"class","svelte-173f7ix")},m(t,n){I(t,e,n)},d(t){t&&w(e)}}}function tn(l){let e,t,n,s,i,o,a=l[17].length>1?"s":"",f,u,_,p=l[17].length+"",m,v,h,y=se(l[17]),C=[];for(let b=0;b<y.length;b+=1)C[b]=sn(Xl(l,y,b));return{c(){e=d("section"),t=d("details"),n=d("summary"),s=d("span"),i=d("h3"),o=j("System Prompt"),f=j(a),u=S(),_=d("span"),m=j(p),v=S(),h=d("div");for(let b=0;b<C.length;b+=1)C[b].c();r(s,"class","caret svelte-173f7ix"),r(_,"class","count-badge svelte-173f7ix"),r(i,"class","svelte-173f7ix"),r(n,"class","svelte-173f7ix"),r(h,"class","collapsible-body svelte-173f7ix"),r(t,"class","collapsible svelte-173f7ix"),r(t,"data-role","system"),r(t,"aria-label","System prompts group"),r(e,"class","group system-group svelte-173f7ix")},m(b,g){I(b,e,g),c(e,t),c(t,n),c(n,s),c(n,i),c(i,o),c(i,f),c(i,u),c(i,_),c(_,m),c(t,v),c(t,h);for(let k=0;k<C.length;k+=1)C[k]&&C[k].m(h,null)},p(b,g){if(g[0]&131072&&a!==(a=b[17].length>1?"s":"")&&O(f,a),g[0]&131072&&p!==(p=b[17].length+"")&&O(m,p),g[0]&5376512){y=se(b[17]);let k;for(k=0;k<y.length;k+=1){const F=Xl(b,y,k);C[k]?C[k].p(F,g):(C[k]=sn(F),C[k].c(),C[k].m(h,null))}for(;k<C.length;k+=1)C[k].d(1);C.length=y.length}},d(b){b&&w(e),je(C,b)}}}function Ki(l){let e;return{c(){e=d("em"),e.textContent="Empty",r(e,"class","text-soft")},m(t,n){I(t,e,n)},p:K,d(t){t&&w(e)}}}function Yi(l){let e,t=se(Array.isArray(l[47].content)?l[47].content:[l[47].content]),n=[];for(let s=0;s<t.length;s+=1)n[s]=nn(Zl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ve()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);I(s,e,i)},p(s,i){if(i[0]&131072){t=se(Array.isArray(s[47].content)?s[47].content:[s[47].content]);let o;for(o=0;o<t.length;o+=1){const a=Zl(s,t,o);n[o]?n[o].p(a,i):(n[o]=nn(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&w(e),je(n,s)}}}function Gi(l){let e,t,n,s=l[11]==="sys-"+l[43]?"Copied":"Copy",i,o,a,f=st(l[47])+"",u,_,p;function m(...v){return l[29](l[43],l[47],...v)}return{c(){e=d("div"),t=d("div"),n=d("button"),i=j(s),o=S(),a=d("pre"),u=j(f),r(n,"class","copy-raw-inline svelte-173f7ix"),r(n,"type","button"),r(t,"class","raw-inline-actions svelte-173f7ix"),r(a,"class","code-block raw-full-inline svelte-173f7ix"),r(e,"class","raw-inline svelte-173f7ix")},m(v,h){I(v,e,h),c(e,t),c(t,n),c(n,i),c(e,o),c(e,a),c(a,u),_||(p=ne(n,"click",m),_=!0)},p(v,h){l=v,h[0]&2048&&s!==(s=l[11]==="sys-"+l[43]?"Copied":"Copy")&&O(i,s),h[0]&131072&&f!==(f=st(l[47])+"")&&O(u,f)},d(v){v&&w(e),_=!1,p()}}}function Qi(l){let e,t=(l[49].text?l[49].text:JSON.stringify(l[49],null,2))+"",n;return{c(){e=d("pre"),n=j(t),r(e,"class","code-block svelte-173f7ix")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&131072&&t!==(t=(s[49].text?s[49].text:JSON.stringify(s[49],null,2))+"")&&O(n,t)},d(s){s&&w(e)}}}function Xi(l){let e,t=se(pt(typeof l[49]=="string"?l[49]:l[49].text)),n=[];for(let s=0;s<t.length;s+=1)n[s]=ln(xl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ve()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);I(s,e,i)},p(s,i){if(i[0]&131072){t=se(pt(typeof s[49]=="string"?s[49]:s[49].text));let o;for(o=0;o<t.length;o+=1){const a=xl(s,t,o);n[o]?n[o].p(a,i):(n[o]=ln(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&w(e),je(n,s)}}}function Zi(l){let e,t=l[52].content+"",n;return{c(){e=d("pre"),n=j(t),r(e,"class","code-block svelte-173f7ix")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&131072&&t!==(t=s[52].content+"")&&O(n,t)},d(s){s&&w(e)}}}function xi(l){let e,t,n,s,i,o,a,f=l[52].content+"",u,_;return{c(){e=d("div"),t=d("div"),t.innerHTML='Attachments <span class="inline-note svelte-173f7ix">toggle to view</span>',n=S(),s=d("details"),i=d("summary"),i.textContent="Show / Hide Attachments Content",o=S(),a=d("pre"),u=j(f),_=S(),r(t,"class","special-block-header svelte-173f7ix"),r(i,"class","svelte-173f7ix"),r(a,"class","code-block special attachments-pre svelte-173f7ix"),r(s,"class","attachments-toggle svelte-173f7ix"),s.open=!0,r(e,"class","special-block attachments-block svelte-173f7ix"),r(e,"aria-label","Attachments")},m(p,m){I(p,e,m),c(e,t),c(e,n),c(e,s),c(s,i),c(s,o),c(s,a),c(a,u),c(e,_)},p(p,m){m[0]&131072&&f!==(f=p[52].content+"")&&O(u,f)},d(p){p&&w(e)}}}function eo(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Apply Patch Instructions",n=S(),s=d("pre"),o=j(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block applypatch-block svelte-173f7ix"),r(e,"aria-label","Apply Patch Instructions")},m(f,u){I(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&O(o,i)},d(f){f&&w(e)}}}function to(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Output Formatting",n=S(),s=d("pre"),o=j(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block outputfmt-block svelte-173f7ix"),r(e,"aria-label","Output Formatting")},m(f,u){I(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&O(o,i)},d(f){f&&w(e)}}}function lo(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Notebook Instructions",n=S(),s=d("pre"),o=j(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block notebook-block svelte-173f7ix"),r(e,"aria-label","Notebook Instructions")},m(f,u){I(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&O(o,i)},d(f){f&&w(e)}}}function no(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Tool Use Instructions",n=S(),s=d("pre"),o=j(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block tooluse-block svelte-173f7ix"),r(e,"aria-label","Tool Use Instructions")},m(f,u){I(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&O(o,i)},d(f){f&&w(e)}}}function so(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Instructions",n=S(),s=d("pre"),o=j(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block instr-block svelte-173f7ix"),r(e,"aria-label","Instructions")},m(f,u){I(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&O(o,i)},d(f){f&&w(e)}}}function io(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="User Request",n=S(),s=d("pre"),o=j(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block userreq-block svelte-173f7ix"),r(e,"aria-label","User Request")},m(f,u){I(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&O(o,i)},d(f){f&&w(e)}}}function oo(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Reminder Instructions",n=S(),s=d("pre"),o=j(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block reminder-block svelte-173f7ix"),r(e,"aria-label","Reminder Instructions")},m(f,u){I(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&O(o,i)},d(f){f&&w(e)}}}function ro(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Context",n=S(),s=d("pre"),o=j(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block ctx-block svelte-173f7ix"),r(e,"aria-label","Context Block")},m(f,u){I(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&O(o,i)},d(f){f&&w(e)}}}function ao(l){let e,t,n,s,i=_t(l[52].content)+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Workspace Info",n=S(),s=d("pre"),o=j(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block ws-block svelte-173f7ix"),r(e,"aria-label","Workspace Info")},m(f,u){I(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=_t(f[52].content)+"")&&O(o,i)},d(f){f&&w(e)}}}function co(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Environment Info",n=S(),s=d("pre"),o=j(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block env-block svelte-173f7ix"),r(e,"aria-label","Environment Info")},m(f,u){I(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&131072&&i!==(i=f[52].content+"")&&O(o,i)},d(f){f&&w(e)}}}function ln(l){let e;function t(i,o){return i[52].kind==="environment"?co:i[52].kind==="workspace"?ao:i[52].kind==="context"?ro:i[52].kind==="reminder"?oo:i[52].kind==="userreq"?io:i[52].kind==="instructions"?so:i[52].kind==="tooluse"?no:i[52].kind==="notebook"?lo:i[52].kind==="outputfmt"?to:i[52].kind==="applypatch"?eo:i[52].kind==="attachments"?xi:Zi}let n=t(l),s=n(l);return{c(){s.c(),e=ve()},m(i,o){s.m(i,o),I(i,e,o)},p(i,o){n===(n=t(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&w(e),s.d(i)}}}function nn(l){let e,t;function n(o,a){var f;return a[0]&131072&&(e=null),e==null&&(e=!!(typeof o[49]=="string"||(f=o[49])!=null&&f.text&&qn.test(o[49].text))),e?Xi:Qi}let s=n(l,[-1,-1]),i=s(l);return{c(){i.c(),t=ve()},m(o,a){i.m(o,a),I(o,t,a)},p(o,a){s===(s=n(o,a))&&i?i.p(o,a):(i.d(1),i=s(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){o&&w(t),i.d(o)}}}function sn(l){let e,t,n,s,i=(l[17].length>1?l[43]+1:"")+"",o,a,f,u,_,p=l[9][l[43]]?"Show Beautified":"Show Original",m,v,h,y,C,b;function g(...M){return l[28](l[43],...M)}function k(M,R){var A;return M[9][M[43]]?Gi:(A=M[47].content)!=null&&A.length?Yi:Ki}let F=k(l),P=F(l);return{c(){e=d("section"),t=d("header"),n=d("h4"),s=j("System Prompt "),o=j(i),a=S(),f=d("span"),f.textContent="system",u=S(),_=d("button"),m=j(p),h=S(),P.c(),y=S(),r(n,"class","svelte-173f7ix"),r(f,"class","role-tag svelte-173f7ix"),r(_,"class","raw-toggle-btn svelte-173f7ix"),r(_,"type","button"),r(_,"data-debug",v=l[9][l[43]]?"open":"closed"),r(t,"class","msg-head svelte-173f7ix"),r(e,"class","msg-section role-system svelte-173f7ix")},m(M,R){I(M,e,R),c(e,t),c(t,n),c(n,s),c(n,o),c(t,a),c(t,f),c(t,u),c(t,_),c(_,m),c(e,h),P.m(e,null),c(e,y),C||(b=ne(_,"click",g),C=!0)},p(M,R){l=M,R[0]&131072&&i!==(i=(l[17].length>1?l[43]+1:"")+"")&&O(o,i),R[0]&512&&p!==(p=l[9][l[43]]?"Show Beautified":"Show Original")&&O(m,p),R[0]&512&&v!==(v=l[9][l[43]]?"open":"closed")&&r(_,"data-debug",v),F===(F=k(l))&&P?P.p(l,R):(P.d(1),P=F(l),P&&(P.c(),P.m(e,y)))},d(M){M&&w(e),P.d(),C=!1,b()}}}function on(l){let e,t,n,s,i,o,a=l[16].length>1?"s":"",f,u,_,p=l[16].length+"",m,v,h,y=se(l[16]),C=[];for(let b=0;b<y.length;b+=1)C[b]=cn(Yl(l,y,b));return{c(){e=d("section"),t=d("details"),n=d("summary"),s=d("span"),i=d("h3"),o=j("User Prompt"),f=j(a),u=S(),_=d("span"),m=j(p),v=S(),h=d("div");for(let b=0;b<C.length;b+=1)C[b].c();r(s,"class","caret svelte-173f7ix"),r(_,"class","count-badge svelte-173f7ix"),r(i,"class","svelte-173f7ix"),r(n,"class","svelte-173f7ix"),r(h,"class","collapsible-body user-prompts-wrapper svelte-173f7ix"),r(t,"class","collapsible svelte-173f7ix"),r(t,"data-role","user"),r(t,"aria-label","User prompts group"),r(e,"class","group user-group svelte-173f7ix")},m(b,g){I(b,e,g),c(e,t),c(t,n),c(n,s),c(n,i),c(i,o),c(i,f),c(i,u),c(i,_),c(_,m),c(t,v),c(t,h);for(let k=0;k<C.length;k+=1)C[k]&&C[k].m(h,null)},p(b,g){if(g[0]&65536&&a!==(a=b[16].length>1?"s":"")&&O(f,a),g[0]&65536&&p!==(p=b[16].length+"")&&O(m,p),g[0]&6360064){y=se(b[16]);let k;for(k=0;k<y.length;k+=1){const F=Yl(b,y,k);C[k]?C[k].p(F,g):(C[k]=cn(F),C[k].c(),C[k].m(h,null))}for(;k<C.length;k+=1)C[k].d(1);C.length=y.length}},d(b){b&&w(e),je(C,b)}}}function fo(l){let e;return{c(){e=d("em"),e.textContent="Empty",r(e,"class","text-soft")},m(t,n){I(t,e,n)},p:K,d(t){t&&w(e)}}}function uo(l){let e,t=se(Array.isArray(l[47].content)?l[47].content:[l[47].content]),n=[];for(let s=0;s<t.length;s+=1)n[s]=an(Gl(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ve()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);I(s,e,i)},p(s,i){if(i[0]&65536){t=se(Array.isArray(s[47].content)?s[47].content:[s[47].content]);let o;for(o=0;o<t.length;o+=1){const a=Gl(s,t,o);n[o]?n[o].p(a,i):(n[o]=an(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&w(e),je(n,s)}}}function po(l){let e,t,n,s=l[11]==="user-"+l[43]?"Copied":"Copy",i,o,a,f=st(l[47])+"",u,_,p;function m(...v){return l[31](l[43],l[47],...v)}return{c(){e=d("div"),t=d("div"),n=d("button"),i=j(s),o=S(),a=d("pre"),u=j(f),r(n,"class","copy-raw-inline svelte-173f7ix"),r(n,"type","button"),r(t,"class","raw-inline-actions svelte-173f7ix"),r(a,"class","code-block raw-full-inline svelte-173f7ix"),r(e,"class","raw-inline svelte-173f7ix")},m(v,h){I(v,e,h),c(e,t),c(t,n),c(n,i),c(e,o),c(e,a),c(a,u),_||(p=ne(n,"click",m),_=!0)},p(v,h){l=v,h[0]&2048&&s!==(s=l[11]==="user-"+l[43]?"Copied":"Copy")&&O(i,s),h[0]&65536&&f!==(f=st(l[47])+"")&&O(u,f)},d(v){v&&w(e),_=!1,p()}}}function _o(l){let e,t=(l[49].text?l[49].text:JSON.stringify(l[49],null,4))+"",n;return{c(){e=d("pre"),n=j(t),r(e,"class","code-block svelte-173f7ix")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&65536&&t!==(t=(s[49].text?s[49].text:JSON.stringify(s[49],null,4))+"")&&O(n,t)},d(s){s&&w(e)}}}function mo(l){let e,t=se(pt(typeof l[49]=="string"?l[49]:l[49].text)),n=[];for(let s=0;s<t.length;s+=1)n[s]=rn(Ql(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ve()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);I(s,e,i)},p(s,i){if(i[0]&65536){t=se(pt(typeof s[49]=="string"?s[49]:s[49].text));let o;for(o=0;o<t.length;o+=1){const a=Ql(s,t,o);n[o]?n[o].p(a,i):(n[o]=rn(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&w(e),je(n,s)}}}function vo(l){let e,t=l[52].content+"",n;return{c(){e=d("pre"),n=j(t),r(e,"class","code-block svelte-173f7ix")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&65536&&t!==(t=s[52].content+"")&&O(n,t)},d(s){s&&w(e)}}}function ho(l){let e,t,n,s,i,o,a,f=l[52].content+"",u,_;return{c(){e=d("div"),t=d("div"),t.innerHTML='Attachments <span class="inline-note svelte-173f7ix">toggle to view</span>',n=S(),s=d("details"),i=d("summary"),i.textContent="Show / Hide Attachments Content",o=S(),a=d("pre"),u=j(f),_=S(),r(t,"class","special-block-header svelte-173f7ix"),r(i,"class","svelte-173f7ix"),r(a,"class","code-block special attachments-pre svelte-173f7ix"),r(s,"class","attachments-toggle svelte-173f7ix"),s.open=!0,r(e,"class","special-block attachments-block svelte-173f7ix"),r(e,"aria-label","Attachments")},m(p,m){I(p,e,m),c(e,t),c(e,n),c(e,s),c(s,i),c(s,o),c(s,a),c(a,u),c(e,_)},p(p,m){m[0]&65536&&f!==(f=p[52].content+"")&&O(u,f)},d(p){p&&w(e)}}}function bo(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Apply Patch Instructions",n=S(),s=d("pre"),o=j(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block applypatch-block svelte-173f7ix"),r(e,"aria-label","Apply Patch Instructions")},m(f,u){I(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&O(o,i)},d(f){f&&w(e)}}}function go(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Output Formatting",n=S(),s=d("pre"),o=j(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block outputfmt-block svelte-173f7ix"),r(e,"aria-label","Output Formatting")},m(f,u){I(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&O(o,i)},d(f){f&&w(e)}}}function ko(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Notebook Instructions",n=S(),s=d("pre"),o=j(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block notebook-block svelte-173f7ix"),r(e,"aria-label","Notebook Instructions")},m(f,u){I(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&O(o,i)},d(f){f&&w(e)}}}function yo(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Tool Use Instructions",n=S(),s=d("pre"),o=j(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block tooluse-block svelte-173f7ix"),r(e,"aria-label","Tool Use Instructions")},m(f,u){I(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&O(o,i)},d(f){f&&w(e)}}}function wo(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Instructions",n=S(),s=d("pre"),o=j(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block instr-block svelte-173f7ix"),r(e,"aria-label","Instructions")},m(f,u){I(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&O(o,i)},d(f){f&&w(e)}}}function Io(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="User Request",n=S(),s=d("pre"),o=j(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block userreq-block svelte-173f7ix"),r(e,"aria-label","User Request")},m(f,u){I(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&O(o,i)},d(f){f&&w(e)}}}function Co(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Reminder Instructions",n=S(),s=d("pre"),o=j(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block reminder-block svelte-173f7ix"),r(e,"aria-label","Reminder Instructions")},m(f,u){I(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&O(o,i)},d(f){f&&w(e)}}}function So(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Context",n=S(),s=d("pre"),o=j(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block ctx-block svelte-173f7ix"),r(e,"aria-label","Context Block")},m(f,u){I(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&O(o,i)},d(f){f&&w(e)}}}function jo(l){let e,t,n,s,i=_t(l[52].content)+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Workspace Info",n=S(),s=d("pre"),o=j(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block ws-block svelte-173f7ix"),r(e,"aria-label","Workspace Info")},m(f,u){I(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=_t(f[52].content)+"")&&O(o,i)},d(f){f&&w(e)}}}function No(l){let e,t,n,s,i=l[52].content+"",o,a;return{c(){e=d("div"),t=d("div"),t.textContent="Environment Info",n=S(),s=d("pre"),o=j(i),a=S(),r(t,"class","special-block-header svelte-173f7ix"),r(s,"class","code-block special svelte-173f7ix"),r(e,"class","special-block env-block svelte-173f7ix"),r(e,"aria-label","Environment Info")},m(f,u){I(f,e,u),c(e,t),c(e,n),c(e,s),c(s,o),c(e,a)},p(f,u){u[0]&65536&&i!==(i=f[52].content+"")&&O(o,i)},d(f){f&&w(e)}}}function rn(l){let e;function t(i,o){return i[52].kind==="environment"?No:i[52].kind==="workspace"?jo:i[52].kind==="context"?So:i[52].kind==="reminder"?Co:i[52].kind==="userreq"?Io:i[52].kind==="instructions"?wo:i[52].kind==="tooluse"?yo:i[52].kind==="notebook"?ko:i[52].kind==="outputfmt"?go:i[52].kind==="applypatch"?bo:i[52].kind==="attachments"?ho:vo}let n=t(l),s=n(l);return{c(){s.c(),e=ve()},m(i,o){s.m(i,o),I(i,e,o)},p(i,o){n===(n=t(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&w(e),s.d(i)}}}function an(l){let e,t;function n(o,a){var f;return a[0]&65536&&(e=null),e==null&&(e=!!(typeof o[49]=="string"||(f=o[49])!=null&&f.text&&qn.test(o[49].text))),e?mo:_o}let s=n(l,[-1,-1]),i=s(l);return{c(){i.c(),t=ve()},m(o,a){i.m(o,a),I(o,t,a)},p(o,a){s===(s=n(o,a))&&i?i.p(o,a):(i.d(1),i=s(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){o&&w(t),i.d(o)}}}function cn(l){let e,t,n,s,i,o,a=(l[16].length>1?l[43]+1:"")+"",f,u,_,p,m,v=l[10][l[43]]?"Hide Original":"Show Original",h,y,C,b,g,k,F;function P(...N){return l[30](l[43],...N)}function M(N,T){var q;return N[10][N[43]]?po:(q=N[47].content)!=null&&q.length?uo:fo}let R=M(l),A=R(l);return{c(){e=d("details"),t=d("summary"),n=d("span"),s=S(),i=d("h4"),o=j("User Prompt "),f=j(a),u=S(),_=d("span"),_.textContent="user",p=S(),m=d("button"),h=j(v),C=S(),b=d("div"),A.c(),g=S(),r(n,"class","mini-caret svelte-173f7ix"),r(i,"class","svelte-173f7ix"),r(_,"class","role-tag svelte-173f7ix"),r(m,"class","raw-toggle-btn inline svelte-173f7ix"),r(m,"type","button"),r(m,"data-debug",y=l[10][l[43]]?"open":"closed"),r(t,"class","svelte-173f7ix"),r(b,"class","prompt-body svelte-173f7ix"),r(e,"class","prompt-collapsible role-user svelte-173f7ix"),r(e,"data-kind","user-prompt")},m(N,T){I(N,e,T),c(e,t),c(t,n),c(t,s),c(t,i),c(i,o),c(i,f),c(t,u),c(t,_),c(t,p),c(t,m),c(m,h),c(e,C),c(e,b),A.m(b,null),c(e,g),k||(F=ne(m,"click",P),k=!0)},p(N,T){l=N,T[0]&65536&&a!==(a=(l[16].length>1?l[43]+1:"")+"")&&O(f,a),T[0]&1024&&v!==(v=l[10][l[43]]?"Hide Original":"Show Original")&&O(h,v),T[0]&1024&&y!==(y=l[10][l[43]]?"open":"closed")&&r(m,"data-debug",y),R===(R=M(l))&&A?A.p(l,T):(A.d(1),A=R(l),A&&(A.c(),A.m(b,null)))},d(N){N&&w(e),A.d(),k=!1,F()}}}function fn(l){let e,t,n,s,i,o,a,f=l[12].length+"",u,_,p,m,v=[],h=new Ji,y=se(l[12]);const C=b=>b[44].id+"-"+b[46];for(let b=0;b<y.length;b+=1){let g=Kl(l,y,b),k=C(g);h.set(k,v[b]=un(k,g))}return{c(){e=d("section"),t=d("details"),n=d("summary"),s=d("span"),i=d("h3"),o=j("Tool Calls "),a=d("span"),u=j(f),_=S(),p=d("div"),m=d("div");for(let b=0;b<v.length;b+=1)v[b].c();r(s,"class","caret svelte-173f7ix"),r(a,"class","count-badge svelte-173f7ix"),r(i,"class","svelte-173f7ix"),r(n,"class","svelte-173f7ix"),r(m,"class","tool-call-pairs-wrapper svelte-173f7ix"),r(p,"class","collapsible-body tool-calls-body svelte-173f7ix"),r(p,"role","region"),r(p,"aria-label","Tool call pairs"),r(t,"class","collapsible svelte-173f7ix"),r(t,"data-role","tool-calls"),r(t,"aria-label","Tool calls group"),r(e,"class","group tool-calls-group svelte-173f7ix")},m(b,g){I(b,e,g),c(e,t),c(t,n),c(n,s),c(n,i),c(i,o),c(i,a),c(a,u),c(t,_),c(t,p),c(p,m);for(let k=0;k<v.length;k+=1)v[k]&&v[k].m(m,null)},p(b,g){g[0]&4096&&f!==(f=b[12].length+"")&&O(u,f),g[0]&4096&&(y=se(b[12]),v=Kn(v,g,C,1,b,y,h,m,Wn,un,null,Kl))},d(b){b&&w(e);for(let g=0;g<v.length;g+=1)v[g].d()}}}function Ro(l){let e;return{c(){e=d("em"),e.textContent="None",r(e,"class","text-soft")},m(t,n){I(t,e,n)},p:K,d(t){t&&w(e)}}}function Ao(l){let e,t=l[44].argumentsRaw+"",n;return{c(){e=d("pre"),n=j(t),r(e,"class","code-block small svelte-173f7ix")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&4096&&t!==(t=s[44].argumentsRaw+"")&&O(n,t)},d(s){s&&w(e)}}}function To(l){let e,t=JSON.stringify(l[44].argumentsParsed,null,2)+"",n;return{c(){e=d("pre"),n=j(t),r(e,"class","code-block small svelte-173f7ix")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&4096&&t!==(t=JSON.stringify(s[44].argumentsParsed,null,2)+"")&&O(n,t)},d(s){s&&w(e)}}}function Oo(l){let e;return{c(){e=d("em"),e.textContent="No output found",r(e,"class","text-soft")},m(t,n){I(t,e,n)},p:K,d(t){t&&w(e)}}}function qo(l){let e,t=l[44].output+"",n;return{c(){e=d("pre"),n=j(t),r(e,"class","code-block small svelte-173f7ix")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&4096&&t!==(t=s[44].output+"")&&O(n,t)},d(s){s&&w(e)}}}function un(l,e){let t,n,s,i,o,a=(e[44].name||"Unnamed Tool")+"",f,u=e[44].id?` (${e[44].id})`:"",_,p,m,v,h,y,C,b,g,k,F,P,M,R,A,N,T;function q($,te){return $[44].argumentsParsed?To:$[44].argumentsRaw?Ao:Ro}let J=q(e),H=J(e);function B($,te){return $[44].output?qo:Oo}let ee=B(e),le=ee(e);return{key:l,first:null,c(){t=d("details"),n=d("summary"),s=d("span"),i=S(),o=d("h4"),f=j(a),_=j(u),p=S(),m=d("div"),v=d("div"),h=d("div"),y=d("div"),y.textContent="Arguments",C=S(),H.c(),b=S(),g=d("div"),k=d("div"),k.textContent="Result",F=S(),le.c(),P=S(),r(s,"class","mini-caret svelte-173f7ix"),r(o,"class","svelte-173f7ix"),r(n,"class","svelte-173f7ix"),r(y,"class","sub-label-normal svelte-173f7ix"),r(h,"class","tool-call-col args-col svelte-173f7ix"),r(k,"class","sub-label-normal svelte-173f7ix"),r(g,"class","tool-call-col result-col svelte-173f7ix"),r(v,"class","tool-call-columns svelte-173f7ix"),r(m,"class","prompt-body svelte-173f7ix"),r(t,"class","prompt-collapsible tool-call-item svelte-173f7ix"),r(t,"id",M="toolcall-"+(e[44].id||e[46])),r(t,"data-kind","tool-call-pair"),r(t,"data-round",R=e[44].roundNumber),r(t,"data-attachments-total",A=e[44].attachmentsTotal),r(t,"data-attachments-user",N=e[44].attachmentsFromPrevUser),r(t,"data-attachments-args",T=e[44].attachmentsInArgs),this.first=t},m($,te){I($,t,te),c(t,n),c(n,s),c(n,i),c(n,o),c(o,f),c(o,_),c(t,p),c(t,m),c(m,v),c(v,h),c(h,y),c(h,C),H.m(h,null),c(v,b),c(v,g),c(g,k),c(g,F),le.m(g,null),c(t,P)},p($,te){e=$,te[0]&4096&&a!==(a=(e[44].name||"Unnamed Tool")+"")&&O(f,a),te[0]&4096&&u!==(u=e[44].id?` (${e[44].id})`:"")&&O(_,u),J===(J=q(e))&&H?H.p(e,te):(H.d(1),H=J(e),H&&(H.c(),H.m(h,null))),ee===(ee=B(e))&&le?le.p(e,te):(le.d(1),le=ee(e),le&&(le.c(),le.m(g,null))),te[0]&4096&&M!==(M="toolcall-"+(e[44].id||e[46]))&&r(t,"id",M),te[0]&4096&&R!==(R=e[44].roundNumber)&&r(t,"data-round",R),te[0]&4096&&A!==(A=e[44].attachmentsTotal)&&r(t,"data-attachments-total",A),te[0]&4096&&N!==(N=e[44].attachmentsFromPrevUser)&&r(t,"data-attachments-user",N),te[0]&4096&&T!==(T=e[44].attachmentsInArgs)&&r(t,"data-attachments-args",T)},d($){$&&w(t),H.d(),le.d()}}}function dn(l){let e,t=l[14].length+"",n;return{c(){e=d("span"),n=j(t),r(e,"class","count-badge svelte-173f7ix")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&16384&&t!==(t=s[14].length+"")&&O(n,t)},d(s){s&&w(e)}}}function Po(l){let e;return{c(){e=d("em"),e.textContent="None"},m(t,n){I(t,e,n)},p:K,d(t){t&&w(e)}}}function Fo(l){let e,t,n,s,i,o,a=l[6]?"Hide Raw JSON":"Show Raw JSON",f,u,_,p,m,v,h,y,C,b,g,k,F,P=l[13].length&&pn(l);function M(H,B){return H[13].length?Mo:Lo}let R=M(l),A=R(l);function N(H,B){var ee;return B[0]&1&&(C=null),C==null&&(C=!!((ee=H[0])!=null&&ee.requestOptions&&Object.keys(H[0].requestOptions).filter(sr).length>0)),C?Uo:Do}let T=N(l,[-1,-1]),q=T(l),J=l[6]&&gn(l);return{c(){e=d("div"),t=d("div"),n=d("h4"),s=j("Tools "),P&&P.c(),i=S(),o=d("button"),f=j(a),u=S(),A.c(),_=S(),p=d("div"),m=S(),v=d("div"),h=d("div"),h.innerHTML='<h4 class="options-heading svelte-173f7ix">Other Request Options</h4>',y=S(),q.c(),b=S(),J&&J.c(),g=ve(),r(n,"class","tools-heading svelte-173f7ix"),r(o,"class","mini-btn alt svelte-173f7ix"),r(t,"class","tools-header-row svelte-173f7ix"),r(e,"class","tools-section svelte-173f7ix"),r(p,"class","options-divider svelte-173f7ix"),r(h,"class","section-heading svelte-173f7ix"),r(v,"class","other-options-section svelte-173f7ix")},m(H,B){I(H,e,B),c(e,t),c(t,n),c(n,s),P&&P.m(n,null),c(t,i),c(t,o),c(o,f),c(e,u),A.m(e,null),I(H,_,B),I(H,p,B),I(H,m,B),I(H,v,B),c(v,h),c(v,y),q.m(v,null),I(H,b,B),J&&J.m(H,B),I(H,g,B),k||(F=ne(o,"click",l[32]),k=!0)},p(H,B){H[13].length?P?P.p(H,B):(P=pn(H),P.c(),P.m(n,null)):P&&(P.d(1),P=null),B[0]&64&&a!==(a=H[6]?"Hide Raw JSON":"Show Raw JSON")&&O(f,a),R===(R=M(H))&&A?A.p(H,B):(A.d(1),A=R(H),A&&(A.c(),A.m(e,null))),T===(T=N(H,B))&&q?q.p(H,B):(q.d(1),q=T(H),q&&(q.c(),q.m(v,null))),H[6]?J?J.p(H,B):(J=gn(H),J.c(),J.m(g.parentNode,g)):J&&(J.d(1),J=null)},d(H){H&&(w(e),w(_),w(p),w(m),w(v),w(b),w(g)),P&&P.d(),A.d(),q.d(),J&&J.d(H),k=!1,F()}}}function pn(l){let e,t=l[13].length+"",n;return{c(){e=d("span"),n=j(t),r(e,"class","count-badge svelte-173f7ix")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&8192&&t!==(t=s[13].length+"")&&O(n,t)},d(s){s&&w(e)}}}function Lo(l){let e;return{c(){e=d("em"),e.textContent="No tools definitions",r(e,"class","text-soft")},m(t,n){I(t,e,n)},p:K,d(t){t&&w(e)}}}function Mo(l){let e,t,n,s=se(l[13]),i=[];for(let u=0;u<s.length;u+=1)i[u]=_n(Wl(l,s,u));function o(u,_){return u[7]!==null&&u[13][u[7]]?Ho:Eo}let a=o(l),f=a(l);return{c(){e=d("div");for(let u=0;u<i.length;u+=1)i[u].c();t=S(),f.c(),n=ve(),r(e,"class","tools-list svelte-173f7ix"),r(e,"role","tablist"),r(e,"aria-label","Available tools")},m(u,_){I(u,e,_);for(let p=0;p<i.length;p+=1)i[p]&&i[p].m(e,null);I(u,t,_),f.m(u,_),I(u,n,_)},p(u,_){if(_[0]&8576){s=se(u[13]);let p;for(p=0;p<s.length;p+=1){const m=Wl(u,s,p);i[p]?i[p].p(m,_):(i[p]=_n(m),i[p].c(),i[p].m(e,null))}for(;p<i.length;p+=1)i[p].d(1);i.length=s.length}a===(a=o(u))&&f?f.p(u,_):(f.d(1),f=a(u),f&&(f.c(),f.m(n.parentNode,n)))},d(u){u&&(w(e),w(t),w(n)),je(i,u),f.d(u)}}}function _n(l){let e,t=l[41].name+"",n,s,i,o,a;function f(){return l[33](l[43])}return{c(){e=d("button"),n=j(t),r(e,"class",s="tool-chip "+(l[7]===l[43]?"active":"")+" svelte-173f7ix"),r(e,"role","tab"),r(e,"aria-selected",i=l[7]===l[43])},m(u,_){I(u,e,_),c(e,n),o||(a=ne(e,"click",f),o=!0)},p(u,_){l=u,_[0]&8192&&t!==(t=l[41].name+"")&&O(n,t),_[0]&128&&s!==(s="tool-chip "+(l[7]===l[43]?"active":"")+" svelte-173f7ix")&&r(e,"class",s),_[0]&128&&i!==(i=l[7]===l[43])&&r(e,"aria-selected",i)},d(u){u&&w(e),o=!1,a()}}}function Eo(l){let e;return{c(){e=d("p"),e.textContent="Select a tool to view its details.",r(e,"class","text-soft"),Te(e,"margin","10px 0 0"),Te(e,"font-size",".7rem")},m(t,n){I(t,e,n)},p:K,d(t){t&&w(e)}}}function Ho(l){let e=l[7],t,n=hn(l);return{c(){n.c(),t=ve()},m(s,i){n.m(s,i),I(s,t,i)},p(s,i){i[0]&128&&Me(e,e=s[7])?(n.d(1),n=hn(s),n.c(),n.m(t.parentNode,t)):n.p(s,i)},d(s){s&&w(t),n.d(s)}}}function Jo(l){let e;return{c(){e=d("p"),e.innerHTML="<em>No description</em>",r(e,"class","tool-desc text-soft svelte-173f7ix")},m(t,n){I(t,e,n)},p:K,d(t){t&&w(e)}}}function Bo(l){let e,t=l[13][l[7]].description+"",n;return{c(){e=d("p"),n=j(t),r(e,"class","tool-desc svelte-173f7ix")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&8320&&t!==(t=s[13][s[7]].description+"")&&O(n,t)},d(s){s&&w(e)}}}function mn(l){let e,t,n,s=JSON.stringify(l[13][l[7]].parameters,null,2)+"",i;return{c(){e=d("div"),e.textContent="Parameters",t=S(),n=d("pre"),i=j(s),r(e,"class","sub-label svelte-173f7ix"),r(n,"class","code-block small svelte-173f7ix")},m(o,a){I(o,e,a),I(o,t,a),I(o,n,a),c(n,i)},p(o,a){a[0]&8320&&s!==(s=JSON.stringify(o[13][o[7]].parameters,null,2)+"")&&O(i,s)},d(o){o&&(w(e),w(t),w(n))}}}function vn(l){let e,t=JSON.stringify(l[13][l[7]].raw,null,2)+"",n;return{c(){e=d("pre"),n=j(t),r(e,"class","code-block small svelte-173f7ix"),Te(e,"margin-top","8px")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&8320&&t!==(t=JSON.stringify(s[13][s[7]].raw,null,2)+"")&&O(n,t)},d(s){s&&w(e)}}}function hn(l){let e,t,n,s,i=l[13][l[7]].name+"",o,a,f,u=l[13][l[7]].kind+"",_,p,m,v=l[8]?"Hide Raw Definition":"Show Raw Definition",h,y,C,b,g,k,F;function P(T,q){return T[13][T[7]].description?Bo:Jo}let M=P(l),R=M(l),A=l[13][l[7]].parameters&&mn(l),N=l[8]&&vn(l);return{c(){e=d("div"),t=d("header"),n=d("div"),s=d("h5"),o=j(i),a=S(),f=d("span"),_=j(u),p=S(),m=d("button"),h=j(v),y=S(),R.c(),C=S(),A&&A.c(),b=S(),N&&N.c(),r(s,"class","svelte-173f7ix"),r(f,"class","tool-kind-tag svelte-173f7ix"),r(n,"class","tool-title-area svelte-173f7ix"),r(m,"class","mini-btn"),r(t,"class","tool-detail-head svelte-173f7ix"),r(e,"class","tool-detail svelte-173f7ix"),r(e,"role","tabpanel"),r(e,"aria-label",g=l[13][l[7]].name+" tool details")},m(T,q){I(T,e,q),c(e,t),c(t,n),c(n,s),c(s,o),c(n,a),c(n,f),c(f,_),c(t,p),c(t,m),c(m,h),c(e,y),R.m(e,null),c(e,C),A&&A.m(e,null),c(e,b),N&&N.m(e,null),k||(F=ne(m,"click",l[34]),k=!0)},p(T,q){q[0]&8320&&i!==(i=T[13][T[7]].name+"")&&O(o,i),q[0]&8320&&u!==(u=T[13][T[7]].kind+"")&&O(_,u),q[0]&256&&v!==(v=T[8]?"Hide Raw Definition":"Show Raw Definition")&&O(h,v),M===(M=P(T))&&R?R.p(T,q):(R.d(1),R=M(T),R&&(R.c(),R.m(e,C))),T[13][T[7]].parameters?A?A.p(T,q):(A=mn(T),A.c(),A.m(e,b)):A&&(A.d(1),A=null),T[8]?N?N.p(T,q):(N=vn(T),N.c(),N.m(e,null)):N&&(N.d(1),N=null),q[0]&8320&&g!==(g=T[13][T[7]].name+" tool details")&&r(e,"aria-label",g)},d(T){T&&w(e),R.d(),A&&A.d(),N&&N.d(),k=!1,F()}}}function Do(l){let e;return{c(){e=d("em"),e.textContent="No additional options",r(e,"class","text-soft")},m(t,n){I(t,e,n)},p:K,d(t){t&&w(e)}}}function Uo(l){let e,t=se(Object.entries(l[0].requestOptions).filter(yn)),n=[];for(let s=0;s<t.length;s+=1)n[s]=bn(Vl(l,t,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();r(e,"class","options-list svelte-173f7ix")},m(s,i){I(s,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,i){if(i[0]&1){t=se(Object.entries(s[0].requestOptions).filter(yn));let o;for(o=0;o<t.length;o+=1){const a=Vl(s,t,o);n[o]?n[o].p(a,i):(n[o]=bn(a),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&w(e),je(n,s)}}}function $o(l){let e,t=String(l[38])+"",n;return{c(){e=d("span"),n=j(t),r(e,"class","option-value-text svelte-173f7ix")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&1&&t!==(t=String(s[38])+"")&&O(n,t)},d(s){s&&w(e)}}}function zo(l){let e,t;function n(o,a){return a[0]&1&&(e=null),e==null&&(e=!!(o[38].startsWith("http://")||o[38].startsWith("https://"))),e?xo:o[38].length>50?Zo:Xo}let s=n(l,[-1,-1]),i=s(l);return{c(){i.c(),t=ve()},m(o,a){i.m(o,a),I(o,t,a)},p(o,a){s===(s=n(o,a))&&i?i.p(o,a):(i.d(1),i=s(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){o&&w(t),i.d(o)}}}function Vo(l){let e,t=JSON.stringify(l[38],null,2)+"",n;return{c(){e=d("pre"),n=j(t),r(e,"class","code-block small svelte-173f7ix")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&1&&t!==(t=JSON.stringify(s[38],null,2)+"")&&O(n,t)},d(s){s&&w(e)}}}function Wo(l){let e,t;function n(o,a){return a[0]&1&&(e=null),e==null&&(e=!!(o[38].length<3&&o[38].every(ir))),e?tr:er}let s=n(l,[-1,-1]),i=s(l);return{c(){i.c(),t=ve()},m(o,a){i.m(o,a),I(o,t,a)},p(o,a){s===(s=n(o,a))&&i?i.p(o,a):(i.d(1),i=s(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){o&&w(t),i.d(o)}}}function Ko(l){let e,t=String(l[38])+"",n;return{c(){e=d("span"),n=j(t),r(e,"class","option-value-number svelte-173f7ix")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&1&&t!==(t=String(s[38])+"")&&O(n,t)},d(s){s&&w(e)}}}function Yo(l){let e,t=String(l[38])+"",n;return{c(){e=d("span"),n=j(t),r(e,"class","option-value-boolean svelte-173f7ix")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&1&&t!==(t=String(s[38])+"")&&O(n,t)},d(s){s&&w(e)}}}function Go(l){let e;return{c(){e=d("span"),e.textContent="undefined",r(e,"class","option-value-undefined svelte-173f7ix")},m(t,n){I(t,e,n)},p:K,d(t){t&&w(e)}}}function Qo(l){let e;return{c(){e=d("span"),e.textContent="null",r(e,"class","option-value-null svelte-173f7ix")},m(t,n){I(t,e,n)},p:K,d(t){t&&w(e)}}}function Xo(l){let e,t=l[38]+"",n;return{c(){e=d("span"),n=j(t),r(e,"class","option-value-text svelte-173f7ix")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&1&&t!==(t=s[38]+"")&&O(n,t)},d(s){s&&w(e)}}}function Zo(l){let e,t=l[38]+"",n;return{c(){e=d("pre"),n=j(t),r(e,"class","code-block small svelte-173f7ix")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&1&&t!==(t=s[38]+"")&&O(n,t)},d(s){s&&w(e)}}}function xo(l){let e,t=l[38]+"",n,s;return{c(){e=d("a"),n=j(t),r(e,"href",s=l[38]),r(e,"target","_blank"),r(e,"rel","noopener noreferrer"),r(e,"class","option-value-url svelte-173f7ix")},m(i,o){I(i,e,o),c(e,n)},p(i,o){o[0]&1&&t!==(t=i[38]+"")&&O(n,t),o[0]&1&&s!==(s=i[38])&&r(e,"href",s)},d(i){i&&w(e)}}}function er(l){let e,t=JSON.stringify(l[38],null,2)+"",n;return{c(){e=d("pre"),n=j(t),r(e,"class","code-block small svelte-173f7ix")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&1&&t!==(t=JSON.stringify(s[38],null,2)+"")&&O(n,t)},d(s){s&&w(e)}}}function tr(l){let e,t,n=l[38].map(String).join(", ")+"",s,i;return{c(){e=d("span"),t=j("["),s=j(n),i=j("]"),r(e,"class","option-value-array svelte-173f7ix")},m(o,a){I(o,e,a),c(e,t),c(e,s),c(e,i)},p(o,a){a[0]&1&&n!==(n=o[38].map(String).join(", ")+"")&&O(s,n)},d(o){o&&w(e)}}}function bn(l){let e,t,n=l[37]+"",s,i,o,a,f;function u(m,v){return v[0]&1&&(a=null),m[38]===null?Qo:m[38]===void 0?Go:typeof m[38]=="boolean"?Yo:typeof m[38]=="number"?Ko:(a==null&&(a=!!Array.isArray(m[38])),a?Wo:typeof m[38]=="object"?Vo:typeof m[38]=="string"?zo:$o)}let _=u(l,[-1,-1]),p=_(l);return{c(){e=d("div"),t=d("div"),s=j(n),i=S(),o=d("div"),p.c(),f=S(),r(t,"class","option-name svelte-173f7ix"),r(o,"class","option-value svelte-173f7ix"),r(e,"class","option-item svelte-173f7ix")},m(m,v){I(m,e,v),c(e,t),c(t,s),c(e,i),c(e,o),p.m(o,null),c(e,f)},p(m,v){v[0]&1&&n!==(n=m[37]+"")&&O(s,n),_===(_=u(m,v))&&p?p.p(m,v):(p.d(1),p=_(m),p&&(p.c(),p.m(o,null)))},d(m){m&&w(e),p.d()}}}function gn(l){let e,t=JSON.stringify(l[0].requestOptions,null,2)+"",n;return{c(){e=d("pre"),n=j(t),r(e,"class","code-block svelte-173f7ix"),Te(e,"margin-top","10px")},m(s,i){I(s,e,i),c(e,n)},p(s,i){i[0]&1&&t!==(t=JSON.stringify(s[0].requestOptions,null,2)+"")&&O(n,t)},d(s){s&&w(e)}}}function lr(l){let e,t,n,s;const i=[Di,Bi],o=[];function a(f,u){return f[2]?1:0}return e=a(l),t=o[e]=i[e](l),{c(){t.c(),n=ve()},m(f,u){o[e].m(f,u),I(f,n,u),s=!0},p(f,u){let _=e;e=a(f),e===_?o[e].p(f,u):(We(),we(o[_],1,1,()=>{o[_]=null}),Ke(),t=o[e],t?t.p(f,u):(t=o[e]=i[e](f),t.c()),ke(t,1),t.m(n.parentNode,n))},i(f){s||(ke(t),s=!0)},o(f){we(t),s=!1},d(f){f&&w(n),o[e].d(f)}}}const kn=180,qn=/<(environment_info|workspace_info|context|reminderInstructions|userRequest|instructions|toolUseInstructions|notebookInstructions|outputFormatting|applyPatchInstructions|attachments)>/;function nr(l){if(typeof l!="string")return{preview:"",truncated:!1};const t=l.replace(/\r\n/g,`
`).split(`
`);let s=(t.find(o=>o.trim().length>0)??t[0]??"").trim(),i=t.length>1;return s.length>kn&&(s=s.slice(0,kn).trimEnd(),i=!0),i&&(s=s.replace(/\s*$/,"")+"‚Ä¶"),{preview:s,truncated:i}}function pt(l){if(typeof l!="string")return[{kind:"other",content:l}];const e=/<(environment_info|workspace_info|context|reminderInstructions|userRequest|instructions|toolUseInstructions|notebookInstructions|outputFormatting|applyPatchInstructions|attachments)>([\s\S]*?)<\/\1>/g,t=[];let n=0,s;for(;(s=e.exec(l))!==null;){const[i,o,a]=s;if(s.index>n){const u=l.slice(n,s.index);u.trim().length&&t.push({kind:"other",content:u})}let f;switch(o){case"environment_info":f="environment";break;case"workspace_info":f="workspace";break;case"context":f="context";break;case"reminderInstructions":f="reminder";break;case"userRequest":f="userreq";break;case"instructions":f="instructions";break;case"toolUseInstructions":f="tooluse";break;case"notebookInstructions":f="notebook";break;case"outputFormatting":f="outputfmt";break;case"applyPatchInstructions":f="applypatch";break;case"attachments":f="attachments";break;default:f="other"}t.push({kind:f,content:a.trim()}),n=s.index+i.length}if(n<l.length){const i=l.slice(n);i.trim().length&&t.push({kind:"other",content:i})}return t.length?t:[{kind:"other",content:l}]}function _t(l){return typeof l!="string"?l:l.replace(/\t/g,"  ")}function st(l){if(!l||!l.content)return"";try{return l.content.map(e=>typeof e=="string"?e:e&&typeof e=="object"?e.text?e.text:JSON.stringify(e,null,2):String(e)).join(`
`)}catch{return""}}const sr=l=>!["tools","tool_choice","functions","functionDefinition","copilotFunctions"].includes(l),ir=l=>typeof l!="object",yn=([l])=>!["tools","tool_choice","functions","functionDefinition","copilotFunctions"].includes(l);function or(l,e,t){let n,s,i,o,a,f,u,_,p,m,v,h,y;Ne(l,Tn,E=>t(24,v=E)),Ne(l,Fe,E=>t(25,h=E)),Ne(l,Ue,E=>t(26,y=E));let C=!1,b=!1,g,k=!1,F;function P(){if(!s)return"";try{return JSON.stringify({request:s,response:s.response},null,2)}catch{return"/* Failed to serialize request */"}}async function M(){var ie;const E=P();t(4,b=!1);try{if((ie=navigator==null?void 0:navigator.clipboard)!=null&&ie.writeText)await navigator.clipboard.writeText(E);else{const V=document.createElement("textarea");V.value=E,V.style.position="fixed",V.style.top="-2000px",document.body.appendChild(V),V.focus(),V.select(),document.execCommand("copy"),document.body.removeChild(V)}t(3,C=!0)}catch(V){console.warn("Copy failed",V),t(4,b=!0)}clearTimeout(g),g=setTimeout(()=>{t(3,C=!1),t(4,b=!1)},1800)}let R=!1,A=null,N=!1,T={},q={};function J(E){t(9,T={...T,[E]:!T[E]}),console.debug("[toggleSystemRaw]",E,T[E])}function H(E){t(10,q={...q,[E]:!q[E]}),console.debug("[toggleUserRaw]",E,q[E])}let B=null;async function ee(E,ie,V){const oe=st(V);try{await navigator.clipboard.writeText(oe),t(11,B=E+"-"+ie),setTimeout(()=>{B===E+"-"+ie&&t(11,B=null)},1600)}catch(_e){console.warn("Failed to copy raw original",_e)}}const le=()=>t(5,k=!k),$=(E,ie)=>{ie.stopPropagation(),J(E)},te=(E,ie,V)=>{V.stopPropagation(),ee("sys",E,ie)},re=(E,ie)=>{ie.stopPropagation(),H(E)},be=(E,ie,V)=>{V.stopPropagation(),ee("user",E,ie)},U=()=>t(6,R=!R),Q=E=>{t(7,A=E),t(8,N=!1)},ce=()=>t(8,N=!N);return l.$$.update=()=>{var E,ie;l.$$.dirty[0]&100663296&&t(2,n=y[h.callIndex]),l.$$.dirty[0]&4&&t(0,s=n&&n.request),l.$$.dirty[0]&16777216&&t(18,i=v),l.$$.dirty[0]&1&&t(17,o=((E=s==null?void 0:s.requestMessages)==null?void 0:E.filter(V=>V.role==="system"))||[]),l.$$.dirty[0]&1&&t(16,a=((ie=s==null?void 0:s.requestMessages)==null?void 0:ie.filter(V=>V.role==="user"))||[]),l.$$.dirty[0]&8388609&&s!==F&&(t(5,k=!1),t(23,F=s)),l.$$.dirty[0]&1&&t(1,f=typeof(s==null?void 0:s.prompt)=="string"?s.prompt:""),l.$$.dirty[0]&2&&t(15,u=f&&f.trim()?nr(f):{preview:"",truncated:!1}),l.$$.dirty[0]&1&&t(14,_=(()=>{var _e,Ie;const V=s==null?void 0:s.requestOptions;if(!V)return[];const oe=new Set;if(Array.isArray(V.tools))for(const W of V.tools)(_e=W==null?void 0:W.function)!=null&&_e.name?oe.add(W.function.name):W!=null&&W.name&&oe.add(W.name);if(Array.isArray(V.functions))for(const W of V.functions)W!=null&&W.name&&oe.add(W.name);if(Array.isArray(V.copilotFunctions))for(const W of V.copilotFunctions)W!=null&&W.name&&oe.add(W.name);return(Ie=V.functionDefinition)!=null&&Ie.name&&oe.add(V.functionDefinition.name),Array.from(oe)})()),l.$$.dirty[0]&1&&t(13,p=(()=>{var Ie,W;const V=s==null?void 0:s.requestOptions;if(!V)return[];const oe=new Map;function _e(z){!(z!=null&&z.name)||oe.has(z.name)||oe.set(z.name,z)}if(Array.isArray(V.tools))for(const z of V.tools)(Ie=z==null?void 0:z.function)!=null&&Ie.name?_e({name:z.function.name,description:z.function.description,parameters:z.function.parameters,kind:z.type||"function",raw:z}):z!=null&&z.name&&_e({name:z.name,description:z.description,parameters:z.parameters,kind:z.type||"tool",raw:z});if(Array.isArray(V.functions))for(const z of V.functions)z!=null&&z.name&&_e({name:z.name,description:z.description,parameters:z.parameters||z.parametersSchema,kind:"function",raw:z});if(Array.isArray(V.copilotFunctions))for(const z of V.copilotFunctions)z!=null&&z.name&&_e({name:z.name,description:z.description,parameters:z.parameters||z.parametersSchema,kind:"copilotFunction",raw:z});if((W=V.functionDefinition)!=null&&W.name){const z=V.functionDefinition;_e({name:z.name,description:z.description,parameters:z.parameters,kind:"functionDefinition",raw:z})}return Array.from(oe.values())})()),l.$$.dirty[0]&1&&t(12,m=(()=>{var Ce,ue;if(!(s!=null&&s.requestMessages))return[];const V=s.requestMessages,oe=new Map;for(const D of V)if(D.role==="tool"){const X=D.tool_call_id||D.id;if(!X)continue;const Y=[];if(Array.isArray(D.content))for(const G of D.content)typeof G=="string"?Y.push(G):G!=null&&G.text?Y.push(G.text):Y.push(JSON.stringify(G));else typeof D.content=="string"?Y.push(D.content):(Ce=D.content)!=null&&Ce.text&&Y.push(D.content.text);oe.has(X)||oe.set(X,[]),oe.get(X).push(...Y)}function _e(D){if(!(D!=null&&D.content))return 0;let X=0;for(const Y of D.content){let G="";if(typeof Y=="string")G=Y;else if(Y!=null&&Y.text)G=Y.text;else continue;G&&(G.includes("&lt;attachments")||G.includes("&lt;attachment"))&&(G=G.replace(/&lt;/g,"<").replace(/&gt;/g,">"));const de=G.match(/<attachments>|<attachment\b/gi);de&&(X+=de.length)}return X}function Ie(D){if(!D||typeof D!="string")return 0;let X=D;(X.includes("&lt;attachments")||X.includes("&lt;attachment"))&&(X=X.replace(/&lt;/g,"<").replace(/&gt;/g,">"));const Y=X.match(/<attachments>|<attachment\b/gi);return Y?Y.length:0}const W=[];let z=0,Re=null;for(let D=0;D<V.length;D++){const X=V[D];if(X.role==="assistant"&&Array.isArray(X.tool_calls)&&X.tool_calls.length){let Y=-1;for(let fe=D-1;fe>=0;fe--)if(V[fe].role==="user"){Y=fe;break}const G=Y>=0?V[Y]:null,de=G?_e(G):0;for(const fe of X.tool_calls){const pe=fe.id||fe.tool_call_id||fe.toolCallId,me=fe.function||fe.fn||{},ge=me.name||fe.name,ae=me.arguments||fe.arguments;let L=null;if(typeof ae=="string")try{L=JSON.parse(ae)}catch{}else ae&&typeof ae=="object"&&(L=ae);const x=pe&&oe.get(pe)?oe.get(pe):[],ye=typeof ae=="string"?Ie(ae):0,Ae=de+ye,he={id:pe,name:ge,argumentsRaw:ae,argumentsParsed:L,outputParts:x,output:x.join(`
`),prevUserIndex:Y,attachmentsFromPrevUser:de,attachmentsInArgs:ye,attachmentsTotal:Ae,attachmentsCount:Ae},Z=W[W.length-1],Se=Y!==-1&&Y!==Re;Ae>0&&(Se||!Z||Z&&Z.attachmentsTotal===0)?(z+=1,he.isRoundBoundary=!0,he.roundNumber=z,Re=Y):Z&&(he.roundNumber=Z.roundNumber),W.push(he)}}}if(!W.some(D=>D.isRoundBoundary)){const D=W.find(X=>(X.attachmentsTotal||0)>0);if(D){z=1,D.isRoundBoundary=!0,D.roundNumber=1;let X=!1;for(const Y of W)Y===D&&(X=!0),X&&!Y.roundNumber&&(Y.roundNumber=1)}}if(!W.length&&Array.isArray((ue=s==null?void 0:s.response)==null?void 0:ue.copilotFunctionCalls)&&s.response.copilotFunctionCalls.length){const D=s.response.copilotFunctionCalls;let X=-1;for(let pe=V.length-1;pe>=0;pe--)if(V[pe].role==="user"){X=pe;break}const Y=X>=0?V[X]:null,G=Y?_e(Y):0;let de=!1,fe=0;for(let pe=0;pe<D.length;pe++){const me=D[pe],ge=me.id||me.tool_call_id||me.callId||"resp_"+pe,ae=me.name||me.function&&me.function.name||"Unnamed Tool",L=me.arguments||me.function&&me.function.arguments||"";let x=null;if(typeof L=="string")try{x=JSON.parse(L)}catch{}else L&&typeof L=="object"&&(x=L);const ye=typeof L=="string"?Ie(L):0,Ae=G+ye,he={id:ge,name:ae,argumentsRaw:L,argumentsParsed:x,outputParts:[],output:"",prevUserIndex:X,attachmentsFromPrevUser:G,attachmentsInArgs:ye,attachmentsTotal:Ae,attachmentsCount:Ae,source:"response"};!de&&Ae>0?(fe=1,he.isRoundBoundary=!0,he.roundNumber=1,de=!0):de&&(he.roundNumber=fe),W.push(he)}if(!W.some(pe=>pe.isRoundBoundary)&&G>0&&W.length){W[0].isRoundBoundary=!0,W[0].roundNumber=1;for(let pe=1;pe<W.length;pe++)W[pe].roundNumber=1}}return W})())},[s,f,n,C,b,k,R,A,N,T,q,B,m,p,_,u,a,o,i,M,J,H,ee,F,v,h,y,le,$,te,re,be,U,Q,ce]}class rr extends Ge{constructor(e){super(),Ye(this,e,or,lr,Me,{},null,[-1,-1])}}function wn(l){let e,t,n;return{c(){e=d("button"),e.textContent="‚úï",r(e,"class","clear")},m(s,i){I(s,e,i),t||(n=ne(e,"click",l[3]),t=!0)},p:K,d(s){s&&w(e),t=!1,n()}}}function ar(l){let e,t,n,s,i,o=l[0]&&wn(l);return{c(){e=d("div"),t=d("input"),n=S(),o&&o.c(),r(t,"placeholder",l[1]),r(t,"class","svelte-xamc1i"),r(e,"class","search-bar svelte-xamc1i")},m(a,f){I(a,e,f),c(e,t),Dt(t,l[0]),c(e,n),o&&o.m(e,null),s||(i=[ne(t,"input",l[5]),ne(t,"input",l[2])],s=!0)},p(a,[f]){f&2&&r(t,"placeholder",a[1]),f&1&&t.value!==a[0]&&Dt(t,a[0]),a[0]?o?o.p(a,f):(o=wn(a),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i:K,o:K,d(a){a&&w(e),o&&o.d(),s=!1,qe(i)}}}function cr(l,e,t){let{value:n=""}=e,{placeholder:s=""}=e;const i="function";function o(u){t(0,n=u.target.value)}function a(){t(0,n="")}function f(){n=this.value,t(0,n)}return l.$$set=u=>{"value"in u&&t(0,n=u.value),"placeholder"in u&&t(1,s=u.placeholder)},[n,s,o,a,i,f]}class In extends Ge{constructor(e){super(),Ye(this,e,cr,ar,Me,{value:0,placeholder:1,type:4})}get type(){return this.$$.ctx[4]}}function Cn(l){let e,t,n,s,i,o,a=(l[6]?l[0]+1:0)+"",f,u,_=l[1].length+"",p,m,v,h,y,C,b,g,k,F,P,M;return{c(){e=d("div"),t=d("div"),n=d("div"),s=d("span"),s.textContent="Filtered",i=S(),o=d("span"),f=j(a),u=j(" / "),p=j(_),m=S(),v=d("div"),h=d("button"),y=j("‚óÄ"),b=S(),g=d("button"),k=j("‚ñ∂"),r(s,"class","label"),r(o,"class","count-mini"),r(n,"class","status-item"),r(t,"class","global-status nav-side-status"),r(t,"aria-label","Filtered navigation status"),r(h,"class","nav-side-btn nav-filtered-btn"),h.disabled=C=l[0]<=0,r(h,"title","Previous (Filtered)"),r(g,"class","nav-side-btn nav-filtered-btn"),g.disabled=F=l[0]>=l[1].length-1,r(g,"title","Next (Filtered)"),r(v,"class","nav-buttons-row"),r(e,"class","nav-side nav-right-filtered")},m(R,A){I(R,e,A),c(e,t),c(t,n),c(n,s),c(n,i),c(n,o),c(o,f),c(o,u),c(o,p),c(e,m),c(e,v),c(v,h),c(h,y),c(v,b),c(v,g),c(g,k),P||(M=[ne(h,"click",l[22]),ne(g,"click",l[23])],P=!0)},p(R,A){A&65&&a!==(a=(R[6]?R[0]+1:0)+"")&&O(f,a),A&2&&_!==(_=R[1].length+"")&&O(p,_),A&1&&C!==(C=R[0]<=0)&&(h.disabled=C),A&3&&F!==(F=R[0]>=R[1].length-1)&&(g.disabled=F)},d(R){R&&w(e),P=!1,qe(M)}}}function fr(l){let e;return{c(){e=d("div"),e.innerHTML='<p class="placeholder-hint">Load a file to see tool calls grouped into rounds.</p>',r(e,"class","overview-empty-placeholder")},m(t,n){I(t,e,n)},i:K,o:K,d(t){t&&w(e)}}}function ur(l){let e,t,n;return t=new Ns({props:{variant:"panel"}}),{c(){e=d("div"),ze(t.$$.fragment),r(e,"class","toolcalls-scroll")},m(s,i){I(s,e,i),Je(t,e,null),n=!0},i(s){n||(ke(t.$$.fragment,s),n=!0)},o(s){we(t.$$.fragment,s),n=!1},d(s){s&&w(e),Be(t)}}}function dr(l){let e,t;return e=new rr({}),{c(){ze(e.$$.fragment)},m(n,s){Je(e,n,s),t=!0},i(n){t||(ke(e.$$.fragment,n),t=!0)},o(n){we(e.$$.fragment,n),t=!1},d(n){Be(e,n)}}}function pr(l){let e;return{c(){e=d("div"),e.innerHTML='<h2>No data loaded</h2> <p>Drag &amp; drop a log file to begin.</p> <p class="file-hint">Supported: <code>sim‚Äërequests-*.txt</code>, <code>*‚Äëfetchlog‚Äë*.txt</code>, or any valid JSON log file</p>',r(e,"class","empty-state tall")},m(t,n){I(t,e,n)},i:K,o:K,d(t){t&&w(e)}}}function Sn(l){let e,t,n;return{c(){e=d("button"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="18 15 12 9 6 15"></polyline></svg>',r(e,"class","back-to-top"),r(e,"aria-label","Back to top"),r(e,"title","Back to top")},m(s,i){I(s,e,i),t||(n=ne(e,"click",mr),t=!0)},p:K,d(s){s&&w(e),t=!1,n()}}}function _r(l){let e,t,n,s,i,o,a=l[7]===0?"0 / 0":`${l[8]+1} / ${l[7]}`,f,u,_,p,m,v,h,y,C,b,g,k,F,P,M,R,A,N,T,q,J,H,B,ee,le,$,te,re,be,U,Q,ce,E,ie,V,oe,_e,Ie,W,z,Re,Ce,ue,D,X,Y,G=l[1].length>0&&Cn(l);T=new ks({}),T.$on("loadText",l[24]);function de(Z){l[25](Z)}let fe={type:"function",placeholder:"Function search"};l[11].fn!==void 0&&(fe.value=l[11].fn),H=new In({props:fe}),He.push(()=>zt(H,"value",de));function pe(Z){l[26](Z)}let me={type:"response",placeholder:"Response search"};l[11].response!==void 0&&(me.value=l[11].response),le=new In({props:me}),He.push(()=>zt(le,"value",pe));const ge=[ur,fr],ae=[];function L(Z,Se){return Z[12].length>0?0:1}re=L(l),be=ae[re]=ge[re](l);const x=[pr,dr],ye=[];function Ae(Z,Se){return Z[12].length===0?0:1}ce=Ae(l),E=ye[ce]=x[ce](l);let he=l[2]&&Sn();return{c(){e=d("div"),t=d("div"),n=d("div"),s=d("span"),s.textContent="All",i=S(),o=d("span"),f=j(a),u=S(),_=d("div"),p=d("div"),m=d("button"),v=j("‚óÄ"),y=S(),C=d("button"),b=j("‚ñ∂"),k=S(),G&&G.c(),F=S(),P=d("div"),M=d("aside"),R=d("div"),A=d("div"),N=d("div"),ze(T.$$.fragment),q=S(),J=d("div"),ze(H.$$.fragment),ee=S(),ze(le.$$.fragment),te=S(),be.c(),U=S(),Q=d("main"),E.c(),ie=S(),V=d("aside"),V.innerHTML="",oe=S(),_e=d("footer"),Ie=j("Total calls: "),W=j(l[10]),z=j(". Current: "),Re=j(l[9]),Ce=j("."),ue=S(),he&&he.c(),r(s,"class","label"),r(o,"class","count-mini"),r(n,"class","status-item"),r(t,"class","global-status nav-left-status"),r(t,"aria-label","Global navigation status (All)"),r(m,"class","nav-side-btn nav-all-btn"),m.disabled=h=l[8]<=0,r(m,"title","Previous (All)"),r(C,"class","nav-side-btn nav-all-btn"),C.disabled=g=l[8]>=l[7]-1,r(C,"title","Next (All)"),r(p,"class","nav-buttons-row"),r(_,"class","nav-side nav-left-all nav-left-nav"),Te(_,"opacity",l[5]?1:0),r(N,"class","ingest-block"),r(J,"class","filters-stack"),r(J,"aria-label","Filtering controls"),r(A,"class","ingest-filters-grid"),r(A,"aria-label","Data load and filters"),r(R,"class","left-stack"),r(M,"class","overview-pane"),r(M,"aria-label","Tool calls overview & controls"),r(Q,"class","main-content"),r(Q,"aria-label","Request detail panel"),r(P,"class","workspace-split"),r(V,"class","sidebar compact"),r(_e,"class","footer"),r(e,"class","app-shell")},m(Z,Se){I(Z,e,Se),c(e,t),c(t,n),c(n,s),c(n,i),c(n,o),c(o,f),l[18](t),c(e,u),c(e,_),c(_,p),c(p,m),c(m,v),c(p,y),c(p,C),c(C,b),l[21](_),c(e,k),G&&G.m(e,null),c(e,F),c(e,P),c(P,M),c(M,R),c(R,A),c(A,N),Je(T,N,null),c(A,q),c(A,J),Je(H,J,null),c(J,ee),Je(le,J,null),c(R,te),ae[re].m(R,null),c(P,U),c(P,Q),ye[ce].m(Q,null),c(e,ie),c(e,V),c(e,oe),c(e,_e),c(_e,Ie),c(_e,W),c(_e,z),c(_e,Re),c(_e,Ce),c(e,ue),he&&he.m(e,null),D=!0,X||(Y=[ne(m,"click",l[19]),ne(C,"click",l[20])],X=!0)},p(Z,[Se]){(!D||Se&384)&&a!==(a=Z[7]===0?"0 / 0":`${Z[8]+1} / ${Z[7]}`)&&O(f,a),(!D||Se&256&&h!==(h=Z[8]<=0))&&(m.disabled=h),(!D||Se&384&&g!==(g=Z[8]>=Z[7]-1))&&(C.disabled=g),(!D||Se&32)&&Te(_,"opacity",Z[5]?1:0),Z[1].length>0?G?G.p(Z,Se):(G=Cn(Z),G.c(),G.m(e,F)):G&&(G.d(1),G=null);const Et={};!B&&Se&2048&&(B=!0,Et.value=Z[11].fn,Ut(()=>B=!1)),H.$set(Et);const Ht={};!$&&Se&2048&&($=!0,Ht.value=Z[11].response,Ut(()=>$=!1)),le.$set(Ht);let vt=re;re=L(Z),re!==vt&&(We(),we(ae[vt],1,1,()=>{ae[vt]=null}),Ke(),be=ae[re],be||(be=ae[re]=ge[re](Z),be.c()),ke(be,1),be.m(R,null));let ht=ce;ce=Ae(Z),ce!==ht&&(We(),we(ye[ht],1,1,()=>{ye[ht]=null}),Ke(),E=ye[ce],E||(E=ye[ce]=x[ce](Z),E.c()),ke(E,1),E.m(Q,null)),(!D||Se&1024)&&O(W,Z[10]),(!D||Se&512)&&O(Re,Z[9]),Z[2]?he?he.p(Z,Se):(he=Sn(),he.c(),he.m(e,null)):he&&(he.d(1),he=null)},i(Z){D||(ke(T.$$.fragment,Z),ke(H.$$.fragment,Z),ke(le.$$.fragment,Z),ke(be),ke(E),D=!0)},o(Z){we(T.$$.fragment,Z),we(H.$$.fragment,Z),we(le.$$.fragment,Z),we(be),we(E),D=!1},d(Z){Z&&w(e),l[18](null),l[21](null),G&&G.d(),Be(T),Be(H),Be(le),ae[re].d(),ye[ce].d(),he&&he.d(),X=!1,qe(Y)}}}function mr(){window.scrollTo({top:0,behavior:"smooth"})}function vr(l,e,t){let n,s,i,o,a,f,u,_,p,m,v,h,y;Ne(l,De,$=>t(14,_=$)),Ne(l,Qe,$=>t(15,p=$)),Ne(l,Fe,$=>t(16,m=$)),Ne(l,Ue,$=>t(17,v=$)),Ne(l,ct,$=>t(11,h=$)),Ne(l,ot,$=>t(12,y=$));let C=!1;Ct(()=>{const $=()=>{t(2,C=window.scrollY>300)};return window.addEventListener("scroll",$),()=>{window.removeEventListener("scroll",$)}});function b($){hs($),setTimeout(P,30)}let g,k,F=!1;function P(){if(!g)return;const $=window.innerHeight,te=g.offsetHeight||0;let re=($-te)/2;if(re<20&&(re=20),t(3,g.style.top=`${Math.round(re)}px`,g),k){const be=k.offsetHeight||0;let U=re-be-16;U<20&&(U=20),t(4,k.style.top=`${Math.round(U)}px`,k)}t(5,F=!0)}let M;function R(){cancelAnimationFrame(M),M=requestAnimationFrame(P)}Ct(()=>(P(),window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)));function A($){He[$?"unshift":"push"](()=>{k=$,t(4,k)})}const N=()=>rs(),T=()=>as();function q($){He[$?"unshift":"push"](()=>{g=$,t(3,g)})}const J=()=>cs(),H=()=>fs(),B=$=>b($.detail);function ee($){l.$$.not_equal(h.fn,$)&&(h.fn=$,ct.set(h))}function le($){l.$$.not_equal(h.response,$)&&(h.response=$,ct.set(h))}return l.$$.update=()=>{l.$$.dirty&131072&&t(10,n=v.length),l.$$.dirty&65536&&t(9,s=m.callIndex+1),l.$$.dirty&65536&&t(8,i=m.callIndex||0),l.$$.dirty&65536&&t(7,o=m.totalAll||0),l.$$.dirty&32768&&t(1,a=p||[]),l.$$.dirty&16384&&t(0,f=_||-1),l.$$.dirty&3&&t(6,u=a.length>0&&f!==-1)},[f,a,C,g,k,F,u,o,i,s,n,h,y,b,_,p,m,v,A,N,T,q,J,H,B,ee,le]}class hr extends Ge{constructor(e){super(),Ye(this,e,vr,_r,Me,{})}}new hr({target:document.getElementById("app")});
